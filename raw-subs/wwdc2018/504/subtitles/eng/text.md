# Creating Audio Apps for watchOS

## Summary
Apps in watchOS 5 have control over audio playback like never before.  With a full-fledged background mode for local audio playback using AVFoundation, people can listen to content on the go right from Apple Watch. Learn how to use the new volume control and how to respond to MediaRemote commands. Dive into best practices for getting audio onto Apple Watch with URLSession and update progress when using WatchConnectivity to transfer files from iPhone. Explore how to control playback on iPhone from your app with the new Now Playing view.

## Info
* Media
* WWDC 2018 - Session 504 - watchOS
* https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/

## Text
 [[ Music ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=7) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=20) [&gt;&gt; Hi, everyone.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=27) [My name is Neil Desai, and I'm a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=28) [watchOS Frameworks engineer, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=29) [I'm really excited to be here to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=31) [talk about how to create some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=33) [great audio apps for watchOS.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=34) [And honestly, we've been waiting](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=36) [a little over a year to give](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=38) [this talk, so I'm really happy](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=39) [to be here, so let's just jump](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=40) [right in.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=42) [In watchOS 4, we unveiled a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=44) [revamped music and radio app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=46) [And in watchOS 5, we unveiled a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=48) [brand-new podcast app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=51) [And we're finding that users](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=52) [absolutely love being able to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=53) [play audio on the go or in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=56) [middle of a workout.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=58) [And we're also finding that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=62) [users really like to be able to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=62) [remote control some playback](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=64) [that's occurring on another](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=65) [device.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=66) [For example, your iPhone or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=67) [HomePod.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=69) [And I especially really like](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=70) [this feature.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=71) [I love just being able to play](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=72) [some music out of my iPhone and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=73) [then being able to control the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=75) [volume, for instance, directly](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=77) [with my watch.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=78) [That's a great feature.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=79) [And today, with watchOS 5, we're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=81) [going to show you how to build a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=83) [great experience like you saw on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=85) [the keynote like Audible was](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=87) [able to make and just like](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=88) [Pandora was able to make.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=90) [And so they were able to use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=92) [some of the new tools available](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=94) [in watchOS 5.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=96) [And today, we're going to talk](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=97) [about how we can do the same](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=99) [sort of thing.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=100) [And to do that, we're going to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=102) [talk about four major themes.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=103) [We're going to talk about our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=104) [native controls and how we can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=106) [now embed our system controls](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=108) [directly within our application.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=110) [We're going to talk about, how](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=112) [do we get content over to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=113) [watch?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=115) [And then, once we have that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=116) [content, how do we actually play](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=117) [something back for our user?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=119) [something back for our user?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=119) [And lastly, we're going to go](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=121) [over the whole audio experience](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=122) [and how to build a really rich](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=124) [experience for our users that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=125) [integrates well throughout the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=127) [entire system.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=128) [So let's talk about our native](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=131) [controls.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=132) [In watchOS 5, we're unveiling](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=135) [two new controls that you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=137) [embed directly within your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=139) [application.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=140) [And the first is a Now Playing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=141) [view which you can embed within](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=143) [your watchOS app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=145) [And this is really great for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=147) [content that may not be yours,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=149) [for instance.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=151) [And you can also embed a volume](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=152) [control so you can build your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=154) [own custom UI to allow your user](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=156) [to control the volume.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=158) [And you might be wondering for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=161) [that first view, that Now](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=162) [Playing view, when exactly would](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=163) [I ever want to allow my user to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=165) [control some audio, but the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=167) [content's not exactly mine?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=169) [Well, let me give you an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=172) [example.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=173) [We do this ourselves in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=173) [workout app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=174) [So I'm in the middle of a HIIT](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=175) [workout.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=176) [I swipe to the left.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=177) [I get my power song, "Eye of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=178) [I get my power song, "Eye of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=178) [Tiger," and I'm a little bit of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=180) [a dork, so I actually do listen](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=182) [to this song sometimes when I](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=183) [work out.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=185) [I love it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=185) [And this is a great experience.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=186) [You just swipe over, and you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=187) [allow your user to control the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=188) [playback.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=191) [And so if you're building a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=192) [workout app, and you can do](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=193) [this, build the same sort of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=195) [experience, just embedding the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=196) [Now Playing view directly within](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=198) [your application.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=199) [Let's talk about the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=202) [characteristics of that Now](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=202) [Playing view.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=204) [And the first thing I want to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=204) [note is that the Digital Crown](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=206) [controls the volume.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=208) [And because of that, you're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=210) [going to want to place this view](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=211) [in a non-scrolling controller.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=212) [So for instance, it's, in my app](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=214) [here, I've actually just pushed](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=216) [directly to a controller that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=218) [has the Now Playing view in it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=220) [Or you could reload directly to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=221) [a page that has this controller](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=223) [or place it in a page interface](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=225) [similar to the workout app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=227) [And this view is going to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=229) [automatically switch the sources](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=232) [on behalf.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=234) [So no matter if it's the iPhone](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=234) [or the watch that's providing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=236) [the source of audio playback,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=238) [this view's going to take care](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=240) [of it for you.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=241) [You don't have to worry about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=241) [that.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=243) [And lastly, the Now Playing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=244) [view, it's going to grab your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=246) [application's tint color so it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=247) [fits within the look and feel of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=249) [your application.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=250) [Now, to use this, let's see how](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=253) [it looks in Interface Builder.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=255) [Here we are in Xcode, and I've](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=257) [selected my Object Library, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=259) [then I can just drag and drop my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=261) [Now Playing view into a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=262) [controller.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=264) [Once my user navigates to that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=265) [view, everything will be done](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=266) [for you.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=268) [The system will take care of it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=268) [all.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=269) [And it really is just that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=270) [simple.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=271) [So that's our Now Playing view.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=273) [Now, let's talk about our volume](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=275) [control.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=276) [So the volume control can be set](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=278) [up to either control the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=279) [iPhone's volume or the local](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=281) [watch's volume.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=283) [And just like our Now Playing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=284) [view, we're going to grab your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=286) [application's tint color and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=287) [apply it appropriately to this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=288) [particular control.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=291) [And in the case of when the user](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=294) [is actually scrolling with the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=296) [Digital Crown, then, in that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=298) [Digital Crown, then, in that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=298) [case, the volume control will be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=300) [tinted to the system green color](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=301) [to match the rest of the system.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=304) [So for the volume control, to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=306) [actually decide when or not to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=309) [control the local or iPhone's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=312) [volume, there, in the Attributes](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=314) [Inspector is a check box for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=317) [Controls Local Volume.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=318) [So if you leave it unchecked,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=320) [then the volume control will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=321) [control the iPhone's content.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=322) [And if you check it off, then](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=325) [the volume control will control](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=327) [the watch's content.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=328) [And so if your application might](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=330) [have multiple scenarios where it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=332) [could either remote control some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=334) [content or play some content](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=335) [locally, then, in that case, you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=337) [might have different controls](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=339) [with different volume controls](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=340) [within them, and you make those](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=341) [decisions at design time.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=343) [All right, so those are really](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=345) [our system controls, so now](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=347) [let's talk about, how do we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=349) [actually get content over to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=350) [device itself?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=351) [So I've been building a museum](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=355) [guided tour type application.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=357) [I want to allow my user to just](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=359) [I want to allow my user to just](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=359) [tap in, listen to a guided tour](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=361) [while they're in the museum, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=363) [it's a great experience on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=364) [watch because I can just put my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=366) [phone away.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=368) [I can just have the entire](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=369) [experience on my wrist and enjoy](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=370) [the beautiful art around me.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=372) [And let's say I had a, like a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=375) [buffer that allowed my user to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=377) [download the content on, when](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=379) [they're on their way to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=381) [museum.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=382) [In that case, I would want to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=384) [use URLSession and grab that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=385) [directly from my server, all my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=387) [content, and download it to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=389) [watch itself.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=391) [So let's jump into some code and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=393) [see how we could do that.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=395) [So here we are.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=398) [I have an IBAction which is tied](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=399) [to my WK Interface button.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=401) [And the first thing you'll](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=403) [notice is I set my frontmost](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=404) [timeout extended property to be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=406) [true.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=408) [And we're going to talk a little](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=410) [bit more about frontmost later,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=411) [but the thing I wanted to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=412) [mention is that the user has](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=413) [made a user interaction, so it's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=415) [fair to say that the user, next](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=417) [time they raise their wrist,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=419) [time they raise their wrist,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=419) [would want to see our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=420) [application.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=421) [And because we're extending the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=422) [frontmost timeout, then we're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=424) [getting some additional priority](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=425) [by the system for our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=427) [URLSessions.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=428) [And again, I'll talk a little](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=429) [bit more about that later.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=430) [And the user can, of course, put](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=432) [their wrist down at any point,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=435) [so I want to make sure to use a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=437) [backgroundSession.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=438) [So that way, when my application](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=439) [goes into the background, my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=441) [download is still occurring.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=442) [And then, I can just download](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=444) [that task and appropriately](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=446) [resume it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=447) [And when you're building an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=449) [experience like this, you want](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=450) [to indicate download progress](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=452) [and, of course, handle any](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=454) [errors.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=455) [So let's look at how to do that.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=456) [So here we are.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=460) [I have my class, my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=461) [DownloadManager, which is my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=461) [SessionTaskDelegate and my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=464) [URLSessionDownload Delegate.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=465) [And in the first function, I can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=467) [actually grab the total bytes](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=469) [written and divide it by the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=471) [total bytes expected to write.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=472) [So that way, I can get the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=474) [progress of my particular](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=475) [download whenever URLSession](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=476) [calls me and gives me that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=479) [calls me and gives me that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=479) [information.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=480) [And when I do this, I can just](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=481) [update progress for my user in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=484) [my UI.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=486) [And then, when the download](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=487) [completes, I can, of course,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=490) [manage the file, and I might](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=492) [want to post a notification](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=493) [alerting my user that there's a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=495) [playback opportunity.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=497) [And, of course, I'm also going](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=498) [to be called into a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=501) [didCompleteWithError, so I just](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=502) [want to clean up appropriately](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=504) [and handle any errors at that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=506) [point, if there are any.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=508) [And that's wonderful,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=509) [URLSession, for when we can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=511) [download directly to the watch,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=512) [but sometimes the content might](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=514) [already exist on our iPhone.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=516) [In that case, we can just use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=519) [watch connectivity and transfer](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=520) [the file directly over to our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=522) [watch.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=523) [And to do so, we'll just use the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=528) [transfer file API.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=530) [And new in watchOS 5, you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=531) [get the progress of that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=533) [transfer.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=535) [So let's take a look.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=537) [Here we are in code, and I see](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=538) [Here we are in code, and I see](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=538) [my WCSession FileTransfer.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=540) [And new, there's a progress](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=542) [property that's available in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=543) [watchOS 5 and iOS 12.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=545) [And then, I can just get my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=552) [fileTransfer, query for the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=554) [progress, and update my view on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=556) [iOS.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=558) [And if you want to know some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=560) [more about watch connectivity.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=561) [There's some great sample code](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=563) [that's available online.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=564) [Highly recommend you check it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=565) [out, the simple watch](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=567) [connectivity sample code.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=568) [And you might be wondering --](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=569) [there's URLSession, there's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=573) [watch connectivity -- which one](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=574) [do we use, exactly?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=577) [And when does it make sense?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=578) [Well, for URLSession, we want to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=581) [use that when it's user](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=583) [initiated on the watch itself.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=584) [And then, when we do that, we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=586) [want a query the waits for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=587) [connectivity property to know](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=588) [that we have a network](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=590) [connection at that point.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=591) [And I just wanted to mention](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=594) [that if the iPhone is nearby,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=595) [then requests are proxied](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=597) [through the iPhone when it's in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=598) [range.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=599) [range.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=599) [And if you want to know some of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=601) [the nuances of URLSession,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=603) [there's a great talk from last](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=605) [year that's available online,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=606) [Advances in Networking, Part 2.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=607) [I definitely recommend checking](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=609) [it out.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=610) [And then, on the flip side,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=611) [there's watch connectivity, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=614) [that's really important when](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=616) [your user flow might be when](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=617) [it's initiated on the iPhone](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=619) [itself or in the case where](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=620) [you've already downloaded some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=622) [content and there's no need to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=623) [request it from your server](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=625) [again.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=626) [And for both and especially for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=628) [watch connectivity, you're going](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=630) [to want to set expectations for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=631) [your user.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=633) [Make sure to instruct them of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=634) [when the download, or the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=635) [transfer's most likely to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=636) [complete.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=637) [And that's going to be when the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=638) [watch is on the magnetic](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=640) [charger.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=641) [And for example, we do this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=642) [ourselves.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=644) [In the Apple Watch app in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=645) [Music pane, at the top, we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=647) [actually show our user how many](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=649) [songs have actually been](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=651) [transferred over to the watch](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=653) [itself, and we even instruct our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=654) [user, hey, music's going to sync](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=656) [when the Apple Watch is on its](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=659) [when the Apple Watch is on its](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=659) [charger, so keep that in mind.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=660) [All right, so we talked about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=663) [getting content, and now that we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=664) [have it, let's talk about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=667) [actually playing something back.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=668) [And on watchOS, we have a bunch](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=670) [of different tools we can use.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=672) [And some of those audio tools](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=674) [are in WatchKit itself.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=676) [So there's a presentMedia](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=678) [PlayerController with options,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=680) [completion that you can use.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=682) [And there's also WKAudioFile](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=684) [QueuePlayer.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=686) [And so you can give it a list of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=687) [items, and then the queue player](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=689) [will appropriately play back](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=690) [that content.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=691) [So the presentMedia](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=692) [PlayerController option will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=695) [present the system UI.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=697) [So the controls are taken care](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=698) [of for you.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=700) [There's not really much you have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=701) [to do.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=702) [And this is perfect for when](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=702) [it's short-form content and you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=704) [don't really want to have to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=706) [think too much about it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=707) [And WKAudioFIleQueuePlayer is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=710) [great for when you have more](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=712) [long-form content that you want](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=713) [to play in the background.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=714) [And this is more of a conveyer](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=716) [belt type approach where you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=717) [belt type approach where you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=717) [have some items, you just want](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=720) [to hand it over to the system,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=721) [and the system will play it on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=722) [your behalf.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=723) [And that's exactly what](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=725) [WKAudioFileQueuePlayer is for.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=726) [And there's also AVFoundation at](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=729) [our disposal.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=732) [So there's AVAudioPlayer and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=736) [AVAudioEngine.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=739) [And prior to watchOS 5, it was](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=740) [tied to the workout background](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=742) [mode, or when your application](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=744) [was foreground and screen on.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=746) [For example, Nike Run Club app](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=749) [actually did this exact thing,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=751) [where you're in the middle of a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=753) [run, you want some mindfulness,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=754) [you can play some guided](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=756) [meditation with Headspace.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=759) [And prior to watchOS 5,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=761) [background playback was, with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=764) [AVFoundation, was really only](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=766) [possible for these types of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=767) [workout apps.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=768) [But new in watchOS 5, there's a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=770) [brand-new audio playback](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=772) [background mode, which I'm](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=774) [really thrilled for.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=775) [So let's talk about what we have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=777) [So let's talk about what we have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=777) [now at our disposal.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=780) [Kind of broadened our tool kit.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=782) [And so we have AVFoundation, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=787) [it doesn't have to be tied to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=789) [any other background mode, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=791) [we can now use just AVFoundation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=792) [directly in the background.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=793) [We also are exposing the ability](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=796) [to allow you to, allow your user](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=798) [to pick a different route.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=801) [So maybe some different types of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=802) [Bluetooth headphones.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=804) [And new in watchOS 5, we're also](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=806) [exposing the MediaPlayer.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=808) [framework, so you can provide](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=809) [some Now Playing information and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=810) [also handle any media remote](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=812) [commands.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=815) [And just like our own Music,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=816) [Podcasts, and Radio app, the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=817) [long-form content is restricted](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=819) [to Bluetooth routes, which](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=821) [really is just a fancy way of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=823) [saying you can't play it through](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=825) [the speaker.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=827) [So let's take it step by step](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=829) [and talk about how we actually](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=831) [get this background long-form](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=832) [content to play.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=834) [So the first thing, you add](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=835) [audio to your info.plist](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=838) [background modes.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=839) [background modes.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=839) [And then, you just appropriately](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=841) [set up your session, and you're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=844) [going to want to tell the system](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=845) [that you want to play this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=846) [long-form content in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=847) [background.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=849) [You want to allow your user to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=849) [select a different route.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=853) [And then, you're just going to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=854) [want to call play and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=856) [appropriately handle the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=858) [playback when the user's in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=859) [middle of that playback session.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=860) [So let's break that more, break](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=863) [that down more a little bit.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=865) [And so in Xcode in the Project](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=869) [Settings, in the Capabilities](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=870) [tab, you just flip the switch](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=872) [for Background Mode, you check](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=874) [off Audio, and you're good to go](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=875) [to the next step.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=877) [And so to set up your session,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=878) [you're going to want to set your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=882) [routeSharingPolicy to longform](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=883) [on your AVAudioSession.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=885) [And then, you call the new](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=886) [activate withOptions completion](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=889) [method on AVAudioSession.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=891) [And then, once it completes,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=893) [you're going to call play.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=895) [And in between when you first](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=897) [call the activate function and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=898) [call the activate function and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=898) [then when the completion comes](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=901) [back, what we call the route](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=902) [picker is going to get displayed](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=904) [on your behalf.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=906) [And so this is what the route](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=907) [picker looks like.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=909) [And so this is going to be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=910) [showing up within your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=911) [application, which is going to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=912) [allow your user to pick](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=914) [whichever Bluetooth headphones](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=915) [route they want to have and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=917) [control their playback.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=918) [So let's talk a little bit more](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=921) [about that route picker.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=922) [Again, all it is, you just call](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=923) [your asynchronous activate](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=925) [function, which is going to call](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=927) [and show your route picker, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=929) [then it's going to come back](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=932) [into your completion, and you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=933) [handle that, and you just call](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=934) [play.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=936) [And you're going to want to do](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=936) [this every time you want](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=938) [playback to occur.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=939) [So that way, you can ensure that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=940) [you have appropriate route to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=941) [cause some playback to occur.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=943) [All right, so let's jump into](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=946) [code and set up our session.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=947) [And so we have our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=949) [AVAudioSession, and then we're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=950) [going to set our category to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=952) [playback.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=953) [And then, we're going to set our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=954) [mode to default.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=955) [And then, most importantly,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=957) [we're going to set our route](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=958) [sharing policy to longform.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=959) [sharing policy to longform.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=959) [And then, you want to activate](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=962) [your session, which is going to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=963) [display the route picker, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=965) [then you're going to call play](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=967) [appropriately.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=968) [And now, for that route picker,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=970) [I wanted to call out that we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=971) [really think of routes in two](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=973) [different ways.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=975) [And the first way is our Apple](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=976) [wireless chip-based routes,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=978) [which are commonly referred to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=979) [as our W1 routes.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=981) [So these are our AirPods or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=981) [Beats Studio Wireless.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=984) [And then, we just have our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=986) [normal Bluetooth headphone](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=987) [routes.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=988) [And it's important to make that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=989) [distinction when we talk about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=990) [the route picker itself.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=993) [And so if the user has an active](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=997) [connected route, then the route](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=999) [picker's going to automatically](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1000) [select that route on your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1001) [behalf.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1002) [What's great is that the route](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1003) [picker might not even display to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1004) [your user.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1006) [You're just going to get called](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1007) [back in your completion](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1007) [immediately.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1009) [And in the case where the user](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1010) [has an active W1 route but it's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1013) [being used by the iPhone, then](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1015) [the system's going to grab that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1017) [route from iPhone and bring it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1018) [route from iPhone and bring it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1018) [directly to your watch.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1020) [And there's some cases where](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1022) [that won't happen.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1023) [It's really just when your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1024) [iPhone has more priority.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1026) [So for example, say I'm in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1027) [middle of a phone call on my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1029) [phone.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1030) [Then, we're not going to take](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1031) [that route and put it on your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1032) [watch because phone call's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1033) [probably pretty important.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1035) [And if there are no active](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1037) [routes, then the route picker](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1040) [will just appear on your behalf.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1041) [All right, so that's our route](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1044) [picker, and now let's talk](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1046) [about, how do we actually get](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1047) [some playback to occur?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1049) [Well, you just use the same](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1051) [AVAudioPlayer and AVAudioEngine.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1052) [And there's a variety of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1054) [different formats that are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1055) [supported on watchOS.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1056) [And what's great about this is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1058) [if you have iOS code that uses](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1060) [these classes, then you could](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1062) [have a shared framework between](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1064) [your iOS and watchOS playback](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1065) [operations.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1067) [And in the case of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1069) [AVAudioEngine, you can actually](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1071) [play some DRM content in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1073) [conjunction with AVAudioPlayer](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1075) [node.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1077) [And so you can now play your own](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1077) [DRM content, decrypt it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1079) [DRM content, decrypt it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1079) [yourself, and play it back for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1081) [your user.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1082) [An especially important thing to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1083) [note for watchOS is the power of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1086) [the device itself, so only play](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1089) [audio when absolutely necessary,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1091) [when the user actually wants the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1094) [audio to occur.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1095) [And for AVAudioEngine, the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1097) [autoShutdownEnabled property is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1099) [enabled by default, so if there](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1101) [are no active nodes on your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1104) [AVAudioEngine, then we're going](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1105) [to automatically power down your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1107) [AVAudioEngine when necessary.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1109) [And so that's our playback.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1111) [And then, we, let's talk about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1115) [our MediaPlayer.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1117) [framework.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1118) [So we want to, of course,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1118) [provide our Now Playing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1120) [information to the system.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1121) [And then, the Now Playing UI](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1124) [will update, and that's the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1127) [system-wide notion of what's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1128) [playing, and it's going to be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1130) [updated based on the information](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1131) [you provide.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1133) [So this is going to show up in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1134) [the Now Playing app, and even](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1135) [inside apps such as Workout, or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1137) [in the cases of any third-party](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1139) [in the cases of any third-party](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1139) [apps that embed that Now Playing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1140) [view.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1142) [This will also show up there.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1143) [And then, with the MediaPlayer.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1144) [framework, we just want to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1147) [handle the events, any type of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1148) [media remote commands -- for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1150) [example, a Next Track on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1151) [AirPods, for instance.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1153) [All right, let's jump into some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1155) [code and see how we can provide](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1156) [that Now Playing information.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1158) [So here we are.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1163) [We have our MPNowPlaying](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1164) [InfoCenter.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1166) [We just want to grab that.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1166) [And then, we set up our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1168) [nowPlayingInfo.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1169) [And then, we have, we want to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1170) [set our artwork, our MPMedia](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1175) [ItemArtwork.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1176) [And it's not currently available](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1177) [in seed 1, but it's coming in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1179) [seed 2.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1180) [And in this case, the artwork](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1181) [that you provide will display on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1183) [the Siri watch face.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1185) [And then, we just set up, in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1186) [this case, our title, album,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1190) [artwork, and then we set it to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1191) [our nowPlaying InfoCenter.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1193) [And then, when we do something](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1196) [such as this, then our data will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1197) [such as this, then our data will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1197) [appear in the Now Playing app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1201) [And this is the actual Now](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1202) [Playing app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1204) [And I provided some, a song that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1205) [I was currently listening to in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1207) [my application.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1209) [And when we do this, then, also,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1210) [the Now Playing complication](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1213) [will also get updated.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1215) [So in this case, the bottom](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1216) [shows the "Lights in the Sky"](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1217) [song that I was listening to.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1218) [And then, for media remote](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1220) [commands, again, just use the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1222) [MediaPlayer.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1224) [framework.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1224) [And now, in watchOS, you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1225) [handle those commands however](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1227) [you wish.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1228) [So let's look at some code.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1231) [So we just grab our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1232) [MPRemoteCommandCenter.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1234) [And then, instead of doing a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1236) [Next Track, let's talk about how](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1238) [we can actually skip forward for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1240) [our user.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1242) [So I have this function.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1243) [It's a enableSkipForwardCommand](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1244) [and, just by default, takes in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1247) [15 seconds.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1248) [And I set my preferred intervals](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1250) [on my skip forward command.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1252) [And then, I just add a target](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1253) [and selector, and then I just](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1255) [enable the command within my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1257) [remote command center.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1259) [remote command center.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1259) [If you want to know more about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1261) [the media player framework and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1263) [especially these media remote](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1264) [commands, I highly recommend](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1265) [checking out the MP remote](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1267) [command sample that's available](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1269) [online.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1270) [And in this case, when I](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1271) [actually set my preferred](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1272) [intervals, then the system's Now](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1274) [Playing app will appropriately](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1277) [get adjusted.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1278) [That Now Playing UI, wherever it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1279) [is, will show the minus 15](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1281) [seconds or plus 15 seconds, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1282) [that's all done on your behalf.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1285) [All right, so that's the audio](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1289) [experience on watch, or that's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1292) [our playback, so let's talk](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1294) [about our audio experience.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1295) [So there's 4 major things I want](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1302) [to talk about first for the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1304) [audio experience.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1305) [There's our auto-launching](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1306) [feature where your app will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1307) [automatically get launched.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1308) [There's the frontmost app state](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1310) [and how we can take advantage of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1311) [that in our application.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1312) [There's our new interactive](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1314) [notifications.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1316) [And how to integrate with Siri](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1317) [Shortcuts.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1319) [Shortcuts.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1319) [And so we've been talking a lot](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1323) [about playback occurring on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1325) [watch itself, but I want to take](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1326) [a step back, and I just wanted](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1329) [to talk through that remote](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1330) [control case.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1331) [So let's say I was playing some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1335) [Apple Music on my iPhone, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1336) [automatically the Now Playing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1339) [app will get displayed on my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1340) [watch.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1342) [And I love this feature.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1343) [It feels like magic when I just](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1344) [look at my wrist and I can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1345) [easily control my playback.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1347) [I, it's the coolest thing.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1348) [And in the case where it's our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1353) [application that's actually](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1354) [causing the playback to occur on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1355) [iPhone, then our app](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1357) [automatically gets launched on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1358) [the watch.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1360) [And we call this the auto-launch](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1365) [audio apps feature.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1366) [And so whenever the Now Playing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1368) [session is occurring on iPhone,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1369) [then our Apple Watch app will be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1371) [brought frontmost at that time.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1373) [And we're going to stay](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1376) [frontmost for the duration of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1377) [that session.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1379) [So as long as the user is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1380) [listening to content on iPhone,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1381) [then our app will stay](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1382) [frontmost, unless the user](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1384) [decides to navigate away.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1386) [And new in watchOS 5 is we're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1388) [exposing a Now Playing session](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1391) [API where you're going to know](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1392) [when you're launched for this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1394) [Now Playing session on iPhone,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1396) [and so you can take your user](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1398) [directly to the appropriate](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1399) [view.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1401) [And to do this, you're going to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1401) [use the handleRemoteNow](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1404) [PlayingActivity on your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1405) [WKExtension Delegate.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1407) [So let's take a look at some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1410) [code and see how we could use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1411) [this.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1415) [So here we are.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1416) [I have my extension delegate,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1416) [and then I can implement my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1419) [handleRemoteNow PlayingActivity.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1420) [And the first thing I want to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1423) [check is, where is my user at](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1424) [that time?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1426) [So I can just grab the visible](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1427) [interface controller, I can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1430) [check where my user is, and if](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1431) [the user already is at my Now](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1434) [Playing UI, that's great.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1435) [Let's leave them right there.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1437) [But in the case they're not, we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1439) [But in the case they're not, we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1439) [can just reload directly to our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1441) [view.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1443) [So that way, we have that same](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1444) [magical experience where I raise](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1445) [my wrists and I see the remote](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1447) [controls that I want to use.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1449) [And in some cases, you might](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1456) [want to opt out of this feature](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1458) [if it doesn't make sense for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1460) [your user.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1461) [So just do the right thing.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1462) [Make that decision.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1463) [And let's say our app has](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1465) [nothing to do with our phone](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1466) [app, and that's an appropriate](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1468) [use of actually opting out of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1469) [this capability.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1471) [And so to do so, use the auto,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1472) [the opt out of auto-launch](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1474) [feature on your WK extension's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1476) [info.plist.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1480) [And in the case you do opt out,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1481) [then the Now Playing app will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1484) [show instead.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1486) [And now, let's talk about that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1492) [frontmost app state, and let's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1493) [give a little bit of a refresher](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1495) [of that.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1496) [So here I have my app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1498) [So here I have my app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1498) [It's foreground running.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1500) [I'm looking at it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1501) [The screen is on, and this app](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1502) [is considered active and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1504) [frontmost.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1505) [But then, let's say I put my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1506) [wrist down.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1507) [In that case, the application is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1509) [still considered frontmost](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1511) [because if I raise my wrist](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1513) [again, I'll see that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1514) [application.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1515) [And in that case, the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1516) [application is just in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1518) [background.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1519) [So with the frontmost app state,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1524) [we get some enhanced](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1526) [capabilities from the system.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1527) [Our background transfers from](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1529) [iPhones -- so say we were](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1532) [transferring our content from](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1533) [iPhone to watch itself, those](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1535) [background transfers, when they](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1536) [complete, the resumes will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1539) [directly just wake up our app if](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1540) [we're in the frontmost app](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1542) [state.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1543) [And the same thing in, with our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1544) [URL session resumes.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1545) [So if the URL session, our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1547) [background session before was](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1549) [downloading and it completes,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1551) [then our app will automatically](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1553) [get waked up and deliver the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1554) [payload.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1555) [And if we're frontmost, we're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1556) [And if we're frontmost, we're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1556) [going to get called into, so we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1560) [can decide whenever, if a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1562) [notification appears, how we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1563) [properly want to handle that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1566) [notification.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1567) [Maybe we want to keep our user](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1568) [in the app, or maybe we want to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1569) [show the notification to our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1571) [user.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1572) [And in the frontmost app state,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1573) [we can make that decision.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1574) [And when you're in the frontmost](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1576) [app state, you can play some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1578) [haptics.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1580) [And if you want to know a little](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1581) [bit more about frontmost app](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1583) [state, there's the talk from](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1584) [last year, The Life of a watchOS](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1586) [App.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1588) [It's a great talk.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1588) [You might recognize the speaker.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1590) [He's okay.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1591) [And so you're going to stay](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1593) [frontmost for 2 minutes, but, if](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1595) [you recall, I extended my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1598) [frontmost earlier.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1600) [And so in that case, it's just](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1601) [going to be extended by default](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1603) [to 8 minutes.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1604) [And so, again, this is great for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1605) [when we were downloading that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1607) [content from before, and so I](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1608) [can just extend my time out.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1610) [And when we're actually playing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1620) [back some audio, our app will be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1621) [kept frontmost for the duration](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1623) [of that session, just like when](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1626) [we were actually remote](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1627) [controlling the audio when it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1628) [was occurring on iPhone.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1630) [And again, if the user ever](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1632) [navigates away, then you're no](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1633) [longer frontmost, but your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1635) [background playback will still](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1637) [occur appropriately.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1639) [And in that case, you can, of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1641) [course, properly handle all of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1642) [your background events.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1643) [All right.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1646) [So now, we're -- and when we are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1648) [in that frontmost state, then we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1650) [also can integrate properly with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1653) [notification.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1655) [So we could post, for example,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1656) [when the download completes, a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1658) [content available local](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1659) [notification.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1660) [And we might want to have play](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1662) [as our primary action.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1663) [And with our new interaction](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1665) [notifications on watchOS, we can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1666) [allow our user to actually](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1669) [configure some playback right](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1670) [from within the notification and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1672) [then be able to call play as the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1674) [primary action, then get into](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1676) [your app and immediately cause](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1677) [some playback to occur.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1679) [some playback to occur.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1679) [So for example, say I had a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1681) [Salvador Dali exhibit.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1683) [It's ready to go.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1686) [I can then adjust the playback](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1687) [speed, immediately call play,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1688) [that'll launch my app, and then](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1690) [I can play that great content at](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1692) [the appropriate rate for my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1694) [user.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1696) [If you want to know more about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1696) [some interactive notifications,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1699) [check out the What's New in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1701) [watchOS talk given earlier,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1702) [which is available online.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1704) [It was a great talk, and you'll](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1706) [know a lot more about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1707) [interactive notifications after](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1708) [watching it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1710) [All right, so do you remember](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1711) [this code from before where I](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1713) [actually posted that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1715) [notification alerting our user](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1716) [of this type of playback](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1719) [opportunity?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1720) [Well, let's say our app was](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1721) [frontmost at that time.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1722) [In that case, when I got](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1725) [delivered the notification from](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1726) [frontmost in user notification,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1728) [I'm going to get called into and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1730) [will present notification with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1732) [completion handler.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1733) [And in that case, I can actually](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1736) [decide whether or not I want to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1737) [still post that notification.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1739) [still post that notification.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1739) [Or maybe because my app's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1741) [frontmost, I could just play a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1742) [haptic and let my user know](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1744) [that, hey, raise your wrist, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1746) [there's some new content.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1747) [I can update my view.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1748) [And again, if you want to know](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1750) [some more about the frontmost](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1751) [notifications, check out the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1752) [Life of a watchOS App.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1754) [Great, so that's how we used our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1756) [interactive notifications and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1758) [the frontmost app state, but we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1759) [also want to show up on the Siri](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1762) [watch face.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1764) [And with audio apps, you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1765) [provide suggestions of audio to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1767) [play on the Siri watch face](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1768) [using relevant shortcuts.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1770) [So for example, that could be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1772) [the next episode of your user's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1774) [favorite podcast or the new](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1776) [music that you just synced over](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1778) [to the watch.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1779) [For example, Audible was able to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1783) [build the same experience where](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1786) [they can just get their user](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1787) [directly within their](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1789) [application from the Siri watch](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1790) [face and resume the playback of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1792) [an audiobook.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1794) [And whenever a user interaction](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1795) [is occurring, just wanted to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1799) [is occurring, just wanted to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1799) [highlight, think through your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1800) [donations.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1802) [Make sure to donate your INMedia](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1803) [PlaybackIntent to the system so](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1805) [that way the system knows what](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1807) [your user is commonly doing on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1808) [the watch.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1810) [And that way, you can become](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1811) [more relevant on the Siri watch](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1812) [face.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1814) [And also, just think through](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1817) [your shortcut phrases like](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1819) [design appropriate phrases that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1821) [your user could use within Siri](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1823) [to get your user directly within](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1826) [your application to allow for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1828) [some playback to occur.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1830) [And all in all, on the Siri](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1832) [watch face, design a great](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1835) [experience.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1837) [You might have some glanceable](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1838) [information like, hey, there's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1839) [an exhibit coming soon.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1841) [Or you could have some tappable](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1843) [actions like Audible was able to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1845) [make where, hey, we just want to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1846) [play that audio tour and get our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1847) [user directly in the app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1849) [And so for shortcuts, donate](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1853) [your INMediaPlaybackIntent.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1856) [Use the relevant shortcut API to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1858) [Use the relevant shortcut API to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1858) [appear on the Siri watch face.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1860) [And think through your shortcut](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1863) [phrases.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1864) [And there's been some great](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1866) [talks this week about shortcuts,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1867) [and I definitely wanted to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1869) [highlight the Shortcuts on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1870) [Siri Watch Face talk.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1872) [I saw that myself.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1873) [It was a great talk, and I](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1874) [learned a lot.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1876) [And so in summary, for the first](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1879) [time, you can embed your native](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1881) [controls directly from within](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1883) [your application.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1884) [You can allow background](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1886) [playback to occur however you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1887) [want and handle media remote](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1889) [commands however you want.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1890) [And there are better ways that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1892) [transfer audio assets to your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1895) [watch and convey that type of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1897) [progress to your users.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1899) [So if you want some more](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1901) [information, feel free to go](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1903) [online or join us in the lab](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1904) [this afternoon.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1907) [I'm really excited to see what](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1909) [type of audio apps are built on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1910) [watchOS, and thanks, everyone.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1912) [Have a great WWDC.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1915) [Thanks.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1917) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/504/?time=1918)