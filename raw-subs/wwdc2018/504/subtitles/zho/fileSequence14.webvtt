WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:13:59.886 --> 00:14:00.726 A:middle
的后台模式  

00:14:01.166 --> 00:14:04.366 A:middle
之后你建立起

00:14:04.366 --> 00:14:05.656 A:middle
合适的 session  

00:14:05.656 --> 00:14:06.806 A:middle
然后告诉你的系统

00:14:06.806 --> 00:14:07.696 A:middle
你想要播放

00:14:07.696 --> 00:14:09.646 A:middle
较长的内容在系统后台  

00:14:09.956 --> 00:14:13.456 A:middle
你希望允许用户选择

00:14:13.696 --> 00:14:14.736 A:middle
不同的路线  

00:14:14.986 --> 00:14:16.976 A:middle
之后呢你去

00:14:16.976 --> 00:14:18.416 A:middle
调用播放函数

00:14:18.666 --> 00:14:19.656 A:middle
并且在用户

00:14:19.656 --> 00:14:20.916 A:middle
正在播放的时候

00:14:20.916 --> 00:14:23.006 A:middle
适时处理播放任务  

00:14:23.866 --> 00:14:25.606 A:middle
让我们再仔细分析一下

00:14:25.606 --> 00:14:28.266 A:middle
内部的代码  

00:14:29.196 --> 00:14:30.956 A:middle
在 Xcode 里面的 Project

00:14:30.956 --> 00:14:32.486 A:middle
Settings 进入到 Capabilities 里

00:14:32.486 --> 00:14:34.696 A:middle
你可以调整

00:14:34.696 --> 00:14:35.876 A:middle
Background Mode 的开关 你选中

00:14:35.876 --> 00:14:37.396 A:middle
Audio 然后这就好了  

00:14:37.396 --> 00:14:38.206 A:middle
可以进行下一步了  

00:14:38.576 --> 00:14:42.056 A:middle
现在开始建立你的 session  

00:14:42.236 --> 00:14:43.186 A:middle
你需要设置在 AVAudioSession 之中  

00:14:43.186 --> 00:14:45.126 A:middle
的 routeSharingPolicy 

00:14:45.346 --> 00:14:46.626 A:middle
到 longform 模式

00:14:46.726 --> 00:14:49.026 A:middle
之后你调用 在 AVAudioSession 里面的

00:14:49.026 --> 00:14:53.726 A:middle
newActivate WithOptions Completion 方法

00:14:53.936 --> 00:14:55.276 A:middle
在它完成之后

00:14:55.276 --> 00:14:56.216 A:middle
你就可以调用播放了  

00:14:57.276 --> 00:14:58.946 A:middle
在你第一次

00:14:58.946 --> 00:15:01.106 A:middle
启动 activate 函数之前到

