# Live Screen Broadcast with ReplayKit

## Summary
ReplayKit 2 provides built-in services for broadcasting your screen from iOS and tvOS to viewers online. See how broadcasts can be started right within Control Center or from standard UI included in your own apps and games. Hear about developing broadcast extensions for ReplayKit 2 and get best practices for handling account sign-in.

## Info
* Media
* WWDC 2018 - Session 601 - iOS, tvOS
* https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/

## Text
 [[ Music ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=7) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=21) [&gt;&gt; Good morning and welcome to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=26) [the session, Live Screen](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=29) [Broadcast with ReplayKit.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=31) [My name is Alexander and I'm](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=32) [very excited to be here and talk](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=34) [to you about ReplayKit concepts](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=36) [and new features that we bring](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=38) [to ReplayKit this year.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=39) [We've got lots to discuss so](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=41) [let's get started.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=44) [ReplayKit is a framework that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=47) [allows you capture application](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=49) [screen audio and microphone](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=51) [content in real time or record](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=53) [to a video file that the users](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=55) [can later edit or share.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=57) [And ReplayKit also supports live](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=60) [broadcast.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=63) [For application generating](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=65) [content like games, ReplayKit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=66) [provides tools that allow them](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=70) [to stream audio and visual](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=72) [content using [inaudible] and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=74) [broadcast services.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=76) [And for the broadcast](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=77) [applications ReplayKit provides](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=79) [ability to receive that content](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=81) [captured from other applications](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=83) [or entire iOS and encode and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=85) [stream to the servers directly](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=90) [from the same device.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=91) [ReplayKit delivers its content](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=96) [in high quality with lowest](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=98) [latency and very low performance](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=100) [overhead and better usage.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=102) [It also safeguards the user's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=104) [privacy by asking for approval](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=106) [before any recording or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=109) [broadcast begins, and also](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=111) [showing a prominent indicator](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=113) [whenever content is being](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=115) [captured.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=116) [In this session today I'm going](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=122) [to talk about the live broadcast](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=123) [functionality of ReplayKit and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=125) [we're going to start with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=127) [overview and talk about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=128) [[inaudible] broadcast and iOS](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=130) [system broadcast, and then we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=132) [are going to talk about the new](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=134) [API called System Broadcast](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=136) [Picker.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=138) [Now, this is an API that allows](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=139) [you to initiate the broadcast](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=142) [directly from your broadcast](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=144) [application.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=145) [After that we're going to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=148) [discuss how you can actually](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=149) [implement the broadcast](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=151) [extensions and how that would](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=152) [work for you with the new API](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=154) [that [inaudible].](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=159) [Also, we're going to talk about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=159) [the protecting of the content of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=160) [your applications from being](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=163) [captured.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=164) [So let's start with overview of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=168) [the live broadcast.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=170) [As I said, ReplayKit allows you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=173) [to broadcast your app screen,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=176) [audio and audio content to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=178) [audio and audio content to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=178) [search a third-party broadcast](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=180) [service directly from your iOS](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=181) [or [inaudible], and on iOS you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=184) [can also provide voice or video](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=186) [commentary using microphone or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=191) [camera.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=193) [And all this content is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=195) [absolutely secure and only](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=196) [accessible to the servers that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=197) [you're using.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=198) [So when you're streaming your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=203) [game play to Mobcrush or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=204) [YouTube, share your screen in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=205) [WebEx video call.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=207) [Use TeamViewer to work as](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=209) [customer support, or maybe](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=211) [stream your drawing app on a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=213) [Facebook.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=215) [All of that is powered with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=216) [ReplayKit technology.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=217) [Originally, with the ReplayKit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=221) [live broadcast the user would be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=223) [in the app and would use the app](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=225) [to start and stop the broadcast.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=228) [An app would do that by directly](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=230) [communicating to a ReplayKit API](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=232) [and ReplayKit itself would](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=234) [involve the broadcast extensions](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=236) [and begin providing it with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=238) [and begin providing it with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=238) [visuals and audio content from](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=240) [that application, and the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=242) [extension would encode the media](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=244) [and stream to the servers and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=246) [this is what we call In-App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=248) [Broadcast.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=250) [And what was new with ReplayKit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=251) [2 is that instead we have entire](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=256) [system in a pack being](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=259) [broadcasted.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=260) [And how this works is the user](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=262) [would initiate that broadcast](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=264) [from within the Control Center.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=266) [So this is where they start and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=268) [stop the broadcast.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=270) [And that begins a system wide](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=271) [ReplayKit 2 broadcast session](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=275) [and, thus, audio and video](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=277) [samples, again, go to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=279) [extension and upload it to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=280) [servers.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=282) [And conceptually this is the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=283) [difference between the two.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=285) [And just to talk about the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=286) [In-App Broadcast in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=290) [beginning.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=291) [In the In-App Broadcast this is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=292) [your app or your game that is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=295) [providing the content that is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=296) [captured live as you play in a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=299) [captured live as you play in a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=299) [game and your game is calling](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=303) [the ReplayKit API to start and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=305) [stop the broadcast.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=307) [And it also presents as](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=309) [broadcast activity controller so](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=312) [that the user would pick the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=313) [service.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=316) [And in line with that, the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=317) [broadcast application is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=321) [providing you the broadcast](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=322) [extension which ReplayKit is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=324) [working on behalf of that game](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=326) [to sign users into the service](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=329) [and upload the broadcast content](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=331) [live to their servers.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=334) [That was our original way of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=337) [using ReplayKit Live Broadcast](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=339) [and we covered this before.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=341) [And in case your application](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=343) [does need this fine [inaudible]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=344) [control for starting and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=345) [stopping the broadcast, for more](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=347) [information please find the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=349) [session called Go Live with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=351) [ReplayKit from a couple of years](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=353) [ago.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=356) [But really, what today's session](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=358) [But really, what today's session](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=358) [is about is what we call iOS](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=360) [system broadcast.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=362) [Now, this is, again, the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=364) [broadcast of all your onscreen](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=365) [activity and all your sounds,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=367) [and instead of being initiated](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=370) [from within your application and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=371) [starting and stopping when the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=373) [app is paused, for example, this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=375) [session is started and stopped](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=379) [within Control Center, and this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=381) [is systemwide and it runs](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=383) [continuously as the user moves](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=385) [from the home screen to the app](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=387) [or as they move from one app to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=389) [another.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=390) [And all of this is built into](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=391) [iOS 11 and above and this is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=394) [what was introduced last year as](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=396) [ReplayKit 2.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=397) [So here's some game and you're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=400) [playing a game and you want to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=402) [start the live stream and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=404) [initiate the broadcast.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=406) [So you pull down the Control](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=409) [Center and say you touch into](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=410) [that screen recording button and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=412) [that will bring up the picture](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=415) [for you to record your game](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=417) [play, or if you tap on one of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=419) [play, or if you tap on one of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=419) [the [inaudible] of broadcast](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=422) [providers, it will stream out to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=424) [their service.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=425) [So once you have done that,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=428) [you're back to your game and now](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=430) [you're streaming to that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=432) [service.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=433) [The broadcast extension receives](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=434) [the media samples captured from](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=436) [the screen and uploads the video](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=437) [stream to its back end and the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=440) [viewers they have in their web](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=441) [browsers, or however they want](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=443) [to use that stream, are watching](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=445) [your broadcast on their own](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=449) [devices around the world.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=450) [This is how you start the iOS](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=456) [system broadcast.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=459) [And now, what's interesting](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=460) [about this kind of broadcast](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=461) [again, is that, as I said, it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=463) [continues regardless of you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=465) [moving from one app to another.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=467) [So I'm broadcasting from my home](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=470) [screen here and then my home](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=472) [screen is what is being](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=474) [broadcasted.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=475) [And then if I'm launching a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=476) [different app, that app is going](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=479) [different app, that app is going](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=479) [to be broadcasted now, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=481) [that's really the core thing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=483) [now.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=485) [So the broadcast itself is a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=485) [systemwide experience and you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=487) [can go back to the Control](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=489) [Center and stop it or you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=490) [tap on the status bar at the top](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=493) [and it will bring up the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=495) [controls to stop the broadcast.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=495) [And another thing is that if](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=497) [next I ran as a landscape,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=501) [there's also a way to support](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=503) [that and you can move between](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=504) [landscape and portrait as you go](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=510) [from one app to another.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=511) [So this was an iOS system](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=518) [broadcast we enabled last year](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=520) [and the feedback and adoption](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=522) [we've seen since then was](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=523) [amazing.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=526) [And our live broadcast API today](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=527) [is used in many apps in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=529) [categories like communication,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=531) [streaming, house, help desk,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=534) [education and social.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=537) [But at the same time we had a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=539) [But at the same time we had a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=539) [lot of feedback that people are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=542) [having hard time finding this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=545) [broadcast UI in the Control](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=547) [Center so we wanted to make it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=548) [easy for you to edit right into](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=551) [your app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=554) [And this year our goal was to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=555) [allow you integrate iOS system](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=557) [broadcast into your application,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=559) [and we are very excited to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=561) [announce System Broadcast](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=563) [Picker.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=564) [So let me go back to my diagram.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=569) [So what we added now is sort of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=570) [a hybrid approach to last two](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=576) [[inaudible] styles.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=578) [And in this hybrid approach we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=580) [edit up the ability for your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=583) [application to also be initiator](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=586) [of iOS system broadcast.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=588) [So your app now can do the same](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=590) [thing as what Control Center is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=592) [doing; start the broadcast and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=594) [then allow it to continue as you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=597) [move from one app to another and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=599) [move from one app to another and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=599) [then move to the home screen,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=602) [and so on.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=603) [So as the user starts a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=603) [broadcast from your application,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=606) [he can later go to the Control](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=608) [Center and stop it from there or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=610) [vice versa; he could start from](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=613) [the Control Center and then go](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=614) [to your app and tap the button](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=616) [that stops.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=617) [So again, the System Broadcast](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=622) [Picker allows users to start the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=624) [iOS system broadcast without](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=627) [leaving your application, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=629) [this is just a simple button in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=632) [the view that we provide and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=634) [this is a new feature we are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=636) [enabling in iOS 12.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=638) [Here is example of that.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=641) [Here I have the sample app, Fox](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=644) [2 and I edit app with button at](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=646) [the top.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=650) [So if I hit this Broadcast](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=651) [Picker button, that's going to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=653) [bring up the same UI as you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=655) [would have seen if you would go](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=656) [to the Control Center.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=659) [to the Control Center.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=659) [So I pick out the broadcast](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=661) [provider and start my broadcast.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=664) [Now I'm back in the app and now](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=668) [I'm just broadcasting to that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=670) [provider and people around the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=671) [world can watch my live stream.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=674) [So how is this done?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=680) [Okay. There is a new class](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=683) [called](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=685) [RPSystemBroadcastPickerView and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=686) [it's just a subclass of UI View](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=689) [and you can add it to your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=691) [application using the interface](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=694) [builder as a view with a custom](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=695) [class, or you can do it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=700) [programmatically and all you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=701) [need to do is just run it in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=704) [instance of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=705) [RPSystemBroadcastPickerView and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=706) [add it to your view hierarchy.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=709) [So this is a more simple way to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=711) [use the broadcast picker, but I](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=716) [know that many of you in this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=719) [know that many of you in this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=719) [room broadcast service](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=721) [developers.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=724) [And finally, with this new API](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=725) [your users can start the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=727) [broadcast directly from your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=729) [application and there's no more](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=731) [need to include all those](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=733) [tutorials, how you can enable](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=734) [the screen recording and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=736) [settings and how to find your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=737) [service and that [inaudible] in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=738) [the Control Center.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=739) [But, however, you would probably](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=741) [like the Picker to show the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=744) [broadcast extension for just](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=746) [your service, and ReplayKit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=748) [provides API that lets you do](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=753) [exactly that.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=755) [And it is just a property of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=758) [that view and what you need to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=760) [do is just get the bundle](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=763) [identifier from your broadcast](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=765) [extension and assign to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=767) [property of the view called](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=770) [preferredExtension.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=772) [Here's a code example of how you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=775) [could do this.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=778) [You would probably like to set](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=779) [You would probably like to set](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=779) [the property right after](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=782) [correcting the view, and the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=783) [only difference from that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=785) [example would be that you need](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=786) [to replace the string called](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=788) [com.your-app.broadcast.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=791) [extension.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=792) [It's a bundle idea of your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=793) [extension.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=794) [So here's a diagram, and I just](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=795) [want to emphasize the point](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=800) [about the picker view that you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=803) [create in your app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=804) [So that view is just a shortcut](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=806) [that brings up a system UI of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=808) [the broadcast picker, the same](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=810) [UI that you can access using the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=812) [Control Center.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=814) [And the picker itself belongs to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=816) [the system and your application](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=819) [does not own any part of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=821) [broadcast state and also cannot](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=824) [start or stop the system](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=827) [broadcast programmatically.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=829) [So this is what you need to do](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=834) [to add the iOS system broadcast](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=836) [to your app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=838) [There's a new API and it is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=839) [There's a new API and it is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=839) [fairly simple and you could](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=841) [really be done adopting it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=843) [before leaving this session.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=845) [And next we are going to walk](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=846) [through the process for the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=849) [broadcast extension developers](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=851) [and discuss how you can actually](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=853) [implement the broadcast](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=855) [extension and how things would](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=856) [work for you if your app](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=858) [provides both the extension and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=860) [the broadcast picker.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=862) [So let me come back to that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=865) [diagram.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=866) [We are sort of moving to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=867) [broadcast extension site now and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=868) [we want to show you the path](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=871) [assuming the system broadcast.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=872) [Let's start with talking about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=879) [the broadcast application and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=881) [the broadcast extension and what](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=883) [each of them needs to do during](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=885) [the system broadcast session.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=888) [So you install the broadcast](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=892) [extension along with the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=894) [application that contains it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=896) [So if you install Facebook, you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=898) [So if you install Facebook, you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=898) [also install Facebook broadcast](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=900) [extension.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=902) [And broadcast extension and the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=904) [application are separate](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=908) [binaries and each runs in its](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=910) [own process and those processes](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=912) [are invoked directly by the user](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=916) [and independently from each](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=919) [other.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=920) [And typically you would use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=921) [application to allow user sign](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=923) [in or sign up for your service.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=925) [And now for the apps that will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=928) [adopt the broadcast picker API,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=931) [you can also let user to type in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=933) [some message before posting this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=937) [particular broadcast to his](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=938) [Facebook.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=940) [And the broadcast extension,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=941) [that's all the actual work when](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=947) [everything required to start the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=949) [broadcast is already available.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=951) [So again, the extension does the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=955) [work of taking samples edited by](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=957) [ReplayKit, the raw samples of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=959) [ReplayKit, the raw samples of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=959) [the audio from the app, video of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=963) [the screen and perhaps audio](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=965) [from the microphone and encoding](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=967) [starts and uploading to your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=969) [service using whatever](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=971) [technology you prefer to use.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=972) [To help you get started](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=977) [developing the new broadcast](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=978) [services we provide the Xcode](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=980) [template and just add the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=982) [extension to your project using](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=986) [the template and you'll be ready](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=987) [to begin.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=989) [So now let's look how you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=990) [code all of this.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=992) [So when you create an extension](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=995) [in your project using Xcode](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=997) [template, you'll get a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=999) [SampleHandler class like this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1000) [and this is where you add your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1002) [code to handle different events](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1005) [during the broadcast.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1007) [And also, you would implement](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1009) [this function that handles](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1011) [incoming audio and video](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1012) [samples.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1013) [This is how the life cycle of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1018) [This is how the life cycle of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1018) [the broadcast usually looks](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1020) [like.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1021) [So we have states called setup,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1023) [initialized, started, processing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1025) [and stopped.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1029) [Over on the left there's this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1030) [green square which corresponds](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1034) [to the state when your broadcast](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1036) [extension is not running yet and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1038) [at this point your app could,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1040) [for example, get the login](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1043) [credentials from the user and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1044) [use a shared keychain to process](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1046) [credentials to the extension.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1048) [Or again, here you could let the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1051) [user to type in that message for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1054) [the Facebook part and pass it to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1055) [the extension like one way or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1059) [another.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1061) [So once the user initiates a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1062) [broadcast, using the Control](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1065) [Center or your application that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1067) [adopted the broadcast picker,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1069) [ReplayKit launches an extension](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1072) [process and creates an instance](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1075) [of your SampleHandler class.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1077) [And at that point you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1079) [And at that point you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1079) [override the default initializer](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1082) [of SampleHandler and do](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1084) [something essential for your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1087) [broadcast and not directly](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1088) [related to handling the media](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1089) [samples.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1091) [So, for example, you could get](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1092) [login credentials from this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1095) [keychain and establish a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1097) [broadcast session with your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1099) [servers.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1100) [So once the process is launched](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1103) [and the instance of your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1105) [SampleHandler already exists,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1106) [the extension is notified that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1110) [ReplayKit will begin providing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1112) [it with audio and video samples](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1114) [using the function called](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1117) [broadcastStarted, and in this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1118) [function you'd probably like to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1121) [create your media engine or do](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1124) [anything else that you need to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1126) [start receiving the samples in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1128) [real time and encoding them and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1130) [uploading to your servers.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1132) [So once a broadcast is running](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1136) [now ReplayKit will provide raw](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1137) [now ReplayKit will provide raw](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1137) [audio and video samples and your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1142) [extension needs to encode it and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1144) [upload it to your video service](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1146) [using whatever technology you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1148) [prefer to use.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1149) [ReplayKit provides your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1151) [extension three types of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1153) [samples; samples with video](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1155) [captured from the screen,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1159) [samples with audio tapped from](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1161) [the application and samples with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1162) [audio captured from the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1165) [microphone, and your extension](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1167) [will encode all of this and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1169) [upload to the service.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1171) [And all of those are going to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1175) [the extension and are handled by](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1177) [the function called](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1178) [processSampleBuffer.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1180) [This function receives a single](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1182) [CMSampleBuffer, as you see, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1185) [the type of the buffer.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1187) [And what it needs to do is to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1189) [encode and upload the media](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1191) [samples, and in this code](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1192) [example we show you how you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1194) [encode the video using the Video](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1196) [Toolbox.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1198) [So we recommend using the Video](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1199) [So we recommend using the Video](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1199) [Toolbox as it provides hardware](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1202) [accelerated encoding](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1204) [capabilities, and that is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1205) [especially important for our use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1208) [case because extensions have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1210) [much lower memory limits](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1212) [compared to their applications.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1213) [So once you're encoding and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1219) [streaming the video to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1222) [broadcast servers the viewers](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1223) [around the world can or could](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1226) [watch your broadcast live, but](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1228) [they need some way to find your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1231) [broadcast.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1232) [And say if a person likes](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1234) [playing and watching Angry](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1237) [Birds, there should be someplace](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1238) [on your website or in your app](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1240) [where he can find all the live](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1242) [broadcasts with that game.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1244) [And in order to implement this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1247) [you need to add to your video](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1250) [stream some information about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1252) [the game that is being](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1254) [broadcasted now, and for that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1255) [ReplayKit provides API function](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1259) [ReplayKit provides API function](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1259) [called broadcastAnnotatedWith](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1261) [ApplicationInfo, and as soon as](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1263) [a player starts his game Angry](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1265) [Birds sends this example,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1268) [ReplayKit notifies your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1270) [extension that that has happened](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1272) [and provides a dictionary with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1274) [details about the app that was](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1276) [started.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1277) [And as an example, you can use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1278) [the key defined by ReplayKit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1283) [called RPApplicationInfoBundle](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1285) [IdentifierKey and get the bundle](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1288) [ID of that game and pass it as a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1291) [metadata to your stream.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1292) [When the user stops the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1299) [broadcast, one way or another,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1301) [ReplayKit is using function](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1304) [called broadcastFinished to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1305) [communicate to your extension](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1307) [that broadcast session is over](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1309) [and there will be no more](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1310) [samples delivered to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1311) [SampleHandler.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1313) [And in this function you would](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1314) [probably like to finish](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1317) [uploading your buffered video](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1319) [uploading your buffered video](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1319) [and [inaudible] your media](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1320) [engine or anything else that you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1322) [need to release.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1324) [So this is how the broadcast](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1330) [life cycle usually goes.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1333) [And there's one more point that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1335) [I would like to mention here.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1337) [As we discussed, everything](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1338) [required to set up the broadcast](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1343) [should happen in the application](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1346) [and you would get the login](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1349) [credentials using the app or you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1351) [could get the name for the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1353) [broadcast in the application,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1355) [and we have a state for this,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1357) [this green square on the left](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1360) [side.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1361) [However, this could be the case](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1362) [that when the broadcast has](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1364) [started, your extension is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1366) [missing something to proceed as](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1368) [a broadcast.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1370) [For example, the login process](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1371) [could have failed or something](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1373) [else is needed, and I want to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1375) [show you how you can handle this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1377) [show you how you can handle this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1377) [case.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1381) [ReplayKit provides an API that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1382) [allows extension to communicate](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1384) [to the user that broadcast](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1386) [cannot be started and provide a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1388) [particular action required to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1390) [fix the problem.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1392) [And the way it works, the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1393) [extension calls some API](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1396) [function and ReplayKit will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1399) [terminate the session and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1400) [present the user the alert that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1402) [will include the failure reason](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1406) [provided by the extension, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1409) [in this example this error](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1411) [message is from Mobcrush and it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1413) [says that user is not logged in.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1414) [So next is the user tabs at](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1417) [bottom go to the application,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1421) [ReplayKit is launching your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1424) [application and what you need to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1425) [do there is handle this case in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1427) [some way, present the UI by user](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1429) [will sign in or sign up, and the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1431) [next time the broadcast will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1433) [just work.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1434) [So we have this code sample for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1437) [the broadcastStarted before, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1439) [the broadcastStarted before, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1439) [here I want to show you how do](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1441) [you handle this case when user](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1443) [is not logged in.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1444) [So there's a function called](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1446) [finishBroadcastWithError, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1448) [what you need to do is provide](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1451) [the user info dictionary with a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1454) [failure reason and ReplayKit is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1455) [going to use that string and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1458) [allow that is shown after the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1460) [session is stopped.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1462) [Okay. This is how you develop](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1469) [the broadcast extension, and as](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1474) [you see, the process is pretty](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1476) [straightforward.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1479) [The application handles the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1480) [broadcast setup and then](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1482) [communicates that info to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1484) [extension.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1485) [And after that the session](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1490) [starts and you receive and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1492) [encode the media samples.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1493) [And also, you can get](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1496) [information about application on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1498) [the screen so the viewers could](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1499) [the screen so the viewers could](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1499) [find your broadcast.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1501) [And so just one more point I](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1505) [would like to discuss today.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1506) [This is protecting content of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1510) [your applications.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1512) [So your app may display some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1514) [content that you don't want to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1517) [be captured in screen recording](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1518) [or live broadcasts.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1521) [That applies to both audio and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1524) [visual content.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1526) [There's an API that you can use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1529) [to tell if your content is being](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1531) [captured and that API is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1533) [provided UIKit framework and I'm](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1535) [talking about the property of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1538) [UIScreen called Captured.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1540) [So you can register to receive](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1543) [notifications whenever the value](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1545) [of this property is changed and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1547) [stop your audio playback or hide](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1550) [the visual content when](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1552) [recording starts.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1554) [There's also a special case that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1556) [you need to take care of, which](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1558) [you need to take care of, which](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1558) [is Airplay Screen Mirroring, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1560) [I would like to show you how you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1564) [could do this using this code](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1565) [example for the notification](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1567) [handler.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1568) [And basically, in the case of a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1570) [screen mirroring there's always](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1572) [more than one screen and this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1574) [array called Screens is going to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1576) [have more than one element, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1578) [even though that isCaptured is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1580) [going to return yes during the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1582) [screen mirroring session, we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1584) [have this extra check that will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1586) [allow your playback to continue.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1588) [So this is the Live Screen](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1590) [Broadcast and how it really](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1596) [works.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1597) [And to summarize, ReplayKit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1598) [provides high level API that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1601) [allows your broadcast content of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1602) [just one app or all your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1604) [onscreen activity.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1607) [In iOS 12 we provide you an API](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1610) [or a way to initiate the system](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1613) [broadcast directly from your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1615) [broadcast application.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1617) [And what you actually need to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1619) [And what you actually need to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1619) [code is a broadcast extension](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1621) [that does all the actual work of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1624) [encoding the video.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1626) [And also, we just discussed the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1629) [way to protect the content of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1631) [your apps.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1632) [You can find more information on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1637) [the website of our talk and we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1639) [also will be having the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1641) [ReplayKit labs later today at](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1642) [3:00 p.m. in the Technology Lab](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1645) [5, so if you have any questions](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1646) [or comments, please come.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1648) [We'd love to hear from you.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1650) [So thank you so much for being](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1653) [here with us today.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1655) [We are really excited of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1656) [bringing you the new approach](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1658) [for live stream broadcast in iOS](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1660) [and looking forward to see test](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1662) [applications adopting it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1664) [So please go ahead, create your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1666) [first broadcast extension using](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1669) [the Xcode template, or open your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1671) [existing project and add the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1673) [broadcast picker to your app and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1676) [enable live stream broadcast](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1678) [from iOS to your platform today.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1680) [Thank you.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1682) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/601/?time=1683)