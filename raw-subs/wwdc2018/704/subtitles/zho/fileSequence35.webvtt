WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:34:59.399 --> 00:35:05.606 align:middle line:-2
你要用这三个值
来生成你的SHA-1哈希值并进行比较

00:35:06.073 --> 00:35:07.207 align:middle line:-1
如果它与

00:35:07.774 --> 00:35:09.743 align:middle line:-2
收据中所生成
的内容匹配

00:35:09.810 --> 00:35:14.281 align:middle line:-2
那么你就可以知道该收据是为
这台设备上你的app生成的

00:35:17.351 --> 00:35:19.887 align:middle line:-1
那么如果你收到无效的收据

00:35:21.221 --> 00:35:23.457 align:middle line:-2
或是不管出于何种原因
它不存在呢？

00:35:24.858 --> 00:35:29.429 align:middle line:-2
StoreKit为你提供了从
App Store请求新收据的API

00:35:30.163 --> 00:35:33.300 align:middle line:-1
收据来自我们的商业后台

00:35:33.367 --> 00:35:35.435 align:middle line:-1
所以你需要连网

00:35:35.502 --> 00:35:37.771 align:middle line:-1
才能完成这个操作

00:35:38.605 --> 00:35:42.042 align:middle line:-1
为了确保我们使用的是

00:35:42.109 --> 00:35:44.178 align:middle line:-1
来自真实的用户的真实收据

00:35:44.244 --> 00:35:46.013 align:middle line:-1
你需要用一个登录界面

00:35:48.382 --> 00:35:49.783 align:middle line:-1
当你收到更新的收据时

00:35:49.850 --> 00:35:51.418 align:middle line:-1
你需要小心地避免

00:35:51.485 --> 00:35:54.555 align:middle line:-1
任何形式的连续循环验证和刷新

00:35:54.621 --> 00:35:57.191 align:middle line:-2
如果你收到更新的收据
请检查一下

00:35:57.257 --> 00:35:59.560 align:middle line:-1
如果它仍然无效 你就需要报告错误

