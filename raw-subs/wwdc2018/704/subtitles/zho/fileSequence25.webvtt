WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:25:00.000 --> 00:25:02.102 align:middle line:-1
你应该下载并向用户提供所有内容

00:25:02.402 --> 00:25:03.604 align:middle line:-2
然后调用
finishTransaction

00:25:06.139 --> 00:25:09.343 align:middle line:-2
在失败状态下
交易彻底失败

00:25:10.043 --> 00:25:12.145 align:middle line:-1
你应该检查错误并妥善处理

00:25:12.446 --> 00:25:14.882 align:middle line:-2
你可能要更新用户界面
记录分析 完成所有事

00:25:15.549 --> 00:25:17.084 align:middle line:-2
然后你应该调用
finishTransaction

00:25:18.118 --> 00:25:22.055 align:middle line:-1
此处还需要注意的是

00:25:22.122 --> 00:25:23.891 align:middle line:-2
如果用户取消这些交易
交易将以失败状态返回

00:25:24.458 --> 00:25:26.960 align:middle line:-1
所以你要检查错误 并确保

00:25:27.027 --> 00:25:29.997 align:middle line:-2
这不是由于用户取消交易产生的错误
因为在这种情况下不应显示任何界面

00:25:30.063 --> 00:25:32.366 align:middle line:-2
用户刚选择取消了
他们不需要知道交易失败了

00:25:35.836 --> 00:25:38.305 align:middle line:0
恢复状态
与购买状态非常相似

00:25:39.072 --> 00:25:41.241 align:middle line:0
它表示交易已经成功完成

00:25:41.308 --> 00:25:43.977 align:middle line:0
所以你应该再次下载
并将所有内容提供给用户

00:25:44.545 --> 00:25:45.812 align:middle line:0
然后你应该调用
finishTransaction

00:25:48.649 --> 00:25:49.783 align:middle line:0
最后 延迟状态

00:25:50.717 --> 00:25:54.421 align:middle line:0
它类似于购买状态
除了它意味着交易

00:25:54.488 --> 00:25:56.323 align:middle line:0
正在等待一些外部行动后继续

00:25:57.257 --> 00:25:59.493 align:middle line:-2
例如
用户开启了请求购买功能的时候

