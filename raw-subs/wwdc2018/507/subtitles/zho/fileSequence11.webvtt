WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:10:58.926 --> 00:11:02.930 align:middle line:0
并用它来回答未来的密钥加载请求

00:11:04.765 --> 00:11:07.534 align:middle line:0
请注意
这个更新的持久性密钥的有效期

00:11:07.601 --> 00:11:11.305 align:middle line:0
到播放持续时间结束
在我们的例子里是24小时

00:11:13.841 --> 00:11:18.212 align:middle line:0
现在 让我们换个角度
来谈谈错误处理吧

00:11:19.980 --> 00:11:22.749 align:middle line:-1
从改善播放体验的角度来看

00:11:23.016 --> 00:11:26.253 align:middle line:-1
错误处理是最重要的主题之一

00:11:27.988 --> 00:11:30.858 align:middle line:-1
成功加载密钥涉及许多步骤

00:11:31.158 --> 00:11:34.094 align:middle line:-1
不时的失败在所难免

00:11:35.128 --> 00:11:36.530 align:middle line:-1
所以 当失败发生时

00:11:36.597 --> 00:11:40.467 align:middle line:-2
你该做的第一件事是
用AVContentKeyRequest

00:11:40.734 --> 00:11:44.204 align:middle line:-2
或AVAssetResourceLoadingRequest
将失败报告给AVFoundation

00:11:45.539 --> 00:11:47.774 align:middle line:-1
有些错误是致命的 有些则不是

00:11:48.075 --> 00:11:50.244 align:middle line:-1
你应该帮助平台做出决定

00:11:51.645 --> 00:11:55.415 align:middle line:0
你应该做的另一件事是
监视错误日志和访问日志

00:11:55.616 --> 00:11:58.485 align:middle line:0
调查根本原因 并尝试减轻错误

00:11:58.552 --> 00:12:02.422 align:middle line:0
让你的用户在我们的平台上
获得他们应得的最佳体验

