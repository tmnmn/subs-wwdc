WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:21:59.426 --> 00:22:00.486 A:middle
才能执行此操作

00:22:01.016 --> 00:22:02.646 A:middle
我们来看一个例子

00:22:03.156 --> 00:22:05.696 A:middle
这里用户正在浏览新闻网站

00:22:05.696 --> 00:22:08.576 A:middle
news.example 并且该网站

00:22:08.576 --> 00:22:10.036 A:middle
有来自 video.example 的

00:22:10.036 --> 00:22:11.786 A:middle
嵌入式视频播放器

00:22:12.686 --> 00:22:14.676 A:middle
用户在该视频网站上

00:22:14.676 --> 00:22:16.406 A:middle
拥有付费帐户 并希望授予

00:22:16.406 --> 00:22:17.986 A:middle
对其 Cookie 的

00:22:17.986 --> 00:22:20.666 A:middle
嵌入式视频访问权限

00:22:20.666 --> 00:22:22.226 A:middle
以便他们在阅读新闻时

00:22:22.226 --> 00:22:24.566 A:middle
享受其订阅的好处

00:22:25.746 --> 00:22:26.676 A:middle
为实现这一目标

00:22:26.776 --> 00:22:29.146 A:middle
video.example 需要实现

00:22:29.206 --> 00:22:30.576 A:middle
Storage Access API

00:22:32.866 --> 00:22:35.356 A:middle
当用户点击其 App 中的

00:22:35.446 --> 00:22:37.636 A:middle
播放按钮时 Video.example

00:22:37.636 --> 00:22:39.336 A:middle
应向 Storage Access API

00:22:39.366 --> 00:22:40.486 A:middle
添加一个调用

00:22:41.026 --> 00:22:42.976 A:middle
这是一个异步 API

00:22:43.086 --> 00:22:44.976 A:middle
它将返回一个承诺

00:22:44.976 --> 00:22:46.206 A:middle
所以你应同时准备好

00:22:46.206 --> 00:22:47.856 A:middle
处理成功及失败两种情况

00:22:48.396 --> 00:22:50.946 A:middle
因此 当用户点击播放按钮时

00:22:50.946 --> 00:22:52.286 A:middle
将会启动一个请求

00:22:52.286 --> 00:22:54.726 A:middle
这将提示用户

00:22:54.876 --> 00:22:57.296 A:middle
是否希望在

00:22:57.296 --> 00:22:58.146 A:middle
嵌入 news.example 时

00:22:58.496 --> 00:23:00.776 A:middle
授予对其 Cookie 的

