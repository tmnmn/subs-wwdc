# CarPlay Audio and Navigation Apps

## Summary
Learn how to update your audio or navigation app to support CarPlay. Apps in CarPlay are optimized for use in the car, and automatically adapt to available vehicle screens and input controls. Audio apps can deliver music, news, podcasts, and more. With the new CarPlay framework, Navigation apps can provide detailed maps, destination search, turn-by-turn guidance, and user notifications.

## Info
* Frameworks
* WWDC 2018 - Session 213 - iOS
* https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/

## Text
 [[ Music ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=7) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=23) [&gt;&gt; Welcome to CarPlay Audio and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=29) [Navigation Apps.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=31) [I'm Jonathan, an engineer on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=32) [iOS Car Experience Team.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=34) [We are so excited to share some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=36) [updates with you today to help](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=38) [you build a great experience in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=40) [CarPlay.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=41) [We'll start by reviewing CarPlay](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=44) [Audio apps.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=46) [Then, we'll introduce the brand](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=47) [new CarPlay framework for your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=48) [navigation apps.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=50) [And we'll drive a quick detour](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=52) [to show you how easy it is to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=54) [build a great navigation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=55) [experience in CarPlay.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=57) [Let's start with a quick review](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=58) [Let's start with a quick review](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=58) [of CarPlay.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=60) [CarPlay is a smarter safer way](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=63) [to use iPhone in the car.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=65) [You can seamlessly perform](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=67) [common scenarios while driving](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=69) [using your car's built-in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=71) [display.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=72) [You can make calls, send and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=73) [receive messages, listen to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=75) [audio, podcasts, and radio, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=77) [now, get directions with your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=80) [navigation apps, all while](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=81) [staying focused on the road.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=83) [You can think of the car screen](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=85) [like a second external display](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=87) [for your phone.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=89) [Your app can present a version](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=91) [of itself on the car screen with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=93) [UI and features optimized for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=95) [use in the car.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=97) [There are some special design](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=99) [considerations for your app when](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=101) [presented in CarPlay.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=103) [CarPlay vehicles have a wide](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=106) [variety of input styles.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=108) [Some cars have touchscreens.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=109) [Others have a rotary knob that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=111) [lets you move focus around and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=113) [select elements.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=115) [And some have a touchpad that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=116) [allows for swipe gestures, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=118) [you can even do character entry](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=119) [you can even do character entry](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=119) [by tracing with your finger.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=121) [In a right-hand drive vehicle,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=123) [the CarPlay status bar and app](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=126) [content will automatically](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=128) [switch sides to be closest to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=129) [the driver.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=131) [Some cars, also, inform iOS when](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=133) [to transition to a dark](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=136) [interface mode.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=139) [Usually, when it's nighttime or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=139) [when the vehicle's headlights](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=141) [are turned on.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=142) [Your app can use this as a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=144) [signal to, for example, update](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=145) [your map tile display style.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=147) [CarPlay vehicles, also, support](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=149) [a wide variety of screen sizes](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=153) [and aspect ratios.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=155) [iOS handles all of these input](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=157) [methods for you, so you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=158) [write your app just once for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=160) [CarPlay and rest assured it'll](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=161) [be supported on all of these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=163) [configurations.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=165) [So, what kind of apps can you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=166) [build in CarPlay?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=167) [These are the five categories of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=169) [CarPlay apps.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=171) [The car is a special place and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=172) [if you have an app in one of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=174) [these five categories you'll](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=175) [need to apply for an entitlement](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=177) [for your app to work in CarPlay.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=179) [for your app to work in CarPlay.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=179) [If you're unsure whether your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=182) [app fits into these categories](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=183) [and you're here at the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=185) [conference, please come talk to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=185) [us in our lab, later today.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=187) [More details on that, soon.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=189) [You can, also, go to this URL to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=191) [request an entitlement for your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=192) [app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=195) [Let's quickly review these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=195) [categories of CarPlay apps.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=196) [Auto maker apps are a special](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=199) [category of CarPlay app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=201) [These apps are built by the auto](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=203) [maker and work only in vehicles](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=204) [from that manufacturer.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=206) [They can display fully](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=208) [customized UIs for scenarios](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=210) [like heating and cooling, seat](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=212) [controls, and other direct](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=214) [integrations with the vehicle.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=215) [SiriKit integration into these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=217) [apps allows you to change all of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=219) [these settings with just your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=221) [voice.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=223) [Last year, we introduced](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=225) [messaging and VoIP apps to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=227) [CarPlay.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=228) [Your messaging and VoIP app can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=229) [tap into SiriKit.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=231) [So, your users can perform many](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=232) [common messaging tasks while](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=234) [connected to CarPlay, again,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=236) [while staying focused on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=238) [road.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=239) [Check out SiriKit for more](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=240) [details and see our session from](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=241) [last year, Enabling Your App for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=243) [CarPlay.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=245) [In a prior release of iOS, we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=246) [introduced third party audio](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=250) [apps to CarPlay.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=251) [Audio apps use a template](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=253) [interface optimized for the car,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=254) [where your app provides data and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=256) [metadata for the car's screen.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=258) [We have some exciting new](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=260) [performance improvements and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=261) [optimizations to share with you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=263) [today for audio apps.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=264) [And last but not least, today](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=266) [we're introducing the CarPlay](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=269) [framework, a brand new iOS](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=270) [framework for your navigation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=273) [apps in CarPlay.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=274) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=277) [Just like with audio apps, iOS](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=282) [displays your app on the car's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=284) [screen and handles the interface](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=285) [with the car.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=287) [Your app doesn't need to worry](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=288) [about input hardware or many](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=290) [vehicle specific considerations.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=291) [You only need to update your map](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=294) [tile experience to be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=295) [appropriate for the car.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=297) [The CarPlay framework provides a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=299) [The CarPlay framework provides a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=299) [fixed set of UI templates that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=300) [iOS renders on the car screen.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=303) [Your app decides how to create](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=305) [and configure these templates](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=307) [and what actions to take in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=308) [response to the user interacting](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=310) [with your app's templates.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=312) [We'll hear much more about the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=313) [CarPlay framework, soon.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=315) [Back to our CarPlay app](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=316) [categories, today we'll be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=319) [focusing on two of these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=320) [categories; audio and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=322) [navigation.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=323) [Let's start with audio apps.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=324) [Albert.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=326) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=328) [&gt;&gt; Thanks, Jonathan.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=333) [I'm super stoked to talk to you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=335) [all today about CarPlay audio](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=336) [apps.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=338) [We're going to go through a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=339) [brief overview of how to get](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=340) [your audio app set up for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=341) [CarPlay.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=343) [Some performance improvements](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=344) [and optimizations we've made for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=345) [iOS 12, and some best practices](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=347) [to make.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=349) [And some common scenarios to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=350) [account for when developing your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=351) [audio app for CarPlay.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=353) [Now, driving and audio go hand](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=355) [in hand.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=358) [It's very clear that when you're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=358) [It's very clear that when you're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=358) [driving you want to listen to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=360) [your favorite hits, your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=361) [classics, or even stream some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=363) [podcast episodes, or listen to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=365) [the latest news on radio.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=368) [We want to make sure that if](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=370) [you're developing an audio app](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=371) [that you want to provide the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=373) [best experience to your drivers.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=374) [Now, to illustrate this, I want](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=377) [to let you guys in on a little](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=378) [side project that I've been](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=380) [working on.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=380) [It's a little app that I think](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=381) [will be a great hit.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=383) [My app is called Srirocka.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=385) [It combines two of my most](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=388) [favorite things; hot sauce and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=390) [hot tracks.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=393) [And with these synergies I think](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=394) [it'll be one of the top audio](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=396) [apps on the App Store when it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=398) [launches.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=399) [Now, Srirocka is already a fully](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=401) [functioning audio app and we'll](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=403) [need to add CarPlay support to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=405) [it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=406) [So, let me illustrate how](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=406) [this'll be done.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=407) [Like Jonathan mentioned, CarPlay](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=410) [uses templates that will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=412) [abstract away many of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=413) [different complexities CarPlay](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=415) [has, such as input methods and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=416) [screen sizes, and so on.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=418) [screen sizes, and so on.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=418) [So, your audio app just needs to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=420) [be able to display information](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=422) [onto the CarPlay display and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=424) [provide the best content.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=425) [This is, usually, done by using](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=427) [a table view or tabs, depending](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=429) [on how you want to present your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=430) [data.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=432) [You'll need to focus on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=433) [delivering the appropriate](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=434) [content to a CarPlay user.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=435) [And if you're already developing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=437) [an audio app, it uses existing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=438) [APIs you may be already familiar](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=440) [with.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=441) [So, let's take a look at this in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=442) [detail.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=446) [So, these are the three APIs](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=446) [that you'll need to know to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=447) [launch your app in CarPlay.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=448) [If you want to learn more about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=451) [this in detail, we had a session](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=452) [last year that goes through the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=454) [details of each single API.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=455) [But I'll go through a brief](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=456) [summary of every single one of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=458) [these.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=459) [To browse your content on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=460) [CarPlay display, you'll need to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=462) [use MPPlayableContent.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=463) [MPPlayableContent has a data](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=465) [source and a delegate, so that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=467) [you or your audio app can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=468) [populate your app's information](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=470) [onto the CarPlay display.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=471) [As well as a delegate to receive](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=473) [callbacks whenever the user](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=475) [selects something on the CarPlay](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=476) [display.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=477) [Now, if you already set Now](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=479) [Now, if you already set Now](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=479) [Playing metadata to Control](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=480) [Center or Lock Screen, or you're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=482) [already working on this on your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=483) [existing audio app, you're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=485) [already familiar with these two](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=486) [APIs.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=488) [MPNowPlayingInfo Center allows](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=489) [you to populate your now playing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=492) [metadata and things such as](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=494) [title and album artwork and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=496) [etcetera onto the CarPlay's now](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=497) [playing screen.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=499) [As well as Control Center and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=500) [Lock Screen if you've already](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=501) [been doing so.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=502) [MPRemoteCommandCenter allows](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=504) [your app to respond to remote](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=506) [command events, such as the Play](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=507) [command, Next Track, and so on.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=509) [We want to allow your CarPlay](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=512) [app for a seamless Now Playing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=513) [experience.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=514) [Now, let's take a look at how](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=515) [this is done in code.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=516) [So, when Srirocka is launched,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=519) [I'm going to use Srirocka as an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=520) [example, here.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=521) [This is what is needed at a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=522) [minimum to support CarPlay audio](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=523) [apps.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=525) [Srirocka will provide a data](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=526) [source and a delegate to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=527) [MPPlayableContentManager, so](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=529) [that Srirocka can provide](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=531) [information to the CarPlay](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=532) [display and respond when](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=533) [absolutely necessary.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=535) [Next, I've set](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=537) [NowPlayingInfoCenter to let](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=539) [NowPlayingInfoCenter to let](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=539) [MPNowPlayingInfoCenter know that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=541) [my app will be providing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=542) [NowPlaying metadata when it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=543) [becomes a Now Playing app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=545) [And finally, I've responded to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=547) [MPRemoteCommandCenter events.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=549) [Specifically, just a Play](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=550) [command in this case, so that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=552) [when Srirocka becomes the Now](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=554) [Playing app it can respond to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=555) [these events.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=556) [So, we can see here that the one](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=558) [API that was needed for CarPlay](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=561) [is MPPlayableContent.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=563) [And for iOS 12, we took a good](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=564) [look at how to better optimize](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=567) [this and we can safely say, for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=568) [iOS 12, we've remastered](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=570) [MPPlayableContent.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=572) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=574) [We took a deep dive into](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=579) [MPPlayableContent and we pushed](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=580) [for performance improvements in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=582) [how the data source and delegate](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=583) [calls are made.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=585) [Without changing your current](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=587) [audio app's implementation in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=588) [CarPlay, we sped up the startup](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=589) [sequence and provided much](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=591) [smoother animations whenever](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=593) [content is changed on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=594) [CarPlay display.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=595) [We've also provided much better](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=597) [communication to your app to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=598) [communication to your app to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=598) [anticipate whatever the user may](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=600) [want to play or to browse on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=602) [CarPlay display.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=603) [Now, there's lots of room to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=605) [improve on your audio app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=606) [And let's see how we can do](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=608) [this.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=609) [The first of which, is that we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=609) [looked into the implementation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=611) [of reloadData.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=612) [Which, is a call in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=613) [MPPlayableContent, and figured](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=614) [out how to better optimize this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=615) [for your audio app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=617) [What we found is that you should](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=619) [really only call reloadData when](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=621) [absolutely needed.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=622) [What it does is that it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=624) [deconstructs the entire apps'](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=626) [hierarchy on the CarPlay display](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=627) [and asks your audio app to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=629) [reconstruct everything again.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=631) [And this can be a very expensive](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=632) [operation, leaving your app not](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=634) [very responsive.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=635) [Instead, if you just have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=637) [content that just needs to be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=638) [updated, you should wrap them](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=640) [together inside of a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=641) [beginUpdates and an endUpdates](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=642) [call, so then that content can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=644) [be updated, appropriately.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=645) [Now, these calls that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=648) [MPPlayableContent has are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=650) [asynchronous operations when we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=652) [ask you app for your data.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=653) [So, keep an internal](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=655) [representation or a cache of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=656) [your information on somewhere in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=658) [your information on somewhere in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=658) [your app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=660) [So, then that when we ask for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=661) [your content information you're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=662) [able to provide us information](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=663) [quickly and makes your app](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=665) [responsive.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=666) [Next, let's discuss some ways to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=668) [further optimize your audio](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=670) [app's performance in CarPlay.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=672) [So, Srirocka, already, has a bit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=674) [of an implementation and is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=676) [partially implemented.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=677) [And the user has decided to make](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=678) [a selection on the Heating](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=679) [Habaneros playlist.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=681) [It is one of the top playlists](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=682) [that's super-hot.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=684) [But it seems to be stuck](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=686) [loading.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=688) [We're not entirely sure what's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=688) [going on, here.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=689) [And CarPlay, actually, will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=690) [timeout if the app doesn't](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=692) [provide content in time.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=693) [Because it doesn't call](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=694) [completion handlers or just](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=695) [simply isn't returning its](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=696) [information.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=697) [But what's going on, on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=698) [phone, here?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=700) [So, CarPlay users are, usually,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=702) [driving in areas where there's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=704) [not a speedy connection or their](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=706) [screen is locked.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=707) [A vast majority of CarPlay users](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=709) [are driving with the screen](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=710) [locked and with a passcode.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=711) [After all, they're driving.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=712) [If your app has data protection](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=715) [policies that are dependent on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=717) [the phone being unlocked, you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=718) [the phone being unlocked, you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=718) [won't be able to access your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=720) [app's information and,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=721) [ultimately, CarPlay will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=722) [timeout.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=723) [So, if your data needs to be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=724) [accessed while the phone is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=726) [unlocked, you'll need to audit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=727) [your app's data intergradation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=728) [policies.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=730) [The other issue is that you may](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=732) [be driving in areas, or CarPlay](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=736) [users are driving in areas with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=738) [little to no cellular](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=739) [network-tivity [phonetic].](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=740) [Drivers are driving everywhere,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=742) [from the country roads and rural](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=743) [areas, to big cities.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=745) [And these are very varied areas](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=747) [with different CarPlay,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=750) [different data service.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=752) [And you need to test for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=753) [situations that are not just the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=755) [constant WIFI network](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=756) [connection.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=757) [Now, Srirocka does account for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=759) [all of this, as well.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=760) [But it uses some very advanced](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=761) [machine learning to see what are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=763) [the hottest tracks.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=765) [And after all, all of this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=766) [happens on device, since privacy](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=768) [is a very important issue.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=769) [And this just takes some time to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=770) [process.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=772) [Well, what happens in this case?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=773) [We have an API called](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=775) [beginLoadingChildItems at](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=777) [indexPath to initiate fetching](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=778) [indexPath to initiate fetching](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=778) [content.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=780) [This API will be called whenever](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=781) [any of your index paths are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=784) [visible on the CarPlay display.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=785) [So, when the user is scrolling](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=787) [through table cells or selecting](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=788) [different tabs,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=790) [beginLoadingChildItems will be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=791) [called for every single index](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=792) [path that shows on the display.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=794) [This gives your app a chance to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=797) [start loading before the user,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=798) [actually, selects the content.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=800) [And here's a code example inside](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=802) [of Srirocka, where when the user](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=803) [sees that the Heating Habaneros](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=806) [playlist is visible on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=808) [CarPlay display, we start](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=809) [processing that playlist.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=811) [And when the user makes a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=812) [selection, will have either been](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=813) [midway through the network](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=815) [request or ready to go and able](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=816) [to provide content.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=819) [So, let's take a look at some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=821) [app scenarios that may occur](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=822) [when developing your app for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=825) [CarPlay.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=827) [Now, Srirocka provides a very](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=828) [rich user experience when logged](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=830) [out.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=832) [It's very clear here, with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=833) [beautiful typography and great](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=834) [graphic design, that the user is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=836) [logged out and will need to log](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=838) [logged out and will need to log](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=838) [in.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=840) [But how does this look on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=841) [CarPlay?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=842) [Well, Srirocka, actually,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=844) [doesn't provide data when logged](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=845) [out.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=846) [And this leads to a very poor](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=847) [user experience.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=848) [The user doesn't really know](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=850) [what's going on here and isn't](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=851) [able to interact with your app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=853) [You should make sure that you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=856) [should provide some type of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=857) [experience, so that the user can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=859) [at least interact with your app,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=861) [even if your app is logged out.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=862) [So, this leads to a very good](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=864) [user experience for your audio](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=865) [app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=868) [So, wrapping all this up, we can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=868) [say that CarPlay audio apps have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=870) [its greatest hits.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=871) [MPPlayableContent allows your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=873) [app to provide templates to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=875) [CarPlay display so that your app](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=877) [can provide users a good user](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=878) [experience to the CarPlay](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=880) [display.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=881) [You should account for real](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=882) [world scenarios, such as when](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=883) [your app is logged out or your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=885) [screen is locked, so then that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=886) [your app can still function](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=888) [beautifully in CarPlay.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=889) [And with iOS 12, we made some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=891) [great optimizations and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=893) [performance improvements to make](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=894) [your app even better in CarPlay.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=896) [So, you should run your app](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=898) [again and see if there's any](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=899) [again and see if there's any](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=899) [performance improvements you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=900) [make to your app, to make it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=901) [even better.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=902) [Now, to make us sure that we're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=904) [steering in the right direction,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=905) [I'd like to invite my colleague,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=907) [Mike, to talk about navigating](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=908) [with the CarPlay framework.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=909) [Thank you.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=910) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=912) [&gt;&gt; All right.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=917) [Thank you, Albert.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=917) [I am thrilled to share with you,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=919) [today, how to add CarPlay](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=920) [support to your navigation apps.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=922) [Navigation is such a huge part](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=924) [of the CarPlay experience and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=927) [your users will be so happy to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=929) [see their favorite apps on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=931) [car screen.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=933) [As Jonathan and Albert have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=934) [previously mentioned, we've](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=936) [employed a template based](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=937) [approach for previous app](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=939) [categories.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=940) [Your apps have been able to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=940) [provide data and metadata that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=942) [iOS will display on the car](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=945) [screen and manage these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=946) [interactions on your app's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=947) [behalf.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=948) [And this has worked extremely](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=949) [well.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=951) [But, we realize that navigation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=952) [apps are a little bit different.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=954) [Your apps have beautiful maps.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=956) [And such incredible and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=960) [immersive navigation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=961) [experiences.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=962) [And your users will expect to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=963) [see that on the car screen.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=964) [So, new in iOS 12, we're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=967) [introducing the CarPlay](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=969) [framework.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=970) [The CarPlay framework is your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=971) [toolkit for building great](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=973) [interactive experiences on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=975) [car screen.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=977) [It uses a fixed set of template](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=978) [objects that your apps can build](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=980) [and use, and that iOS will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=981) [translate into a UI presented on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=983) [top of your app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=985) [With this and a little bit of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=987) [effort on your part, your apps](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=988) [will support all CarPlay](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=990) [systems.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=992) [So, let's take a look at an app](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=994) [in CarPlay.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=995) [We've been building our own](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=996) [navigation app that we call](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=997) [Country Roads.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=999) [It takes us to our favorite](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1000) [destinations using the scenic](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1001) [route.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1003) [And let's see what it looks like](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1004) [on CarPlay.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1005) [We're looking at the CarPlay](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1007) [home screen and you can see our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1008) [Country Roads app icon right](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1009) [there with the rest of the apps](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1011) [on iOS.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1012) [As we launch it, the first thing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1013) [you'll be greeted with is our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1015) [beautiful map tiles.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1017) [When connected to CarPlay, a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1019) [When connected to CarPlay, a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1019) [navigation app will be given a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1020) [window to draw content on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1021) [car screen.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1023) [This window is your canvas for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1024) [displaying all that beautiful](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1026) [noninteractive mapping and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1028) [navigation related content.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1029) [Then, as the app used templates](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1032) [iOS will take those templates](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1034) [and translate it into a UI](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1036) [presented on top of your app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1037) [So, let's take a look at the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1040) [code on what happens when your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1041) [app is connected to CarPlay.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1043) [The first thing you'll need to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1045) [note is that your application](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1046) [delegate will need to conform to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1048) [the CarPlay application delegate](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1050) [protocol, CP Application](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1051) [Delegate.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1053) [One function in that protocol is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1055) [application didConnectCar](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1056) [InterfaceController to window.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1058) [This function will provide two](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1061) [very important objects to your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1062) [apps.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1063) [The first is an instance of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1064) [CPInterfaceController.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1066) [CPInterfaceController is your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1068) [connection to the template world](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1070) [and what your apps will use to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1072) [manage what is displaying on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1073) [car screen.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1074) [Additionally, you're given the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1076) [window I just mentioned, which](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1077) [is where you can draw all your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1078) [mapping content.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1079) [mapping content.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1079) [You want to be sure to keep a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1081) [reference to both of these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1082) [objects throughout the duration](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1083) [of the CarPlay session.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1085) [Next, you can create a new view](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1087) [controller to populate that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1088) [window with content and assign](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1090) [it to windows review controller.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1091) [And then, create a root](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1093) [template.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1094) [And using that interface](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1095) [controller object, you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1096) [setRootTemplate on the car](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1097) [screen.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1098) [So, let's talk about some of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1099) [these templates that are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1101) [available in the CarPlay](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1102) [framework.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1103) [And we'll start with one you've](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1104) [already seen and where your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1106) [users will spend a majority of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1107) [their time.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1109) [And that is on the map template.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1110) [The map template is unique from](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1113) [all the other templates in that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1114) [it is transparent to your app](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1115) [window.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1117) [So, the content that you draw on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1118) [that window will be displayed](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1120) [underneath the content provided](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1122) [by the map template.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1123) [The map template can be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1125) [configured in a few different](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1126) [places.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1127) [You can place buttons in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1128) [navigation bar.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1129) [You can place up to four; two on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1131) [the leading side and two on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1132) [trailing side.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1134) [These are instances of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1136) [CPBarButton and are created](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1138) [CPBarButton and are created](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1138) [either with text or images and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1140) [are automatically sized and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1142) [styled by the system.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1144) [There's no notion of predefined](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1146) [button actions in the CarPlay](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1148) [framework.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1149) [But when you create a button,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1150) [you provide a custom action](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1151) [handler.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1153) [And when the user interacts with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1153) [your button on the car screen](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1155) [your custom action handler will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1157) [be called in your app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1158) [You may also place up to four](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1160) [buttons that appear above your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1162) [map window.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1163) [And these are map buttons.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1165) [You can create them with an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1166) [image, and unlike the bar](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1167) [buttons, these are not styled by](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1169) [the system.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1171) [The map template is also home to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1172) [a lot of other mapping and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1174) [navigational related](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1176) [functionality.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1177) [Such as panning the map,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1178) [providing important contextual](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1181) [information to your users using](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1182) [navigation alerts.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1184) [And of course, turn by turn](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1185) [guidance.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1187) [We're going to talk about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1188) [guidance in a little bit.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1189) [So, let's get started by going](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1190) [over panning and navigation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1191) [alerts.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1193) [If your app supports panning the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1194) [map, we require that you present](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1196) [a button on the map template,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1198) [a button on the map template,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1198) [either in the navigation bar or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1200) [as a map button that enters pan](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1202) [mode.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1205) [When a map template enters pan](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1206) [mode it will display four](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1207) [directional buttons that your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1209) [users can interact with and are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1210) [translated into an API, where](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1212) [your app only needs to know](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1213) [which direction to pan the map.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1215) [This is an example of how the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1217) [CarPlay framework has abstracted](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1218) [away a lot of the complexities](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1220) [of all the various CarPlay](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1221) [systems.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1222) [These buttons can be interacted](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1223) [with using touch, both high](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1225) [latency and low latency](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1227) [touchscreens.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1228) [Using a rotary knob or touchpad](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1229) [to select one of these buttons.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1231) [And additionally, for CarPlay](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1233) [systems that have a rotary knob](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1235) [that also supports joystick of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1237) [directional movement, those same](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1238) [movements will be translated](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1240) [into this API.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1241) [Your app does not need to worry](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1242) [about where it came from.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1244) [While your users are driving,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1246) [you may want to present](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1248) [information to them, such as a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1249) [road closure ahead or maybe, a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1251) [better route is available.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1253) [For this, you can use navigation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1255) [alerts.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1256) [Navigation alerts present on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1258) [Navigation alerts present on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1258) [map template and can be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1260) [configured with a title,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1261) [subtitle, image, primary and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1262) [secondary action, and if it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1265) [makes sense, you can use a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1267) [dismiss interval after which the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1268) [alert will self-dismiss.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1270) [Let's take a look at some code](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1272) [on how we built our root](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1274) [template.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1276) [And let's add a new button for a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1276) [missing feature on our Country](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1278) [Roads app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1280) [Since this was our function that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1282) [created out root template, the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1283) [first thing we're going to do is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1284) [create an instance of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1286) [CPMapTemplate.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1287) [We will then create a new button](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1288) [for a missing feature.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1291) [One of the great things about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1293) [Country Roads is that our users](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1294) [can search for their favorite](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1296) [categories.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1297) [And we'll add a new button for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1298) [that.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1299) [So, let's create a CPBarButton](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1300) [of type Image.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1301) [And in its custom action handler](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1302) [we will call a function of our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1304) [own that is display our favorite](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1305) [categories.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1307) [We'll then retrieve an image and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1308) [assign it to the button.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1310) [And we want this button to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1311) [appear in the trailing space](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1312) [alongside our traffic button.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1314) [So, we'll assign those two](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1315) [buttons to the trailing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1317) [navigation bar buttons on our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1318) [map template.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1319) [And then, return our map](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1320) [template.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1321) [Great. Now, that we have a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1322) [button on our map template, we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1323) [want a way to display those](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1325) [favorite categories to our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1327) [users.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1328) [The CarPlay framework has a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1329) [great template for this.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1330) [And that is the grid template.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1331) [The grid template will display](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1333) [an array of up to eight buttons](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1335) [in a grid format.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1337) [These buttons appear here and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1339) [can be configured with an image](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1342) [and a title.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1343) [The grid template also has a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1345) [navigation bar, where you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1347) [place the same leading and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1348) [trailing buttons.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1349) [But you can also create a grid](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1351) [template with a title that will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1352) [appear in the navigation bar.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1354) [Let's jump over the code and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1356) [let's create a grid template.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1357) [We'll start by retrieving an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1361) [image for our grid button.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1363) [We're going to add a Parks](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1365) [button.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1368) [We'll then create an instance of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1368) [CPGridButton with a title of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1369) [Parks and the image we just](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1371) [retrieved.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1373) [That, with the other buttons,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1375) [we'll assign to an array.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1376) [And then, create an instance of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1378) [CPGridTemplate with a title of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1379) [CPGridTemplate with a title of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1379) [Favorites, since these are our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1381) [favorite categories, and the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1383) [array of grid buttons we've](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1384) [created in code.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1386) [And this is where we jump back](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1387) [to that interface controller](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1389) [object I mentioned earlier.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1390) [That is how we manage what is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1392) [presenting on the car screen.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1393) [So, we would use that interface](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1395) [controller to push this new grid](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1396) [template onto the car screen.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1398) [Now, that we have a way to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1400) [search for our favorite](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1403) [categories and our favorite](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1404) [items, we need a way to display](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1405) [the search results to our users.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1407) [For that, we can use a list](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1409) [template.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1410) [The list template will display a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1412) [list of CPList items.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1413) [They can be configured with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1415) [text, detailed text, an image,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1417) [and a disclosure indicator.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1419) [You can provide multiple](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1421) [sections.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1422) [And you also, have a navigation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1422) [bar where you can provide a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1424) [title and those same leading and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1425) [trailing buttons.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1426) [One of the nice things about the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1427) [CarPlay framework is that, when](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1429) [appropriate, it will also](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1430) [display a nice scroll bar on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1431) [side that helps your users page](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1433) [through their search results](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1435) [while driving.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1436) [Let's build a list template.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1438) [The first thing we're going to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1439) [The first thing we're going to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1439) [need to do is take that array of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1441) [our own search results and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1444) [translate them into an array of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1445) [CPListItems.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1447) [So, we'll do that by using some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1449) [of the properties on our search](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1450) [result class.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1451) [We will then initialize a new](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1454) [CPListTemplate with one section](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1456) [of those items, assign a title](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1459) [of Parks, and also, assign a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1461) [delegate to manage interaction](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1463) [from the user.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1464) [We, again, use the interface](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1466) [controller to push our new](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1467) [template onto the car screen.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1468) [When the user interacts with an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1471) [item on the screen listTemplate](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1472) [didSelect item completion](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1476) [handler will be called on your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1477) [list template delegate.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1479) [There are a few other items](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1481) [available in the CarPlay](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1483) [framework that I'd like to go](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1484) [over, briefly.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1485) [The first is a great example of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1487) [how complex CarPlay can be and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1489) [how the CarPlay framework helps](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1491) [you not have to worry about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1492) [that.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1494) [What we're looking at, right](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1495) [now, is the search template](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1496) [available in the CarPlay](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1498) [framework presenting a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1499) [framework presenting a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1499) [touchscreen keyboard.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1500) [But one thing we've learned is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1502) [that not all CarPlay systems](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1503) [have a touchscreen.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1505) [Many only have a rotary knob or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1506) [touchpad for user interaction.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1508) [On those systems, when](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1510) [appropriate, the CarPlay](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1511) [framework will display a linear](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1513) [style keyboard.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1514) [And of course, for those](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1516) [touchpads that do support](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1517) [character recognition, through](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1518) [the same search template API](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1520) [your app will receive those](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1522) [characters as entered for free.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1523) [You may, also, want to present](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1526) [information to your users in a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1528) [way that demands a little bit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1529) [more of their attention.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1530) [For that, you can present a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1532) [CPAlert in ActionSheetStyle or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1533) [for information that truly](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1536) [commands their attention, you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1538) [can use a full screen template.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1539) [And lastly, since voice is such](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1542) [a huge part of your apps, we'll](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1544) [be providing a template that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1547) [will help you manage voice](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1548) [control.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1550) [And with that, I'd like to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1550) [invite Jonathan back up to give](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1552) [you a demo of our Country Roads](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1553) [app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1555) [Jonathan.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1555) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1556) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1556) [&gt;&gt; Thanks, Mike.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1561) [Let's take a quick look at](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1563) [Country Roads.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1564) [This is the CarPlay simulator.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1571) [It's included with Xcode.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1573) [Let's start on the CarPlay home](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1575) [screen, where we can see our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1577) [custom navigation app enabled](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1578) [for CarPlay.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1580) [Let's tap the icon to launch our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1581) [app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1583) [When our app launches, we start](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1584) [on the map template.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1586) [Here, the app overlay that Mike](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1587) [mentioned is fully transparent](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1589) [and it allows our app's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1591) [beautiful map tiles to show](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1592) [through.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1594) [This map is really out of this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1595) [world.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1596) [I have some basic controls on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1597) [this map, like zooming in and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1599) [out with ECP Map buttons.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1601) [I can, also, switch in and out](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1604) [of pan mode using this pan](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1607) [button.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1609) [All of these buttons are simple](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1612) [configurable template objects.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1614) [CarPlay tells my app when the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1616) [user has interacted with a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1618) [button and my app can zoom in or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1619) [button and my app can zoom in or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1619) [out or take any other](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1621) [appropriate action in response.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1623) [That new Favorites button that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1625) [Mike just added shows up in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1627) [navigation bar on the trailing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1628) [side.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1630) [When we tap it our app has](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1631) [created, configured, and pushed](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1633) [a grid template that lets us](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1635) [navigate to certain very](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1637) [important destinations.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1638) [If we select Parks our app](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1640) [creates, configures, and pushes](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1642) [a list template where we can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1644) [visualize search results for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1646) [interesting nearby parks.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1647) [We'll revisit Country Roads,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1649) [shortly.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1651) [But for now, back to Mike.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1651) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1655) [&gt;&gt; All right.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1660) [Thanks, Jonathan.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1661) [So, let's talk about one of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1663) [most important functions that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1664) [your apps will provide to your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1666) [users while driving.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1667) [And that, of course, is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1668) [turn-by-turn guidance.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1670) [Let's start by walking through a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1672) [typical flow your users may see](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1673) [while beginning a navigation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1676) [session.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1677) [The first thing they need is a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1678) [The first thing they need is a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1678) [destination.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1681) [This could be something that is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1682) [surfaced by your app through a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1683) [navigation alert.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1685) [Or perhaps, they've done a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1686) [search and found a destination](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1687) [they want to travel to.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1689) [They may want to, then, preview](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1691) [the route and see important](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1692) [information about it, such as](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1693) [how long it might take to get](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1695) [there and what their estimated](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1696) [arrival time is.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1697) [If there are multiple route](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1699) [choices for the trip they're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1700) [about to take they'll probably](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1701) [want to preview each of those](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1703) [routes and make a choice that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1704) [suits them best.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1706) [They'll then select a route and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1708) [begin navigation.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1709) [This is when your app will begin](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1711) [providing turn by turn updates](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1713) [to the user.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1715) [Eventually, they'll arrive at](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1716) [their destination or cancel](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1718) [navigation.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1719) [And let's take a look at how you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1721) [can accomplish this same flow](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1722) [using the CarPlay framework.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1724) [Let's start by talking about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1726) [Route Preview.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1728) [Your app can provide data that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1729) [will appear in a way that the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1732) [user can see and visualize all](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1733) [the important details about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1736) [their upcoming trip.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1737) [You can provide destination](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1739) [You can provide destination](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1739) [names, information that is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1741) [pertinent to the route, such as](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1743) [advisory notices.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1744) [You can, also, provide estimates](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1745) [to let them know when they'll](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1747) [arrive.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1748) [And if the trip has multiple](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1749) [routes the CarPlay framework](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1751) [will automatically display a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1752) [more routes button.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1753) [This will allow your users to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1755) [toggle between individual routes](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1757) [and select the one that they](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1759) [want to take.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1760) [Let's look at the classes and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1762) [methods you'll want to be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1763) [familiar with to build an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1764) [experience in the CarPlay](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1766) [framework route preview.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1767) [The first is CPTrip.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1769) [This is a representation of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1772) [upcoming trip for your users.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1773) [It includes items such as the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1776) [origin and destination, as well](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1777) [as multiple CPRouteChoices for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1779) [each route that they may take.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1781) [CPTravelEstimates describes how](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1784) [long it will take for an entire](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1786) [trip, as well as for individual](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1787) [maneuvers.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1789) [On your map template, when you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1790) [are ready to show a route](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1791) [preview to your users, you call](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1793) [ShowTripPreviews on your map](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1795) [template with the CPTrip object](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1797) [you've created.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1799) [As the user toggles through](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1800) [individual routes you have an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1801) [opportunity to update the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1803) [content that is being displayed](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1804) [in your window.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1806) [MapTemplate selectedPreviewFor](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1807) [trip using routeChoice will be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1809) [called and you can change what](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1811) [is being displayed.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1812) [This is a great opportunity to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1813) [mention how the map template is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1815) [drawing content that covers up](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1817) [your window.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1819) [And you'll want to make sure](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1821) [that the content you're drawing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1822) [is visible to your users.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1823) [For this, we've leveraged the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1826) [existing safeArea API you may](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1827) [already be familiar with.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1829) [As the content changes from the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1831) [map template it will update the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1833) [safeArea insets on your window](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1835) [to let you know where it is safe](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1837) [to draw.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1838) [You'll just want to implement](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1839) [safeAreaInsetsDidChange and pay](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1840) [close attention to those insets](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1842) [and make sure your content is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1844) [drawn within them.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1845) [Now, let's talk about turn by](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1847) [turn guidance.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1848) [Similar to our preview, your app](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1850) [can provide data to the CarPlay](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1852) [framework that will cause it to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1854) [draw a guidance card populated](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1855) [with information, such as an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1858) [image representing the maneuver.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1859) [image representing the maneuver.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1859) [How much farther it is until you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1861) [arrive there.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1862) [And of course, instructions on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1864) [what to do when you get there,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1865) [such as turn left or continue](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1866) [straight.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1868) [Let's take a look at what you'll](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1869) [need to learn to use turn by](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1872) [turn guidance in the CarPlay](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1875) [framework.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1876) [The CPMapTemplateDelegate and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1876) [the mapTemplate are two places](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1880) [you'll need to start.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1882) [First, when the user hits that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1883) [go button from Route Preview](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1884) [mapTemplate startedTrip using](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1886) [routeChoice will be called on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1888) [your template delegate.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1889) [This is your indication to begin](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1891) [navigation to that destination](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1893) [using the route choice the user](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1894) [has selected.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1896) [This is when you would begin](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1897) [navigation in your app, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1899) [also, begin providing turn by](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1901) [turn updates to the CarPlay](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1902) [framework.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1903) [You'll want to call](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1904) [startNavigationSession for trip](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1906) [on your map template.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1908) [And this will provide you with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1909) [an instance of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1910) [CPNavigationSession.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1911) [And this is where you manage](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1912) [those upcoming maneuvers.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1914) [Using CPNavigationSession and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1916) [CPManeuver you will set upcoming](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1919) [CPManeuver you will set upcoming](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1919) [maneuvers and the system will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1921) [automatically display a primary](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1923) [maneuver.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1925) [And if you provide a second](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1925) [maneuver it can display a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1927) [secondary maneuver on that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1928) [guidance card.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1929) [You will then use update](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1931) [estimates for maneuver to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1932) [continually update what is being](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1934) [shown in that guidance card.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1936) [And let your users know when](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1937) [their maneuver is approaching.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1939) [And most likely, your app will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1941) [be playing back audio prompts to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1942) [let them know, as well.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1944) [For this, you'll want to make](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1945) [sure that your audio session is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1947) [configured appropriately for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1948) [CarPlay.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1949) [We have to remember that when in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1951) [the car your users may be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1952) [listening to an audio source](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1954) [from iOS or they may be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1955) [listening to an audio source](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1957) [from the car, such as FM radio.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1958) [You want to configure your audio](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1961) [session with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1962) [AVAudioSessionModeVoicePrompt as](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1963) [this will let the CarPlay system](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1965) [know when to appropriately duck](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1967) [the audio source, regardless of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1969) [where it's coming from.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1970) [You can, also, configure your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1971) [session with the category](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1972) [options duckOthers and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1974) [interruptSpokenAudio](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1976) [AndMixWithOthers.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1977) [And this will help ensure that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1978) [your audio plays well with other](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1979) [your audio plays well with other](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1979) [iOS audio sources.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1981) [So, what happens next?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1983) [Well, your users will continue](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1984) [to drive.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1986) [You'll want to continue to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1988) [provide updated maneuvers and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1988) [estimates and help them make](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1990) [those turns when they need to.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1992) [What happens if they veer off](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1995) [route?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1996) [Well, you might want to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1997) [calculate a new route.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=1999) [You can set a pause reason which](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2001) [will display a rerouting status](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2002) [to the user.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2003) [Perhaps, a new route is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2005) [available or something has](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2006) [occurred along the route.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2008) [And you can use a navigation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2009) [alert to present that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2010) [information to them, right there](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2011) [on the map template.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2012) [And ultimately, they'll arrive](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2014) [at their destination, thanks to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2016) [your app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2018) [So, we've talked a lot about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2019) [what your apps can look like](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2020) [while frontmost on the car](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2022) [screen.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2023) [But we know that our users in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2023) [CarPlay often switch between](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2025) [their mapping app and an audio](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2027) [app, like our favorite audio app](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2029) [Srirocka.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2030) [What happens when your app is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2032) [backgrounded and you need to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2033) [present important information to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2034) [your users?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2035) [You will have an opportunity to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2037) [provide banner notifications](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2038) [provide banner notifications](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2038) [that will display when the user](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2040) [is away from your app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2042) [And this will work for maneuver](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2043) [updates, as well as navigation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2046) [alerts.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2047) [On your map template delegate](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2049) [there are three methods you'll](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2051) [want to implement.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2052) [The first is mapTemplate,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2054) [ShouldShowNotificationFor](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2055) [maneuver.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2056) [When you set a new maneuver and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2057) [your app is backgrounded this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2059) [method will be called.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2061) [And if you return true, the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2062) [system will take that maneuver](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2064) [and translate it into a banner](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2066) [notification.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2067) [If you're already presenting a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2069) [banner notification for a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2070) [maneuver, and simply are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2071) [updating the travel estimates,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2072) [mapTemplate](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2074) [shouldUpdateNotificationFor](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2074) [maneuver with travelEstimates](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2076) [will be called.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2078) [Allowing you to update the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2078) [content that appears in that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2080) [banner.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2081) [So, instead of rolling a new](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2081) [notification, you can simply](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2083) [update the contents that are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2085) [already there.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2086) [And for navigation alerts, you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2087) [will have an opportunity to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2089) [display those, as well, using](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2091) [mapTemplate](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2092) [shouldShowNotificationFor](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2093) [navigationAlert.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2094) [With that, I'd like to invite](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2096) [Jonathan up one more time to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2097) [give you a demo of how we've](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2099) [give you a demo of how we've](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2099) [integrated our Country Roads app](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2100) [with the CarPlay framework to do](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2101) [route preview and turn-by-turn](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2103) [guidance.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2104) [Jonathan.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2105) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2106) [&gt;&gt; Thanks, Mike.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2110) [Let's take a quick look at some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2112) [code for how your navigation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2113) [apps can provide guidance in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2115) [CarPlay using our sample Country](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2116) [Roads app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2118) [When the user selects a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2120) [destination, we're going to grab](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2121) [that placemark and hand the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2123) [current location and destination](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2125) [to our navigation engine to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2127) [calculate some route choices.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2128) [For our purposes here, we have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2130) [only a single route choice, but](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2132) [your navigation engine can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2134) [provide multiple alternative](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2135) [routing options when available.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2137) [Plus, we can include some extra](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2139) [details to help the user make an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2140) [informed decision about a route.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2142) [We'll create a CPTrip and call](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2144) [showTripPreviews to inform](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2146) [CarPlay that we're starting](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2149) [navigation guidance.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2150) [Lastly, we'll update the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2151) [estimates to provide our user an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2153) [ETA for this trip.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2155) [Let's take a quick look at how](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2157) [we can provide the maneuvers](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2158) [that CarPlay needs for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2159) [that CarPlay needs for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2159) [navigation.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2160) [When our user has selected a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2161) [route and started navigation,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2165) [first we can hide the route](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2167) [previews that our user was](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2168) [browsing.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2169) [We'll tell our map template to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2170) [start a navigation session.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2172) [And we can move the session to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2174) [the loading state while we're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2175) [calculating maneuvers.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2176) [We'll build a list of CP](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2178) [maneuver objects from our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2180) [navigation engine.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2181) [And last but not least, we'll](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2183) [provide the first instruction to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2184) [our navigation session.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2186) [And now, we're ready to drive.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2187) [Let's see it in action.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2189) [All right.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2198) [Let's browse to our Favorites](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2199) [list and choose Parks.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2200) [When we tap one of these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2203) [locations we'll see our app pops](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2205) [back to the map template and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2207) [presents a route guidance card.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2209) [If we choose to start guidance](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2211) [by tapping on the Go button](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2213) [here, we'll see the app enter](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2214) [navigation mode.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2216) [Your app can also update the Nav](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2218) [bar if needed to show custom](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2219) [bar if needed to show custom](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2219) [buttons for navigation mode,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2221) [like a Cancel button or a toggle](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2223) [for voice prompts.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2225) [Looks like we're making pretty](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2226) [good time, here.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2227) [When we arrive at our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2229) [destination our app transitions](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2230) [back out of navigation mode.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2231) [That's it for maps with the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2234) [CarPlay framework.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2236) [Let's review the roads that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2238) [we've driven together today.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2239) [We've shown you some big CarPlay](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2242) [audio performance improvements](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2244) [and optimizations for a better](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2245) [experience for your users.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2247) [We introduced the brand new](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2249) [CarPlay framework for navigation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2251) [and guidance apps in CarPlay.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2253) [Your app can work seamlessly on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2255) [different strings and input](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2257) [devices.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2258) [You're the navigation experts](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2259) [and you only have to do what you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2261) [do best; draw beautiful maps in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2262) [your beautiful apps.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2264) [And we'll take care of the rest.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2265) [You can draw your map template,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2268) [use CPMapTemplate and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2270) [CPNavigationSession to manage](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2271) [navigation.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2273) [And show other templates as](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2274) [needed to present information](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2275) [and handle user interactions.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2277) [If you have any questions for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2280) [us, please come meet our team at](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2281) [the CarPlay lab, later today, in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2284) [Lab 11 at 2 p.m.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2285) [You can, also, check out](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2287) [developer.apple.com/carplay for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2288) [more details.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2291) [Otherwise, you have everything](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2292) [you need to build a great](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2294) [CarPlay app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2295) [And we are so excited to see](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2296) [what you create.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2297) [Thank you so much.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2299) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/213/?time=2300)