WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:16:00.416 --> 00:16:02.066 A:middle
我会重写这个新的 

00:16:02.266 --> 00:16:03.206 A:middle
viewDidChange

00:16:03.206 --> 00:16:05.966 A:middle
EffectiveAppearance() 方法

00:16:05.966 --> 00:16:07.416 A:middle
再给我的子图层设置

00:16:07.416 --> 00:16:08.176 A:middle
NeedsDisplay()

00:16:08.986 --> 00:16:10.626 A:middle
而如果我没有进行这些设置

00:16:10.626 --> 00:16:12.586 A:middle
我的子图层不会随着

00:16:12.586 --> 00:16:14.066 A:middle
视图的有效外观的变化而更新

00:16:14.156 --> 00:16:15.106 A:middle
它只会保持原样

00:16:15.136 --> 00:16:19.096 A:middle
接着在我的图层委托子程序里

00:16:19.096 --> 00:16:21.106 A:middle
我会保存当前外观

00:16:21.106 --> 00:16:22.996 A:middle
以备之后使用

00:16:22.996 --> 00:16:24.546 A:middle
接着我会继续

00:16:24.546 --> 00:16:26.286 A:middle
把我的当前外观

00:16:26.336 --> 00:16:27.376 A:middle
设置成 effectiveAppearance

00:16:27.906 --> 00:16:31.706 A:middle
然后我就可以继续更新我的图层了

00:16:32.316 --> 00:16:34.306 A:middle
这时 如果我之前没有

00:16:34.306 --> 00:16:36.316 A:middle
设置当前外观

00:16:36.316 --> 00:16:38.016 A:middle
那这个代码就不会使用

00:16:38.016 --> 00:16:39.456 A:middle
我视图的外观 那样看起来

00:16:39.456 --> 00:16:40.346 A:middle
就不对了

00:16:41.556 --> 00:16:42.956 A:middle
最后 到这一步 我只要

00:16:42.956 --> 00:16:45.136 A:middle
还原先前的当前外观

00:16:48.726 --> 00:16:49.826 A:middle
如果你在管理图层的话

00:16:49.826 --> 00:16:51.676 A:middle
这里还需要注意一点

00:16:52.686 --> 00:16:54.036 A:middle
你或许已经有一些

00:16:54.256 --> 00:16:55.696 A:middle
看起来像之前两个例子之一

00:16:56.296 --> 00:16:57.506 A:middle
要么你要将

00:16:57.506 --> 00:16:59.306 A:middle
一个图层的内容设置为

00:16:59.306 --> 00:17:01.896 A:middle
某个 NSImage 要么你就要使用

