WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:09:59.346 --> 00:10:00.796 A:middle
来填充我们的图层

00:10:01.836 --> 00:10:03.436 A:middle
如果只有颜色变了

00:10:03.606 --> 00:10:05.356 A:middle
而那里的图层却没有更新

00:10:05.356 --> 00:10:07.306 A:middle
我们就只需要将

00:10:07.386 --> 00:10:08.946 A:middle
needsDisplay 属性设置为真

00:10:09.426 --> 00:10:12.446 A:middle
AppKit 会自动回来并调用

00:10:12.446 --> 00:10:12.906 A:middle
updateLayer()

00:10:14.336 --> 00:10:15.076 A:middle
好 现在再看

00:10:16.536 --> 00:10:17.426 A:middle
在浅色的状态仍然看起来很好

00:10:17.426 --> 00:10:21.496 A:middle
现在 在深色的状态下

00:10:21.496 --> 00:10:22.896 A:middle
它的颜色正如我们所愿

00:10:22.896 --> 00:10:24.706 A:middle
效果很棒

00:10:25.976 --> 00:10:27.216 A:middle
好 如果我们想

00:10:27.216 --> 00:10:28.146 A:middle
做一些更复杂的东西怎么办

00:10:28.146 --> 00:10:29.826 A:middle
如果仅仅用

00:10:29.826 --> 00:10:31.486 A:middle
动态色彩或者图像

00:10:31.706 --> 00:10:32.576 A:middle
可能不太容易表达

00:10:33.656 --> 00:10:35.796 A:middle
例如 也许我想要

00:10:35.796 --> 00:10:38.546 A:middle
在 Chloe 美丽的脸庞后

00:10:38.936 --> 00:10:40.416 A:middle
加点这种白色的光晕

00:10:40.416 --> 00:10:43.796 A:middle
但只是在深色模式下我会怎么做呢

00:10:44.806 --> 00:10:46.476 A:middle
好 这种情况下

00:10:46.476 --> 00:10:49.166 A:middle
我们在 Mojave 中会有新的 API

00:10:49.166 --> 00:10:50.876 A:middle
你可以用它来与你的

00:10:50.876 --> 00:10:51.686 A:middle
视图外观相比对

00:10:51.786 --> 00:10:52.686 A:middle
我来示范一下

00:10:53.856 --> 00:10:56.676 A:middle
在这个视图下

00:10:56.676 --> 00:10:58.846 A:middle
我会重写 layout() 方法 并开启

00:10:58.846 --> 00:11:00.916 A:middle
effectiveAppearance.bestMatch(from:)

