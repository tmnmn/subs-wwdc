# Introducing MapKit JS

## Summary
MapKit JS brings Apple Maps to your website. See how MapKit JS provides map rendering that is optimized for various browsers and devices, and supports native gestures such as pinch-to-zoom, two-finger rotate, and more. Learn how to add annotations and overlays, and how to use JavaScript interfaces to Apple Maps services such as Search and Directions to deliver an amazing map experience on your website.

## Info
* Frameworks
* WWDC 2018 - Session 212 - iOS, macOS
* https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/

## Text
 [[ Music ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=7) [&gt;&gt; Hi, everyone.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=21) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=23) [&gt;&gt; I'm Vicki Murley and I'm the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=28) [Engineering Manager for the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=30) [MapKit JS Team.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=31) [This is Session 212, Introducing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=32) [MapKit JS.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=34) [So, when iPhone came out more](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=37) [than ten years ago, it really](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=39) [changed the game, and it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=41) [introduced us all to what we now](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=42) [kind of know as this app](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=44) [ecosystem.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=45) [And it's funny to think about,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=46) [because for so many of us, apps](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=48) [are such an integral part of our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=50) [daily lives, but before there](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=51) [were apps, there were websites.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=54) [If your company was founded](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=57) [before iPhone, your whole](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=59) [before iPhone, your whole](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=59) [company may have started as a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=60) [website, and even today, if you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=61) [have an app, you might be using](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=63) [a website to reach a larger](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=65) [audience or even just a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=67) [different audience of people.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=68) [So, lots of developers out](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=69) [there, just like you, have a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=72) [website and an app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=73) [And the WWDC site is a great](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=75) [example.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=78) [We have this site and there's an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=80) [accompanying app, which you're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=81) [probably using to find your way](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=83) [around the conference center, as](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=85) [you're on the go, here this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=86) [week.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=88) [So, at Apple, we've been really](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=89) [lucky that we have been able to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=92) [show Apple Maps on our own](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=94) [websites for a little while now.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=96) [This is a page on the WWDC site,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=98) [which is showing you other](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=101) [events around the convention](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=102) [center.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=104) [If you've ever used Find My](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=106) [iPhone of iCloud.com, you've](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=107) [seen Apple Maps on a website.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=109) [And if you've ever searched for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=112) [a retail store, again, an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=114) [example of Apple Maps on a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=116) [website.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=117) [So, most of you out there are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=119) [So, most of you out there are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=119) [probably used to using MapKit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=120) [inside your apps, and today,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=122) [we're making MapKit JS available](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=125) [to you for your websites.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=127) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=130) [So, this week at WWDC, we're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=135) [making a MapKit JS Beta](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=137) [available, and this is the same](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=138) [library that we have been using](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=140) [on our production websites.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=142) [Every web mapping library out](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=144) [there, has a free tier of usage.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=147) [Like some number of requests](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=150) [that you get for free, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=151) [MapKit JS Beta is no different.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=153) [So, you -- as part of the MapKit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=156) [JS Beta, you're getting 250,000](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=158) [map initializations, and 25,000](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=160) [service requests.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=165) [That includes geocoding, search,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=166) [search auto-complete, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=169) [directions.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=170) [And often these free usage tiers](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=171) [are specified over some period](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=174) [of time, like per year, per](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=175) [month, per week.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=178) [For the MapKit JS Beta, we're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=180) [making this amount of free usage](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=181) [available to you per day.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=183) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=186) [So, that's a good amount.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=191) [And -- but if you need more for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=193) [your particular use case or your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=195) [business, you can contact us.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=197) [There's a form online.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=198) [Just fill it out and submit it,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=200) [and we will receive that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=201) [request.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=203) [To use MapKit JS, you need a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=204) [key, and you can get that by](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=207) [signing into your developer](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=208) [account, and go to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=210) [Certificates, ID's, and Profiles](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=211) [Panel.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=213) [And you can get a key there,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=214) [just like you would for any](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=215) [other service in your developer](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=216) [account.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=219) [There's a limited number of keys](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=220) [available for the MapKit JS](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=222) [Beta, so I suggest you go and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=224) [get one as soon as possible.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=226) [Once you get a key and start](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=230) [using MapKit JS, I mean, I'm](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=232) [biased because I work on it, but](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=234) [I think there's a lot of things](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=236) [that you're going to really like](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=238) [about it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=239) [about it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=239) [The first thing is, it lets you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=240) [unify on one map provider, for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=242) [both your app and your website.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=244) [So, we've noticed lots of you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=246) [are using Apple Maps inside your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=248) [apps.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=250) [Now, you'll be able to use Apple](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=250) [Maps everywhere.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=252) [The MapKit JS APIs, are really](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=254) [inspired by the APIs that you're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=258) [already using inside native](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=260) [MapKit, but they're using](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=261) [conventions that are familiar to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=262) [web developers.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=264) [So, they should be easy for you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=265) [to adapt.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=269) [Also, MapKit JS really brings](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=269) [the Apple Maps experience to web](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=272) [pages.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=276) [It's localized and in 32](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=276) [languages with full right to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=278) [left support.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=279) [It's accessible via keyboard](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=281) [access and with voiceover.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=282) [It has the beautiful cartography](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=285) [that we all know and love in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=287) [Apple Maps.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=288) [And it has support for native](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=289) [gestures like Pinch to Zoom,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=291) [Two-Finger Rotation, and also](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=292) [Shift, and Two Finger Scroll to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=295) [zoom in.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=296) [It also uses something that's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=298) [It also uses something that's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=298) [called Adaptive Rendering Modes.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=300) [So, what that means is, there's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=302) [a couple different modes in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=304) [which the map can be rendered.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=305) [The first is Client-Side](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=307) [Rendering, and this is a full](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=309) [WebGL engine that is rendering](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=311) [the map on the client.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=313) [And this allows us to do lots of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=315) [things, like these very, smooth](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=317) [transitions as users pinch to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=319) [zoom or shift two-finger scroll](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=321) [to zoom in.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=323) [You'll see the labels fading in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=324) [and out as we transition between](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=325) [zoom levels, just like on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=327) [native.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=328) [Also, Client-Side Rendering](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=332) [gives us full control over the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=333) [labels on the map.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=335) [So, we can enable features such](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=336) [as Rotation, where I'm rotating](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=338) [the map with two-fingers, but](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=341) [the labels are staying](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=342) [horizontal as I rotate.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=343) [Finally, with CSR, we have the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=347) [marker style annotations that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=350) [you're used to seeing on iOS.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=352) [And the title of this annotation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=354) [is My Marker.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=357) [If I select this annotation, the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=358) [subtitle will appear, but it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=359) [subtitle will appear, but it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=359) [would overlap that label that is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=361) [beneath it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=363) [So, with Client-Side Rendering,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=364) [and full control over the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=366) [labels, we can just collide that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=368) [label out and remove it so that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=369) [the labels on the map never](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=371) [overlap the text for your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=374) [annotations.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=375) [And even as users are zooming in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=377) [and out, and the map labels are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=380) [changing all over the place, the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=382) [map labels are never going to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=384) [overlap your annotation labels.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=385) [In fact, if you have a draggable](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=388) [annotation and the user is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=389) [picking it up and moving it all](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=391) [over the map, labels are never](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=393) [going to overlap your annotation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=395) [labels.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=397) [So, this is one of the rendering](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=398) [modes, Client-Side Rendering.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=401) [But web code can run anywhere,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=403) [and not all devices are created](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=405) [equal.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=407) [So, for those times when your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=408) [users may be running on a low](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=411) [performance configuration, maybe](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=413) [an old device, we have a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=414) [different mode that we call](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=416) [Labels Only Client-Side](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=418) [Rendering.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=419) [And what this is, it's a grid of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=420) [image tiles that show the base](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=423) [map, with a layer of WebGL](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=425) [labels over the top of it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=429) [So, we can still give as many](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=430) [users as possible these great](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=433) [features like rotation and label](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=434) [collisions, in a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=436) [high-performance way.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=438) [In your users' configuration](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=442) [does not support WebGL at all,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=443) [they get something that we call](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=445) [Server-Side Rendering, which is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=446) [a grid of tiles, tile images,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=448) [and in this case, the labels are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=451) [actually part of the image.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=452) [So, adaptive rendering modes are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=455) [pretty cool because there is an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=458) [ideal mode for every client](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=459) [configuration out there.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=461) [And we choose the best mode for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=463) [your user automatically.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=465) [So, you don't have to decide](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=466) [whether to use the WebGL](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=468) [version, or the tile version, or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=469) [whatever.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=472) [We run a quick test and give](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=472) [that user the best mode for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=474) [their configuration.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=476) [In our experience so far, most](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=477) [In our experience so far, most](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=477) [users are getting Client-Side](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=480) [Rendering or Labels Only](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=482) [Client-Side Rendering.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=483) [So, that's a quick introduction](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=485) [to MapKit JS.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=487) [And now, to tell you more about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=488) [using the API, I'm going to hand](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=490) [it off to Julien Quint.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=492) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=495) [&gt;&gt; Thank you, Vicki.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=501) [Let's get down to the technical](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=504) [details of using MapKit JS for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=506) [your website.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=507) [We will see how to set up a map.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=509) [We will see how to navigate an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=512) [annotate this map so that you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=513) [can show your own data.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=514) [And finally, we'll see how to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=517) [enable rich interactions with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=518) [additional services.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=520) [To set up your map, you need to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=523) [go through these four steps.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=525) [First step is to import MapKit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=527) [JS.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=530) [Here you see a script tag that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=530) [you can add somewhere on your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=531) [page.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=533) [And the URL of the MapKit JS](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=533) [script includes a version](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=537) [number.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=539) [number.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=539) [We follow the semantic](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=540) [versioning system where the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=543) [first number is the major](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=545) [version number, which is updated](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=546) [if breaking changes are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=548) [introduced.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=549) [The second number is a minor](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=550) [version number, so when bugs are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=552) [fixed, when new features are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=555) [added or when performance](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=556) [improvements take place, we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=558) [update this number.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=560) [And finally, for urgent patches,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=561) [we update the patch number.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=563) [You can specify and X instead of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=564) [a specific number for the minor](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=566) [or the patch version, and we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=568) [recommend that you use this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=570) [Version 5.0.X to get started so](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=572) [that you will get urgent bug](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=574) [fixes on our first public](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=575) [release.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=577) [In order to be able to show a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=578) [map on your website, you will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=581) [need to tell your page -- to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=583) [tell MapKit where to show that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=586) [map.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=587) [So, in order to do that, you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=587) [use an HTML element that will be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=591) [the container for your map.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=593) [So, in this case, I'm using a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=595) [development which is usually a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=596) [very good candidate for that.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=598) [very good candidate for that.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=598) [I give it an ID so that I can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=601) [refer back to it easily.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=602) [And one thing that is very](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=604) [important is to set its size,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=606) [because the map doesn't have a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=609) [size of its own, so it will just](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=610) [use the size of the elements](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=612) [that it is part of.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=614) [So, if you have a development](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=616) [that I represented here with a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=618) [gray background, a map will be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=620) [shown inside that element.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=622) [If your element size changes,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=624) [then your map size will change](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=626) [as well.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=627) [So, I have set up an element for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=628) [my map.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=631) [The next step is to initialize](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=632) [MapKit JS.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=634) [So, we just saw that you need a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=635) [key to be able to use MapKit JS,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=637) [and in initializing MapKit, you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=639) [get your authorization callback](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=643) [so that you will be able to use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=646) [the services that MapKit JS](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=649) [provides.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=651) [And most importantly, to show](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=652) [the actual map on your websites.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=654) [And the last point is to create](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=657) [a map object, here using the Map](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=659) [a map object, here using the Map](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=659) [Constructor from MapKit.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=662) [I give it the idea of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=664) [container where the map will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=665) [show.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=666) [And this is what happens.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=667) [We have a map showing on our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=668) [sites.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=670) [This is the different map.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=671) [We didn't pass any other](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=673) [parameters, so it will show a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=675) [different region and the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=676) [different control.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=677) [You can see the controls in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=678) [corners.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=681) [You can see the Compass for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=681) [rotation.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=683) [The Zoom control.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=684) [The Map Type Control on the top,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=686) [etcetera.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=690) [This was a pretty large area,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=691) [but if you're on a page where](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=693) [you want to show only a very](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=697) [small map, these controls can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=698) [use a lot of valuable space, so](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=700) [by default, when your map size](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=702) [is below a certain width or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=704) [height, we will toggle these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=706) [controls off automatically.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=708) [On touch devices, the situation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=710) [is a little bit different.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=712) [We don't really need to show the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=714) [-- some of the controls like the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=715) [Zoom or the Compass, because we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=717) [Zoom or the Compass, because we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=717) [have gestures to change the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=720) [rotation of the map or to zoom](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=723) [in.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=724) [So again, we don't really need](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=725) [to use up that space by showing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=727) [these controls, and we turn them](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=729) [off by default.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=730) [Note that the Apple logo and the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=731) [legal text are always present.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=734) [These are the difference for the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=736) [controls, but you can also set](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=738) [these control visibilities](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=740) [yourself.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=741) [Some controls are so-called](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=742) [Adaptive Controls.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=743) [This includes the Compass and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=744) [the Scale.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=745) [This means that depending on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=746) [platform, they will behave in a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=748) [slightly different manner.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=750) [So, on iOS, the Compass control](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=751) [is not shown by default, but if](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=754) [the map rotates, then we will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=756) [show it indicate where North is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=757) [pointing.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=759) [And the Scale is an indicator of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=760) [the units of distance on your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=762) [map.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=764) [And we show it only when the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=764) [user is zooming in and out.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=767) [So, here, we can see the -- when](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=769) [we have zooming and rotation, we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=772) [can see the Compass appear and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=774) [disappear in the bottom right](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=775) [corner.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=776) [And the Scale appear and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=777) [disappear in the top left](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=778) [corner.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=779) [corner.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=779) [Of course, we can also select](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=780) [these controls to be always](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=781) [visible or always hidden.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=783) [The rest of the controls have a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=785) [binary state, so they can be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=787) [hidden or set to be visible by](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=789) [setting a Boolean property.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=791) [In this example, we show the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=794) [controls that do not show by](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=798) [default on desktop, such as the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=799) [User Location Control which](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=801) [appears in the bottom right of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=803) [the window.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=805) [Here, I've selected it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=806) [So now, the user location is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=808) [tracked, and you can see the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=809) [user location in the center of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=810) [the map.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=812) [And the Scale is shown at the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=813) [top let, because I marked it to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=814) [Always Visible.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=816) [We can go further in configuring](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=818) [these controls.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=820) [In order to match better the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=821) [color scheme of your page, you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=824) [can set the tint of the map.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=825) [And this changes the color of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=827) [the user controls.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=829) [So, you can see, for instance,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=831) [the -- all of the controls of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=833) [the map.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=834) [You can see the user control is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=835) [now highlighted in red because I](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=836) [set this tint color to a red](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=838) [set this tint color to a red](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=838) [color.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=840) [You can use any CSS color value](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=840) [here.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=842) [The MapKit will use your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=843) [[inaudible] language](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=846) [configuration, so that it will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=847) [adapt itself to the language](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=851) [that your user expects.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=853) [You can also set that language](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=855) [into the initialization code or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=856) [you can even set it on the fly](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=858) [using the language property.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=859) [So here, I've set it to Japanese](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=861) [so that I'm sure -- so that I](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=862) [can show the map, as well as the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=864) [controls in Japanese.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=866) [So, you can see the North](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=867) [indicator for instance in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=869) [Compass has been replaced, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=871) [the units are not in -- using](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=872) [the metric system which is more](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=874) [traditional in Japan, than using](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=876) [miles or years.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=878) [If you set your language to a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=881) [right to left language, such as](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=884) [Hebrew in this example, or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=886) [Arabic, the controls are also](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=887) [mirrored to match your users'](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=889) [expectations.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=891) [So, the controls are the way --](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=892) [are some of the ways that your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=895) [users can interact with the map,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=897) [but again, also in turn](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=898) [but again, also in turn](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=898) [directly.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=900) [As I said, we can use touch](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=900) [events on touch enabled device.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=902) [On this stuff, you can use the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=905) [Track Pad for some of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=906) [gestures, and you can also use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=907) [the mouse to click and pan the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=908) [map, or double-tap for instance,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=910) [to zoom in on the map.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=912) [You can also disable these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=914) [interactions directly, by](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=916) [setting the Zoom Enabled, Scroll](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=918) [Enabled, or Rotate Enabled](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=919) [property to be false.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=922) [So, for instance, in the case](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=923) [where you have this very small](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=924) [map as I showed earlier, you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=925) [might want to make sure that the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=927) [user doesn't accidentally move](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=928) [the map around to be sure that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=930) [it always shows the right area.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=932) [And you would set these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=933) [properties to false, which would](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=935) [make the map static.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=936) [Now, that we know how to set up](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=940) [the map on our page, we want to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=942) [make sure that we show some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=944) [interesting content.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=945) [So, we can do that by navigating](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=947) [around the world to show a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=949) [specific area, but also to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=951) [annotate the map to call](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=953) [attention to the region that we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=954) [are showing.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=958) [are showing.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=958) [We'll see how to set the center](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=961) [in the region, how to add](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=962) [annotations to the map to mark](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=963) [locations, and how to cover the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=965) [-- some areas of the map with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=967) [overlays.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=968) [So, starting with the center and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=968) [the region of the map, again,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=970) [this is the default map.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=973) [And it shows the default region,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=975) [which is zooming out at the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=978) [minimum possible level.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=980) [And centering the map on, zero,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=982) [zero, latitude and longitude.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=984) [You probably want to show a more](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=986) [specific area of the world.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=988) [So, for this example, I want to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=989) [focus on Rio de Janeiro in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=992) [Brazil.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=994) [And to do that, I will set the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=995) [center of my map to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=996) [coordinate of Rio de Janeiro.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=997) [So, you can see on the right,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=999) [that the map center has moved to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1000) [show Rio at is center.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1003) [But setting the center of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1005) [map does not change the scale.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1007) [So, at this scale, we are always](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1008) [still not very much in focus](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1010) [because we can see all of South](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1011) [America, for instance.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1012) [So, let's zoom in a little bit.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1013) [And in order to do that, I will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1016) [set a region.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1017) [So, a coordinate region is made](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1019) [So, a coordinate region is made](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1019) [up of a center, which is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1021) [represented by these dots at the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1022) [center of the map, as well as a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1024) [latitude and longitude span.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1026) [So here, I have represented the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1027) [region as this dotted box.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1029) [But we will not that the map --](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1032) [the region that is set](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1035) [ultimately on your map, will be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1036) [bigger than the region that you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1038) [asked for because we need to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1039) [make sure that it fits entirely](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1041) [within the bounds that you have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1042) [set for your map.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1045) [So, in this case, I need to add](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1046) [some padding, north and south of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1047) [the region to be able to show](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1049) [the -- all of the region that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1051) [was specified.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1053) [So, in terms of putting the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1054) [MapKit JS framework -- the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1057) [center is set to a MapKit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1060) [coordinator object which is a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1062) [latitude and longitude pair.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1063) [In the Coordinate Region, to set](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1065) [the region of the map, is an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1067) [object that contains two member,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1070) [a center which is also a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1072) [coordinate and a coordinate span](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1073) [which is a latitude delta and a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1075) [longitude delta there.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1077) [longitude delta there.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1077) [How did I come up with the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1081) [region or with the coordinates](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1083) [that I showed you in these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1084) [screen shots?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1085) [There are many ways to decide on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1086) [regions and coordinates.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1089) [You can look them up on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1092) [Wikipedia and help put them in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1094) [your code.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1095) [You could get them from some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1096) [database that has some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1097) [geographical information.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1100) [But one way that you can also](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1101) [get this information, is to use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1103) [MapKit Services that includes](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1106) [Geocoding and Search.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1109) [So, Geocoding lets you look at a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1111) [place and will return your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1113) [coordinate in a region.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1115) [So, in these previous examples,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1116) [I used the geocoding from MapKit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1118) [JS to look at the coordinate in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1121) [the region for Rio de Janeiro](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1123) [and this is what I set on my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1124) [map.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1126) [You can also use search to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1126) [search for places.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1128) [And it will return not only the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1130) [coordinates of these places, but](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1132) [also bounding region that you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1134) [can set on your map, to make](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1135) [sure that it encloses all of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1137) [results.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1140) [Another way to quickly set a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1141) [region on your map that is very](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1142) [convenient, is a method called](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1144) [Show Items.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1145) [We will see now how to add](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1147) [annotations and overlays on your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1148) [map, and by calling Show Items,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1150) [we will make sure that we have a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1151) [region that encloses these items](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1153) [so that they are all visible to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1155) [your user.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1157) [I will note that region changes](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1158) [may be animated, so that you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1161) [provide a nice animation.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1163) [Or you can set the region](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1164) [instantly.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1166) [Because these things, changing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1168) [the regions, changing the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1171) [center, etcetera, can be done](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1173) [from your code but can also be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1175) [done by the user as a result of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1177) [interactions you want to be able](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1178) [to react to these interactions.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1180) [And we -- and the Map Object](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1183) [allows you to listen to user](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1185) [events such as region changes,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1188) [when they begin, when they end,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1190) [since they can be animated.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1192) [And also, when gestures such as](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1194) [coding, zooming, rotations begin](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1195) [and end.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1197) [We follow the model of DOM Event](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1198) [We follow the model of DOM Event](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1198) [Handling, so you will have the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1200) [familiar method such as Add](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1202) [Event Listener and Remove Event](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1204) [Listener, the name of the event,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1205) [and you get past an event object](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1207) [with the parameters of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1209) [event.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1210) [So, for instance, if I wanted to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1211) [refresh my map with some new](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1213) [information every time the user](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1215) [has mapped to a different area,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1216) [I can listen to region change](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1218) [and events, and that will let me](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1220) [know that the map has settled to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1222) [a new place, and I can now use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1223) [the region of that map to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1225) [compute which information I](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1228) [wanted to show at this stage.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1230) [Now, that we know how to set up](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1234) [a map, let's add some our own](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1236) [information on it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1238) [And we can do that with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1239) [annotations and overlay.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1240) [We'll start with annotations.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1241) [And MapKit JS provides three](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1243) [kinds of annotations.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1244) [The first one, you've had a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1245) [quick peek at it, which is the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1246) [Marker Annotation.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1248) [You can customize annotations](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1250) [further than the -- what the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1252) [marker annotation provides by](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1253) [using images, or even DOM](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1254) [Elements that will have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1257) [completely customizable](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1258) [completely customizable](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1258) [appearance.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1260) [The marker annotations are the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1262) [most useful annotations that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1264) [MapKit JS provide as they also](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1266) [have lots of rich interaction](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1268) [built-in.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1271) [And there's lots of styling](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1272) [options.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1273) [So, they are analogous to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1274) [marker annotations that that you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1275) [may have seen already on iOS.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1276) [They have a built-in animation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1278) [for selection and deselection.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1280) [And they automatically collide](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1282) [out the underlying map labels as](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1283) [we've seen before.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1286) [So here, when I select my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1286) [annotation, the label for the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1287) [exit of the station is hidden to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1290) [make room for the subtitle.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1292) [Marker annotations -- the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1295) [appearance of marker annotation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1299) [also adapts itself automatically](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1300) [to the rendering mode that has](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1303) [been selected by MapKit JS for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1304) [your map.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1306) [So, we've seen that if we have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1306) [Client-Side Rendering Mode or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1308) [Label Only Client-Side Rendering](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1309) [Mode, we are able to hide](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1311) [labels, so we can display the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1313) [title and the subtitle of your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1314) [annotations on the map.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1316) [And this is what is shown on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1317) [left-hand side.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1319) [If you have Server-Side](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1320) [Rendering, the labels are built](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1322) [into tiles and we cannot hide](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1323) [them.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1325) [So, if you see the map on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1325) [right-hand side, we see that we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1327) [have many more labels because](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1328) [none of them have been hidden.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1330) [So, in order to be able to show](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1331) [our annotations legibly, we only](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1333) [show the annotation balloon and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1336) [the labels are not shown on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1337) [map.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1339) [We can still see the title and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1339) [the subtitle of these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1341) [annotations when we select them](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1342) [by using a callout bubble as in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1344) [this example.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1346) [And custom annotations, will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1347) [also make use of these callout](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1349) [bubble to show the title and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1351) [subtitle.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1354) [Finally, the market annotations](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1355) [provide a lot of standing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1357) [options.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1358) [So, this is the default for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1359) [market annotation.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1361) [You create an annotation with a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1361) [coordinate and some properties](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1363) [such as title and subtitle, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1365) [this is the basic default](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1367) [rendering.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1369) [You have glyph image which is a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1370) [pin shown in the balloon, and it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1372) [comes up with a red color.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1374) [You can change that color to any](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1377) [CSS color value.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1379) [CSS color value.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1379) [So, here, I've used a green](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1380) [color for my balloon.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1382) [You can also change the color of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1383) [the glyph.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1385) [So, the glyph can only have one](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1386) [color.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1387) [So, in this case, I switched](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1388) [from the default white to a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1390) [yellow color.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1391) [You can change the image of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1393) [glyph.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1395) [So, from the default pin that is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1395) [provided by MapKit JS, to any](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1396) [raster image that you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1399) [provide.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1400) [So, in this case, I've provided](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1401) [this image.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1402) [You can give several sources for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1403) [your images for different pixel](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1405) [ratios.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1407) [When the annotation is selected,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1409) [it becomes bigger, so you have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1411) [more room to show more details](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1413) [in your glyph.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1414) [So, in this case, we can also](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1415) [specify a selected glyph image,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1417) [which is different from the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1419) [original one.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1420) [Finally, instead of an image,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1423) [you can change the glyph by](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1424) [using some text.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1426) [We recommend that you stick to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1427) [very, short strings such as one](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1429) [to three characters, and in this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1431) [case, I'm just using the Letter](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1433) [M.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1435) [When the glyph text and the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1435) [glyph image are both specified,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1437) [then the glyph text is shown.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1438) [then the glyph text is shown.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1438) [So, now that we know how to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1441) [display marker annotations, we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1443) [can go crazy and put a lot of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1444) [annotations on our map.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1446) [So, this is the result of doing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1447) [searches for cafes and bars in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1448) [Paris.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1451) [And I've styled them slightly](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1451) [differently to distinguish them](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1452) [from one another.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1454) [But the problem is that there is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1455) [a very dense number of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1456) [annotations in the same area.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1459) [Fortunately, we have two ways in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1461) [MapKit JS to deal with this sort](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1463) [of clutter.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1465) [The first one is to set a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1466) [display priority property on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1467) [annotations.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1469) [What this means is that when two](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1470) [annotations collide, the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1472) [annotation with the highest](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1473) [display property, which is a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1474) [number, will collide out the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1475) [annotation with the lowest](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1479) [display priority.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1480) [So, in this case, we can see](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1482) [that many annotations have been](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1483) [collided out.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1485) [When you zoom in and out, these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1486) [collisions run again, so that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1487) [zooming in for instance, will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1489) [let you discover more](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1491) [annotations.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1492) [And when they have the same](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1493) [display priority, we will use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1494) [the one that appears at the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1496) [bottom of the screen as the more](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1497) [-- as the one with the highest](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1499) [-- as the one with the highest](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1499) [priority.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1502) [Another way to deal with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1503) [clutter, is to use clustering](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1504) [instead of these display](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1505) [priorities.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1506) [So, in this case, when two](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1507) [annotations that have the same](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1508) [clustering identifier, which is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1510) [a property that can be set on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1511) [marker annotations, and is a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1513) [simple string, when two](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1514) [annotations that collide and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1516) [have the same clustering](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1517) [identifier, they are replaced by](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1518) [a single annotation that will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1520) [represent both of them, or more](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1522) [than two of them of course if](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1523) [more than two annotations](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1525) [collide.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1526) [So, in this case, we see that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1526) [some of the annotations can be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1528) [shown by themselves because they](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1530) [have no neighbor, but in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1532) [dense areas in the center, we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1535) [have clustered several](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1537) [annotations together.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1539) [When a cluster is created, we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1540) [use a marker annotation to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1542) [represent it and we use the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1543) [glyph to show how many](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1544) [annotations are in the cluster.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1545) [You can also change the behavior](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1547) [-- not the behavior, the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1550) [appearance of your clusters, by](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1551) [specifying a new style or a new](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1553) [kind of annotation.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1556) [And now, we'll do a small demo](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1557) [to show these annotations in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1559) [to show these annotations in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1559) [action.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1561) [So, in this demo, which should](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1566) [appear here -- in this demo, we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1570) [will use a map and the data that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1572) [we will display is Bigfoot](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1575) [Sightings that Have Occurred in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1578) [this Area.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1579) [So, after this session, or maybe](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1580) [this weekend when you are done](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1583) [with the conference, you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1585) [maybe go explore the woods of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1586) [Northern California and see if](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1589) [you can find Bigfoot.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1590) [I have created a map which I](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1593) [have initialized in the manner](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1597) [that I've displayed in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1598) [previous slides.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1600) [And what I have done, is I have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1602) [gathered a list of Bigfoot](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1606) [annotations -- of Bigfoot](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1607) [sightings, sorry, including the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1609) [location, the year in which they](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1611) [occurred, and some other](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1613) [information.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1616) [So, what I will want to do is I](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1617) [will want to use these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1618) [annotations, show them on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1619) [annotations, show them on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1619) [map, with marker annotation.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1620) [So, let me start by creating a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1622) [function to translate a sighting](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1624) [object which has all these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1626) [properties, into a marker](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1628) [annotation.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1629) [So, when I get a sighting, I](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1631) [want the coordinate of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1633) [sighting to be used as the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1634) [coordinate of my marker](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1636) [annotation.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1637) [And these sightings have several](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1638) [other properties, such as the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1640) [year of the sighting, which I](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1641) [will display in the title.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1642) [This comes from a database put](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1644) [together by the Bigfoot Field](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1646) [Researchers Organization.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1648) [So, I will show the idea so that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1650) [if you are interested in more](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1652) [details about that sighting, you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1653) [can go look at that database and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1655) [find even more information.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1657) [And finally, I'm ready to create](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1659) [a marker annotation with that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1661) [coordinate and these options](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1663) [that I've created.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1664) [So, now that I know how to set](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1666) [up a marker annotation for a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1667) [sighting, I will get the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1669) [sightings that I've prepared.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1672) [And with this list of sightings,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1676) [I will create an annotation for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1678) [I will create an annotation for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1678) [each of them.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1680) [I will then make sure that my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1683) [sightings are shown on the map.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1685) [My annotations are shown on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1687) [map.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1689) [And I will use the Show Items](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1689) [method, which is very convenient](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1690) [because not only it ensures that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1692) [the items are visible, but also](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1694) [that they are added to the map.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1696) [And since I'm doing a webpage, I](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1698) [can also add some extra](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1700) [information on my page such as](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1701) [how many sightings there were in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1703) [this area.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1704) [So, let me make sure that I save](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1706) [and by reloading, I now see a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1710) [map with 60 sightings on it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1713) [So, all of these annotations are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1716) [sightings and we run into the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1718) [problem that I've just](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1719) [highlighted which is that in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1720) [this park area, I can see lots](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1722) [of sightings happening, and they](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1724) [all overlap each other.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1725) [And even as I zoom in, I can see](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1727) [that there's still lots of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1728) [clutter, so I will clean that up](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1730) [using the Display Priority](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1732) [Property on Annotations.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1734) [So, in order to choose a display](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1737) [priority, what I will use is I](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1739) [priority, what I will use is I](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1739) [will use a very important](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1741) [property of the sightings which](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1744) [is whether they were clear](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1746) [sightings.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1747) [So, if someone really, really](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1747) [saw bigfoot, or maybe they just](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1749) [heard it or saw some traces of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1751) [it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1753) [So, I have this clear flag which](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1754) [I will use to set my display](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1755) [priority.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1757) [Display priorities a number and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1758) [these priorities can be pretty](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1760) [arbitrary.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1761) [So, we provide predefined](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1762) [values, such as required,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1764) [meaning that your annotation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1766) [must always be shown on the map,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1767) [but also, high and low display](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1769) [priority.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1770) [So, when the sighting is clear,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1771) [I will set a high display](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1773) [priority.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1774) [When it's not, I will set a low](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1775) [display priority.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1776) [And finally, I will also encode](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1778) [that information as the color of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1780) [my annotation so that the users](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1781) [can understand better why an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1783) [annotation was shown or now.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1785) [So, when it's brown, it's a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1787) [clear annotation and when it's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1789) [great, it was not so clear.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1791) [So, let's see the difference](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1793) [that this makes.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1794) [So, now you can see that the map](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1796) [is much cleaner because all of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1798) [is much cleaner because all of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1798) [the collisions have been a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1800) [result.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1801) [You can see that some of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1802) [annotations are brown.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1804) [So, these are the clear](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1805) [sightings.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1806) [These are probably the ones that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1806) [are the most interesting ones to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1807) [visit first.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1810) [But you can also see that if I](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1811) [zoom in on the map, then new](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1813) [sightings are being revealed.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1815) [So, your users can explore the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1817) [map and find out about where](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1819) [they can hope to see Bigfoot.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1821) [I will conclude by this demo, by](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1824) [adding, another piece of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1827) [information to my map.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1829) [I will change the glyph to be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1831) [either an icon of Bigfoot which](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1833) [I've prepared.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1837) [So, this is a simple PNG image](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1837) [which I will use for the clear](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1841) [sightings, and in case the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1843) [sighting is not so clear, I will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1845) [make that more explicit by](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1847) [setting the glyph text to be a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1849) [question mark.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1852) [And now, what I can see, is that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1854) [these questionable sightings are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1858) [these questionable sightings are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1858) [a question mark.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1861) [And the Bigfoot sightings that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1862) [are really clear, have the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1863) [Bigfoot icon.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1865) [So, this includes the first](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1866) [demo.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1870) [Thank you.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1871) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1873) [So, in this demo, we show how to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1876) [create marker annotations from](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1880) [JavaScript objects, how to set](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1881) [the display priority of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1884) [annotations to unclutter our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1885) [map, and how to style these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1887) [annotations with colored glyph](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1889) [image, glyph text, so that we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1890) [can translate the information](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1891) [that we have onto the map.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1893) [Sometimes, market annotation is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1897) [very convenient, but may not be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1899) [exactly what you want to use on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1901) [your map.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1903) [For instance, if you want to use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1904) [the logo of your company and it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1905) [has more than one color, then](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1907) [you cannot choose a glyph image](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1908) [because it's restricted to just](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1910) [one color.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1912) [Sometimes the shape of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1913) [annotation is not really the one](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1914) [that you are going for, so in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1916) [this case, you may provide](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1917) [images to represent your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1919) [images to represent your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1919) [annotations instead.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1921) [So, in this case, I have the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1922) [small sticker look to mark](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1923) [places where -- which I have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1925) [visited recently.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1926) [So, I can use a raster image for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1929) [these annotations.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1931) [The title and subtitle are shown](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1932) [in a callout bubble, just like](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1933) [in Server-Side Rendering for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1935) [marker annotations.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1936) [And to create an image](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1937) [annotation, this is very similar](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1938) [to a marker annotation, but with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1940) [the additional property that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1943) [much be provided which is the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1944) [URL for the images.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1945) [And here, you can see two](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1947) [different URLs for two different](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1948) [pixel ratios.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1949) [Another way that I could](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1952) [represent a notation is using](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1954) [the classic pin example.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1956) [And pins usually come up in many](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1958) [different colors.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1960) [And the problem is that if I](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1961) [want to provide a lot of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1962) [different colors, I will need to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1964) [provide a lot of different](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1965) [images.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1966) [And this can quickly become](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1967) [unmanageable.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1969) [So instead, what I can do is I](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1969) [can use a custom annotation.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1971) [And in this case, instead of an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1973) [image, I will use any DOM](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1974) [Element to represent my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1976) [annotation.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1977) [And these elements are created](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1979) [And these elements are created](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1979) [on demand for your annotations.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1981) [So, let's see an example.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1983) [Here, if I wanted to do just](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1984) [some color for any pin that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1987) [shows up on my map, then I will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1989) [create an annotation with a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1992) [coordinate [inaudible].](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1993) [And a third parameter which is a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1994) [function that we will return a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1996) [DOM Element for that annotation.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1998) [So, in this case, I will use a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=1999) [Canvas Element.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2001) [I create a Canvas Element.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2002) [I get .Context.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2003) [I drew a pin image in that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2004) [Canvas.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2006) [I changed the head of the pin to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2007) [the color that I want, and I](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2008) [returned to Canvas.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2010) [And this is the Canvas that is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2011) [shown on the map for this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2012) [annotation.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2014) [So, these were the three kinds](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2017) [of annotations that you could](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2018) [use.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2019) [But sometimes you want to show](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2020) [more than just a single location](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2022) [or a set of single locations.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2024) [Sometimes you want to call -- to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2027) [show complete areas on your map.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2028) [And to do that, we have overlays](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2031) [and we have -- we provide three](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2033) [different kinds of overlays.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2034) [And here are some examples of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2036) [how you could use them.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2038) [With a circle overlay, you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2040) [show all of the distances -- or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2042) [the distances from a point.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2043) [With a polyline overlay, we can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2045) [show a route between two points.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2046) [And you can highlight](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2048) [geographical areas such as a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2050) [state, the boundaries of a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2052) [country or a city, etcetera,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2054) [using a polygon overlay.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2056) [So, here is an example of a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2058) [circle overlay.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2061) [So, now I'm in Brussels and I've](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2062) [centered my map on the Manneken](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2065) [Pis.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2066) [And this is right in the center](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2067) [of the city and this is a very](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2070) [nice place to walk around.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2071) [So, by using concentric circles](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2073) [around my location of increasing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2075) [radius, I can see walking](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2078) [distances.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2080) [So, here I've created overlays](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2081) [with their coordinates, and the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2083) [second parameter that you need](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2084) [to give to a circle overlay, is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2086) [a radius expressed in meter.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2088) [So here, every overlay has a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2090) [radius starting from 400 meters,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2092) [increasing by 400 meters.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2094) [So, 400, 800, etcetera.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2095) [So, I can see in the right, that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2097) [So, I can see in the right, that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2097) [there is a museum for comic](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2100) [strip art.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2102) [That sounds interesting.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2103) [And it looks like it could be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2104) [between 1200 and then 1600](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2105) [meters.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2108) [So, about 10 to 15 minutes'](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2109) [walk.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2110) [One important thing that I can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2111) [do with overlays, is I can also](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2113) [style them.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2114) [So here, to represent this style](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2116) [of overlay, I can use a MapKit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2118) [Style Object, which has several](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2120) [properties such as the line](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2123) [width, the line depth, the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2125) [stroke color which again, can be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2126) [any CSS color.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2128) [By default, circle overlays are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2129) [filled with blue color, but in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2132) [this case, I want them to be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2135) [transparent.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2136) [So, I set the field color to be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2137) [null.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2139) [I have decided that I want to go](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2139) [visit this comic strip museum,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2142) [and MapKit JS as we will show,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2145) [has services that can give you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2147) [walking and driving directions](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2150) [between two points.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2151) [So, in this case, I've asked for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2152) [directions from where I was, the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2154) [Manneken Pis, to where I want to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2156) [go.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2158) [I receive as a result, a route](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2158) [I receive as a result, a route](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2158) [which I represent on this map](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2161) [using a polyline overlay.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2162) [And a polyline overlay is a list](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2163) [of points.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2165) [So, these are all coordinates](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2165) [linked to each other.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2167) [I can style them by setting the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2169) [Stroke Opacity for instance, or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2171) [a thick line width to make sure](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2173) [that it shows up on my map.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2174) [And the last example is a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2178) [polygon overlay.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2179) [This is very useful to do for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2180) [instance data visualization.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2181) [And here I have a map of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2183) [United States where every state](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2184) [is an overlay of its own.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2186) [A polygon overlay is defined](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2188) [again by a list of points, but](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2190) [this -- in this case, the shape](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2192) [is closed and filled.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2195) [You can even specify lists of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2197) [lists of points to -- for more](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2200) [complex scenarios.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2201) [So, for instance, if you have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2202) [enclaves and exclaves, which is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2203) [often the case with real](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2205) [geographical areas.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2206) [Annotations and overlays can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2208) [also have an extra piece of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2210) [information added to them, which](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2213) [is this data property.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2214) [So, in this example, I want to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2216) [show the population of every](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2217) [show the population of every](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2217) [state of the United States.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2220) [I can show it as a color, which](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2221) [gives me a rough idea of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2224) [population.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2225) [But I can also add some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2226) [additional data so that if the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2228) [user selects one of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2229) [overlays, so in this case, the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2231) [State of Texas, I can show that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2233) [the actual population is over 20](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2235) [million people.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2238) [And overlays are selectable just](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2239) [like annotations.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2241) [To show overlays such as the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2245) [route that I showed you or to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2247) [show all of the states, we need](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2249) [a lot of data, we need a lot of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2251) [points, so for the states, we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2253) [had thousands and thousands of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2254) [points.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2256) [So, a convenient way to get that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2257) [data into your program, is to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2259) [use GeoJSON Import.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2261) [So, if you have a GeoJSON data](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2262) [file, then you can import it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2263) [automatically using MapKit JS.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2265) [Annotations and overlays are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2267) [created.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2269) [So, in this example, this was a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2269) [different data file, which](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2271) [contained a lot of UFO](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2273) [sightings.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2275) [And this is just a detail of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2276) [map.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2278) [So, you can see there are lots](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2278) [of these sightings.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2279) [of these sightings.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2279) [And all of these annotations and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2282) [overlays are created](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2284) [automatically and can of course](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2285) [be customized using some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2286) [delegate methods.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2288) [Finally, these -- since these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2290) [annotations and these overlays](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2293) [can be selected by users, you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2295) [want to listen to events from](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2298) [them, as well as you could from](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2299) [the map.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2300) [So, you can listen to selection](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2301) [and the selection events.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2303) [And we've also seen earlier that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2304) [annotations could be dragged, so](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2306) [you can listen to dragging](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2307) [events.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2309) [And again, this uses the Add](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2309) [Event Listener Method.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2310) [So, for instance, you can use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2312) [Add Event Listener to listen to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2314) [select events from the map,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2316) [which will tell you when an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2318) [annotation or an overlay has](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2319) [been selected.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2321) [And we will see an example of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2322) [that in the demo.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2323) [The next section is Enabling](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2326) [Rich Interactions with Services,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2328) [and for this section, I will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2329) [give the mic to Melody.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2330) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2333) [&gt;&gt; MapKit JS provides you with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2345) [access to three services,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2347) [Geocoding, Search, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2349) [Directions.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2350) [I'll step through examples of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2352) [each of those, but before that,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2354) [I'll tell you what they have in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2355) [common.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2356) [You can use the services in a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2357) [similar way, with four easy](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2359) [steps.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2361) [You first create the service](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2362) [object, then you specify the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2363) [request parameters and options,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2365) [then you make the request, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2368) [finally, handle the asynchronous](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2370) [response via a callback](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2371) [function.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2373) [So first, let's talk about the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2374) [Geocoder.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2375) [Here's an example of how you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2377) [use the Geocoder, and it has two](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2379) [methods: Lookup and Reverse](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2381) [Lookup.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2383) [So, this is if have you an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2384) [address or a place, and you want](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2386) [to find the coordinate, or if](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2387) [you have the opposite.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2389) [You have a coordinate and you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2390) [want to find the address.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2391) [So, the first step is to create](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2394) [your object, which you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2395) [optionally provide at Gets User](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2398) [optionally provide at Gets User](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2398) [Location parameter.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2400) [This will allow you to provide](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2401) [more context to the geocoder.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2402) [This is useful in the case where](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2405) [there are places with the same](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2406) [name in multiple locations.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2408) [For example, if you're using the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2410) [geocoder here, you'll be most](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2412) [likely to return Brisbane,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2414) [California instead of Brisbane,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2415) [Australia.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2417) [Next, you build the requests.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2419) [Here, we're using this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2421) [convention center.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2422) [And then you can handle the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2423) [response.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2426) [As we mentioned before, the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2427) [geocoder can easily be used to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2428) [place marker annotations.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2430) [So, here we're adding a marker](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2432) [annotation to the map.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2433) [And then here we have an example](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2435) [of the reverse lookup where we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2439) [have a coordinate, and we want](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2441) [to find the address for the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2442) [place.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2443) [So, that's the geocoder.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2444) [Next up we have service context.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2447) [So, as I mentioned before, you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2451) [can provide a Gets User Location](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2452) [parameter, but you can also](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2454) [provide coordinate and region to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2455) [search.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2457) [This is useful to provide the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2458) [This is useful to provide the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2458) [most relevant results to your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2460) [user.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2461) [So, that's where places are in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2463) [multiple locations with the same](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2466) [name, or you can provide your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2467) [search results, closer to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2468) [user.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2470) [Here's an example of how you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2472) [use the Search Service.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2474) [It's an example for finding](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2476) [coffee nearby the user.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2478) [So first, you create your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2480) [service object.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2482) [Then you build your request](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2484) [using query like coffee.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2486) [You can also do something more](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2488) [specific like a specific name of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2490) [a coffee shop that you have.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2491) [And then you can handle the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2493) [results, which can easily be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2496) [displayed using annotation since](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2499) [sometimes you return multiple](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2501) [results.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2503) [And you can use the coordinate](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2504) [as well as the title to populate](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2505) [the fields of annotation.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2507) [And then finally, we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2509) [simultaneously add and display](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2511) [the annotations using the Map](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2513) [Show Items method.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2515) [So, this is useful if you have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2517) [your full query that you want to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2519) [your full query that you want to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2519) [send in the request, but if you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2521) [have a Search Bar that you want](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2523) [to respond to user input, you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2524) [can use the Search Autocomplete](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2526) [Method.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2527) [With Search Autocomplete, you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2529) [can provide a partial query to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2530) [the user - to the service, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2532) [then save your user some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2535) [keystrokes by providing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2536) [suggestions which you can then](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2537) [use to complete a search.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2539) [And the last service is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2541) [directions.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2546) [Similarly, to the other](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2547) [services, you create your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2548) [directions object.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2549) [You can choose to provide a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2552) [language which will then return](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2553) [the route steps in that provided](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2554) [language.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2556) [If you don't provide a language,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2558) [the language provided to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2560) [MapKit initialization function](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2561) [will be used.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2563) [And if that's not provided, the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2564) [browser's preferred language](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2566) [will be used.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2567) [Then you build your request](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2569) [using two required fields: the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2571) [origin and the destination.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2573) [These can be coordinates,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2575) [addresses, or places.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2576) [By default, the transportation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2579) [By default, the transportation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2579) [type is by automobile.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2581) [You can switch this using the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2583) [transport enum to walking](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2584) [directions.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2586) [We won't keep that, because](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2587) [that's a really far way to walk,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2588) [but we will use Request](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2590) [Alternate Routes.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2591) [You can use this to provide](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2592) [multiple options to your users.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2593) [This way we can display](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2595) [different routes instead of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2597) [default of one optimal route.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2599) [And then finally, you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2602) [display your results on the map.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2603) [Here we have polyline overlays](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2606) [as you've seen earlier.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2608) [And you also get a set of route](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2609) [steps as well as the distance](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2611) [and the travel time.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2612) [So, those are the services.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2614) [Now, that you're more familiar](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2615) [with them, Julien will come back](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2616) [up for a demo.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2617) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2620) [&gt;&gt; Thank you, Melody.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2625) [So, we will pick up where we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2626) [left off and we will continue](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2628) [building our Bigfoot Finder.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2630) [And there's one things that's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2633) [really missing from this finder,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2634) [is that even though it can tell](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2638) [is that even though it can tell](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2638) [us where we are, and it can tell](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2640) [us where Bigfoot is, it doesn't](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2642) [yet tell us how to get there.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2645) [So, I'm going to add some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2647) [directions from All Current](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2648) [Location, which is the McEnery](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2651) [Convention Center, to these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2653) [Bigfoot locations.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2655) [I will use the MapKit JS](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2657) [direction services to do that.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2659) [I will use polyline overlays to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2661) [draw them.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2662) [But the first thing I need to do](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2664) [is I need to make sure that the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2665) [user - I need to find a way so](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2668) [that the user can tell me which](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2670) [one of these sightings they want](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2672) [to see.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2673) [So, well, this one is selected,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2674) [so that's probably the one that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2677) [the user wants to see, right?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2678) [So, this is what we will do.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2680) [We will use the Select Event](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2682) [Listener from the map to listen](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2684) [to annotation selections from](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2686) [the user.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2688) [And when an annotation is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2689) [selected, that means they might](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2690) [be interested in knowing how to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2692) [see that specific location.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2694) [So, we will request a route and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2696) [draw it so that they can see how](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2699) [draw it so that they can see how](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2699) [to get there.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2701) [And then finally, we will let](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2701) [them also select one of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2702) [routes from the options that are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2704) [returned by Direction Services](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2707) [and display more information](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2709) [about each of these routes.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2711) [So, let's start by setting up](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2713) [our Event Listener.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2714) [So, we listen to the select](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2717) [events from the map, which tells](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2719) [us when an annotation or an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2721) [overlay is selected.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2723) [So, this is the property of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2724) [event, object that I received.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2726) [And if annotation has a value,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2728) [then that means that this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2730) [annotation was just selected.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2731) [So, there is only one annotation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2732) [overlay selected at a time, in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2734) [MapKit.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2737) [So, there is no ambiguity here.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2737) [This is the one that we want to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2739) [go to.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2740) [So, I will show routes to that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2741) [annotation.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2743) [Showing our route means drawing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2746) [it on the map.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2748) [So, let's set up a polyline](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2749) [overlay to draw a route on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2751) [map.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2754) [So, first off, I will start by](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2755) [defining a style that I will use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2756) [for all my routes, setting some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2758) [opacity and some line width to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2759) [opacity and some line width to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2759) [make sure that the route stands](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2761) [out.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2762) [The default color is blue, which](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2763) [is fine for the moment, so](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2765) [that's what we will use.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2766) [And just like we did a function](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2768) [that created annotations on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2770) [demand for citing objects, here](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2772) [we'll create overlays on demand](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2774) [for routes.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2775) [So, a route that is returned by](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2777) [the MapKit JS Direction Service,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2779) [contains a lot of information](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2782) [including a path which is a list](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2784) [of steps that you can take to go](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2787) [from A to B.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2789) [And each list of steps, itself](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2791) [contains a list of points.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2792) [And if you remember to create a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2795) [polyline overlay, I want a list](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2797) [of points.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2798) [So, now that I have a list of -](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2799) [list of points, I will reduce it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2800) [to a single list so that I will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2802) [put all of - the path steps one](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2804) [after the other.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2806) [This is the list of points that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2808) [I want to create my polyline](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2809) [overlay.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2811) [This is the style that I just](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2811) [defined above, that I want my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2813) [overlay to show up as.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2815) [And later, I will let the user](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2817) [And later, I will let the user](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2817) [select this overlay to see more](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2820) [information.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2821) [So, I will keep around all of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2822) [the route object, in the Data](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2824) [Properties so that I can display](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2825) [the distance of the estimated](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2827) [travel time.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2829) [I know how to draw these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2831) [overlays, so now I know - I need](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2832) [to request them from the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2834) [service.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2836) [So, here we go.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2837) [This is a little bit longer but](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2841) [not so bad.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2843) [I first need to create a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2844) [directions object.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2845) [I will just use the current](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2846) [language for the directions.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2848) [So, the default is fine.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2850) [So now, when I'm requesting a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2852) [route to a specific annotation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2854) [or rather, routes to a specific](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2856) [annotation, I will clean up my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2858) [map first because maybe I've](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2860) [shown routes to a different](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2862) [place before.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2864) [So, if I query the other list](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2865) [property of my map, it tells me](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2867) [which overlays are currently](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2869) [added to the map, and I can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2871) [remove them by using the Remove](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2872) [Overlays Method.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2874) [So, now I have a clean map, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2875) [I can display new routes.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2877) [I'm building my request for the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2879) [I'm building my request for the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2879) [origin.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2881) [I will hot code this place, the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2882) [McEnery Convention Center.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2883) [Again, I could put coordinates](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2885) [for instance, instead, but this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2889) [is much more convenience.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2890) [For the destination, I will use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2892) [coordinate because I have them.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2894) [They are the coordinate of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2895) [annotation that was given as a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2896) [parameter.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2898) [And I want to show all of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2899) [possible - not all of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2901) [possible but the several](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2902) [possible routes to this point.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2905) [So, I make sure that My Request](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2907) [Alternate Routes Property's set](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2909) [to true.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2910) [Now, that my request has been](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2912) [created, I can execute it on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2913) [Direction Services using the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2916) [Route Method.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2918) [Things can go wrong when you do](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2922) [these kind of queries.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2924) [So, we must make sure that we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2925) [have a way to handle errors when](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2926) [they occur.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2928) [So, in this case, I will fall](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2929) [back to show a default route](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2931) [that I've created and it's just](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2933) [a straight line.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2934) [So, if we see a straight line,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2935) [then we know we're in trouble.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2936) [But let's focus, let's be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2939) [But let's focus, let's be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2939) [positive and focus on the cases](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2941) [where the request succeeds, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2943) [in this case, I will have a list](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2945) [of routes and I will create a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2947) [new polyline overlay for every](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2949) [one of them.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2951) [I will use my trusty Show Items](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2952) [Method on the map to add these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2954) [routes and make sure that they](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2957) [are being shown by setting the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2958) [region to enclose the routes.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2959) [And let me introduce a couple](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2961) [more options in that method.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2964) [The first one is Animate,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2966) [because I wanted to make sure](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2968) [that there is a smooth animation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2969) [from the current region of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2971) [map to the one where the routes](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2972) [are shown.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2976) [And finally, I will also add](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2978) [some padding so that I can keep](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2979) [some of the context and not](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2981) [constrict the region too much](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2982) [around the routes.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2984) [So, I'm now ready to request](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2986) [routes from the - this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2990) [convention center to an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2992) [annotation.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2994) [So, let's select this one again.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2994) [And now that my annotation has](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2997) [been selected, the request has](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2999) [been selected, the request has](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=2999) [been made.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3001) [I see that I have three](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3002) [different results.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3004) [So, they share a part of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3005) [route, but then they diverge in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3006) [the end.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3008) [And they start from our current](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3009) [location, the convention center.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3011) [So, I think this is right.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3013) [Yes, that looks right.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3014) [I have got three results.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3017) [So now, I might be interested in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3019) [knowing more about what's the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3021) [difference in travel time or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3023) [distance.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3025) [So, I can use selection to do](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3025) [that.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3027) [But if I select a route, the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3027) [only thing that happens is that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3028) [my annotation has been](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3031) [deselected because there is only](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3032) [one selection at a time.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3034) [The problem here is that there](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3035) [is no default behavior for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3037) [overlays being selected.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3040) [So, let's implement our own.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3041) [What we will do is we will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3043) [highlight these overlays and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3044) [then display their information](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3046) [on the side bar.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3047) [So, in order to highlight these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3049) [overlays, I will create a new](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3051) [style for highlighting overlays.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3053) [So, let's put it here, along](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3056) [with my old style.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3059) [with my old style.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3059) [So, this style will keep the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3060) [same opacity.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3061) [We will make the line figure and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3062) [we will make it purple so that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3064) [it stands out from the other](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3066) [ones.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3067) [But now, we need to apply this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3069) [style to my overlay once it's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3071) [selected.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3073) [Fortunately, I already have an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3074) [event handler for selections.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3075) [And up to that point, we were](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3079) [only interested in listening to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3082) [annotation being selected.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3084) [But now we will just add a new](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3086) [-- we will add plans to this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3088) [function.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3090) [Oops.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3091) [So now, if annotation is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3096) [selected, I still do the same](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3098) [thing that I was doing, but if](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3099) [an overlay's selected, I will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3100) [change its style to be the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3102) [selected route style that I've](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3104) [just defined, so that it is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3105) [highlighted.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3108) [So, let's see this in action.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3109) [We can use a different one.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3114) [I'm feeling lucky.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3116) [And now, we can see that we can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3120) [select the routes to - from the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3122) [list of routes that have - that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3125) [has been provided.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3128) [I haven't implemented showing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3129) [the data yet.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3130) [Let's see if I select another](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3132) [route.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3133) [What happens is that there is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3134) [nothing happening by default](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3136) [when an overlay's selected, but](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3138) [there is nothing happening by](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3139) [default when an overlay is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3140) [deselected.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3141) [So, I have to implement that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3142) [part of the behavior as well.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3143) [So, in this case, I will add a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3145) [new event listener for deselect](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3149) [events.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3153) [So, when an overlay is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3154) [deselected, then I will switch](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3155) [its style to the default one.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3157) [So, this should fix my issue.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3161) [So, let's try again.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3165) [I have a route here.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3167) [And if I select again, I do the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3169) [same place because here we have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3171) [two overlays on top of each](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3172) [other.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3173) [This will select the other](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3174) [overlay.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3175) [And the deselection event](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3176) [handler is working, so, my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3178) [handler is working, so, my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3178) [previous highlighting has](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3180) [disappeared, and now, the new](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3182) [selection is shown correctly.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3184) [So, this seems to be working](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3187) [pretty well.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3188) [Here is another example.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3189) [So again, I can select these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3192) [routes.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3194) [But now I want to know more](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3195) [about them.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3198) [I want to know what are the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3198) [driving directions, how long it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3199) [takes to use one of the routes](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3201) [versus another, etc. So, this is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3203) [very simple to do because all of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3207) [the - everything that I need is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3209) [already in place.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3211) [I have saved data on my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3212) [overlays, and I have Event List](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3215) [now for Selection and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3218) [Deselection.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3219) [So, when the overlay's selected,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3219) [I will show the data in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3221) [sidebar.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3226) [So, this is just classic.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3228) [Now, we are really into web](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3230) [development land where we have a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3231) [bunch of the time we went to --](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3234) [format it into some HTML, so I](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3236) [won't go over the details.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3238) [But the detail that we have is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3239) [But the detail that we have is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3239) [the one that is associated with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3241) [the overlay.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3243) [And it gets shown when the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3244) [overlay's selected.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3245) [And I will not make the same](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3247) [mistake about this this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3248) [selection, so I will directly](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3249) [hide the data when the overlay's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3251) [deselected so that I don't have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3253) [several routes appearing at](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3254) [once.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3256) [So, let's try again.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3258) [Let's go back.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3260) [I like this example.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3261) [So again, I will select this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3263) [route.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3266) [And now that the route is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3266) [selected, we can see on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3267) [right-hand side that we have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3269) [some additional information.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3271) [This is a quick name for the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3273) [route.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3274) [So, this is the route that goes](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3274) [from Mount Hamilton Road.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3276) [It's 70 kilometers long and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3278) [under ideal driving conditions,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3280) [it should take me an hour and 32](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3281) [minutes to reach there.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3283) [And here are all the steps that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3284) [I can follow to get to my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3286) [destination.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3288) [I could see what this one looks](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3289) [like.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3291) [It's actually longer in distance](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3292) [but it should get me there](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3294) [faster.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3296) [So, there we are.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3297) [We have built a Bigfoot Finder](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3299) [We have built a Bigfoot Finder](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3299) [and -- that lets us select where](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3303) [we want to go and tells us where](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3307) [we are going to go.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3308) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3311) [Thank you.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3312) [Quick recap.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3316) [We've seen how to react to user](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3317) [events.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3319) [So, in this case, selection and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3320) [deselection.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3323) [We've got driving directions](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3324) [from the MapKit JS Service.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3325) [We've used polyline overlays to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3327) [render these driving directions.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3329) [And we've added our own behavior](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3331) [for the selection of overlays](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3333) [since there is no specific](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3335) [behavior provided by default.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3336) [So, there is plenty more to talk](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3340) [about MapKit JS, but we only](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3342) [have one hour.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3345) [So, I will stop here.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3345) [But I hope that we have made a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3349) [good case for MapKit JS,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3352) [delivering a top-notch map](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3353) [experience for the web.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3355) [That it lets you unify on a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3358) [That it lets you unify on a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3358) [single map provider with a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3360) [familiar and flexible API.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3362) [So, if you have on your team](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3363) [people who have used the native](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3364) [MapKit API, this would feel](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3366) [right at home, because the same](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3367) [concepts apply.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3369) [And web developers will be happy](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3370) [to see that the APIs are also](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3372) [tailored to match JavaScript.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3374) [So, I will remind you that you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3378) [need the MapKit JS Key to be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3380) [able to use MapKit JS.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3382) [So, please go to the developer](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3383) [portal, get your key, and try it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3385) [out today.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3386) [If you want to know more about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3388) [MapKit JS, you can find the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3390) [documentation and sample code at](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3392) [this URL.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3394) [And if you want to know more](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3396) [about this session, you have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3398) [this URL for the session itself.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3400) [We have accompanying video that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3402) [will take you step-by-step](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3405) [through getting and using a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3407) [MapKit JS Key.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3408) [And finally, we have labs](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3411) [happening on Wednesday morning](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3412) [and Friday morning, so you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3415) [come to talk to the whole MapKit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3416) [JS team to ask us questions](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3418) [JS team to ask us questions](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3418) [about MapKit JS.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3420) [Thank you very much.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3422) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/212/?time=3424)