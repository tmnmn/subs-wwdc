# Siri Shortcuts on the Siri Watch Face

## Summary
Learn how to use Siri Shortcuts to bring glanceable information and custom interactions to the Siri watch face. Walk through how to create a compelling user experience by providing relevant shortcuts and by donating interactions from your app. See how these experiences can be created from both watchOS and iOS.

## Info
* Frameworks
* WWDC 2018 - Session 217 - iOS, watchOS
* https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/

## Text
 [[ 音乐 ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=7) [[ 掌声 ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=16) [&gt;&gt; 大家好](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=26) [我叫 Paul Salzman](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=27) [我和我的朋友 Josh Ford](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=29) [今天非常兴奋能来到这里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=30) [和各位谈谈 Siri 表盘上的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=32) [Siri 捷径服务](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=33) [去年 我们发布了 Siri 表盘](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=36) [每当抬起手腕](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=37) [它就会根据用户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=39) [使用习惯的相关性](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=40) [使信息可以快速浏览](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=41) [并拥有触控操作](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=43) [这意味着我们的用户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=44) [不需任何配置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=45) [即可全天接收到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=47) [随时更新的内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=48) [现在 在 watchOS 5 中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=51) [我们非常兴奋可以将](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=53) [你的 App 作为数据源](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=54) [添加到 Siri 表盘上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=55) [你提供的捷径](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=58) [将出现在表盘上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=59) [将出现在表盘上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=59) [或者说 在这些称之为](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=60) [卡片的东西上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=61) [当用户轻触这些卡片时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=62) [它就会执行](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=63) [相应的捷径操作](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=64) [比如它可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=66) [进入到你的 App 内](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=67) [具体的内容界面中去](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=69) [如果你的捷径支持后台运行](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=72) [我们还可以直接](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=73) [在表盘上运行这个内联程序](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=75) [也就是说](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=77) [用户不用离开表盘](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=78) [就能使用 App 的功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=79) [让我们来看看](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=82) [我们今天要讨论的内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=83) [我们将从内容是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=84) [如何在 Siri 表盘上显示开始](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=85) [然后 我们会讨论](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=89) [Relevant Shortcut API](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=90) [即用来给 Siri 表盘](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=92) [提供内容的 API](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=93) [我们也会提到如何在你的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=95) [iOS App 内](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=97) [使用 API 来为你的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=98) [Siri 表盘提供内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=99) [之后我会把场地交给 Josh](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=100) [让他为大家介绍预测引擎](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=102) [并让各位了解](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=103) [如何最好的利用这些 API](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=105) [来为你的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=106) [提供服务](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=108) [让我们来看看](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=109) [Siri 表盘如何显示内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=112) [Siri 表盘上的所有内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=115) [都是根据它和用户的相关性](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=116) [来进行排序的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=117) [某条内容和用户的相关性越高](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=118) [它就会出现在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=119) [它就会出现在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=119) [表盘的更上方](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=121) [我们通过整合系统中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=123) [大量的输入信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=124) [来计算相关性 比如](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=125) [当前的时间 用户的位置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=127) [他们的日常活动](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=128) [以及他们与给定数据源的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=130) [互动情况](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=131) [你们将为我们提供](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=133) [相关的捷径内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=134) [而相应的捷径](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=136) [会用于自定义 UI](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=138) [并能提示我们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=139) [何时来分配你们的内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=140) [现在 我们将根据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=142) [用户过去和](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=144) [捷径的互动](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=145) [获得内部的相关性](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=147) [但是 你通常会有更多](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=149) [的明智建议](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=151) [尤其是显示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=152) [可快速浏览的消息时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=153) [或者你想推荐一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=154) [还没被用户使用过的捷径](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=155) [所以 你可以向我们提供](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=157) [叫做 Relevance Providers 的东西](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=158) [而且 和第一方数据源一样](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=160) [用户可以通过](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=161) [iOS Watch App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=163) [在 Siri 表盘上的定制页面](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=166) [停用或重新激活你的数据源](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=167) [在我们深入讨论](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=169) [Relevant Shortcut API 前](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=171) [我们想确认相应的捷径](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=172) [在表盘上运行与显示的同时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=175) [没有和它们的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=176) [相关性算法相冲突](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=178) [所以 当我们开发时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=180) [我们想进入到 iOS](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=181) [设置 App 的内部](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=182) [进入开发者界面](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=184) [找到捷径测试部分](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=186) [这样我们可以确保](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=187) [最近提供的相关](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=190) [捷径会出现在表盘的最上方](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=191) [这是通过允许 “Show Recent Shortcuts”](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=193) [选项来实现的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=195) [此外 随着我们更多的在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=199) [iOS App 内采用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=201) [此 API 我们可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=203) [通过点击 “Force Sync Shortcut](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=205) [to Watch” 按钮来将](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=206) [和 iOS 设备相关的捷径](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=208) [定期和 Watch 同步](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=210) [所以 现在让我们来谈谈](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=212) [Relevant Shortcut](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=214) [Relevant Shortcut 的核心就是捷径](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=216) [捷径包含着](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=219) [你的 App 内](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=220) [想让用户更易](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=222) [获得的核心功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=223) [并且 他们能通过](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=225) [对 Siri 说出关键词](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=226) [或者轻触不同的系统 UI 来访问捷径](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=227) [而在 watchOS 中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=229) [那就是在 Siri 表盘](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=231) [上的一张卡片](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=232) [今年有很多](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=234) [关于如何制作出色的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=235) [捷径的深入讨论](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=236) [这都将给我们一个高层次的概况](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=237) [为我们展现它们是如何](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=238) [为我们展现它们是如何](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=238) [在 watchOS 上工作的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=240) [我非常推荐大家去看一看](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=241) ["Introduction to Siri Shortcuts"](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=242) [和 "Building for Voice with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=244) [Siri Shortcuts" 它们是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=245) [在这次大会早些时候进行的演讲](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=247) [捷径可以由](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=250) [两种东西来组成](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=251) [其中之一是 NSUserActivity](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=253) [它代表你在 App 内](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=254) [想要让用户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=255) [快速返回的任务](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=256) [或是代用户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=259) [执行的任务](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=260) [如今 Intent 十分强大](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=263) [因为它们可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=263) [支持后台运行](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=264) [这意味着用户无需](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=266) [把 App 在前台启动](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=267) [就可以使用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=268) [软件的功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=269) [实际上 用户可以从](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=271) [他们的 Apple Watch](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=272) [或 HomePod 上查询](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=274) [可在其 iPhone 上支持后台运行的 Intent](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=275) [而且 我们框架提供了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=277) [许多你立即就能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=279) [使用的嵌入式 Intent](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=280) [比如发短信 开始体能训练](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=281) [或者请求搭车](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=283) [不过 在新一代 watchOS 5 和 iOS 12 中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=285) [你可以制作个性化的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=286) [并拥有你的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=288) [App 最佳功能的 Intent](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=289) [Xcode 中内置了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=292) [这个非常棒的深度 Intent](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=293) [定义文件和编辑器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=295) [并且 我会给各位](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=296) [看一些有关 Relevant Shortcut 的指示器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=297) [不过 我特别推荐各位](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=299) [不过 我特别推荐各位](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=299) [看看其他的讲座来了解](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=300) [全部的细节](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=302) [现在 让我们来看几个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=303) [当 Watch App 发出请求时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=304) [捷径将如何执行的例子](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=306) [用户通过轻点 Siri 表盘](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=309) [或向 Siri 说出](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=312) [关键的语音词汇](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=313) [来生成捷径请求](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=315) [之后 Watch 会收到这一请求](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=316) [它会检查并确认](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=318) [是否有已安装并能处理这个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=319) [捷径的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=320) [在这个例子当中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=322) [有一个已安装的软件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=324) [所以 我们会将这个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=325) [捷径发送到适合的 App 上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=327) [如果你的捷径](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=329) [是由一个能后台运行的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=331) [Intent 生成的 那么](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=332) [执行 App 的 Intent](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=334) [将运行这个捷径](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=336) [但是 如果你的捷径](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=337) [不是基于 NSUserActivity 构建的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=338) [或者你的 Intent 无法](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=340) [支持后台运行 那么 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=341) [就会自行启动](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=342) [来处理这个捷径](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=343) [当捷径执行完成](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=345) [它会生成一个结果](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=346) [然后将结果返回给用户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=348) [现在 让我们来看看](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=350) [另一个例子](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=351) [在这个例子中 用户轻点 Siri 表盘](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=353) [或者向 Siri 说出关键词来生成](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=355) [捷径请求](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=357) [之后 Watch 会检查这个请求](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=358) [之后 Watch 会检查这个请求](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=358) [这种情况下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=360) [它会确认是否有](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=361) [已安装的能处理这个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=362) [捷径的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=363) [所以 我们会检查手机](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=365) [是否有能处理这个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=366) [捷径的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=367) [在这个例子里 手机中有这样的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=368) [所以 我们将把请求](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=370) [发送至手机](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=371) [之后就会有相应的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=372) [或 Intent 扩展程序](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=374) [来执行请求](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=375) [当请求执行完毕](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=376) [手机上会生成一个结果](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=378) [将其返回给 Watch](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=379) [再传达给用户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=381) [那么 现在我们了解了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=382) [构成捷径的关键概念](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=385) [以及它在 Watch 上是如何执行的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=386) [下面让我们来看看](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=388) [Relevant Shortcut 它可以获取你的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=389) [捷径并在最相关的时刻](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=391) [将它们呈现在表盘上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=392) [我们可以根据你的捷径内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=395) [自动对 Siri 表盘中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=397) [卡片上的栏目进行填充](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=398) [不过 你也可以根据个人习惯](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=400) [决定卡片的显示内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=401) [这对一目了然地呈现信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=402) [十分有用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=403) [当然 当你轻点卡片](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=405) [就会执行](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=407) [相应的隐藏的捷径](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=408) [那么 下面让我们来看看](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=410) [这在表盘上是如何运行的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=411) [如果你的捷径支持](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=413) [用户活动 那么当用户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=414) [轻点它 你的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=416) [将自动打开相关的内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=417) [将自动打开相关的内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=417) [如果你的 App 或者](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=421) [捷径不是基于 Intent 构建的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=423) [那么当用户轻点卡片时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=424) [我们将看到这样的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=426) [Intent 确认界面](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=427) [如果用户轻点确认](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=429) [并且你的 Intent 是在后台运行的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=431) [那么我们将内联执行该指令](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=431) [假如你的 Intent](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=434) [无法在后台运行 我们将启动](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=435) [你的 App 并递交你的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=436) [Intent 来继续执行指令](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=438) [接下来 让我们看一下 Relevant Shortcut](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=441) [的 API](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=442) [Relevant Shortcut 的核心](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=443) [当然就是捷径](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=445) [如果你想提示我们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=446) [这一内容何时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=448) [会产生相关性 你可以给我们提供](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=449) [relevanceProviders](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=450) [我们很快会介绍它](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=451) [如果你想自定义的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=453) [UI 超出了捷径](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=454) [可提供的范围 你可以在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=456) [watchTemplate 属性中给我们一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=457) [默认卡片模版](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=459) [现在 当你创造完成了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=460) [所有的 Relevant Shortcut](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=463) [你需要让我们了解它们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=464) [你要告知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=465) [默认 relevantShortcut 商店](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=466) [你可以通过提供一个数组](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=468) [来做到这一点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=469) [每当你提供给我们一个数组](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=470) [它就会清除之前](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=472) [Shortcut Store 内的内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=473) [这对清除过去的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=474) [Relevant Shortcut 非常有用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=475) [不过 你只需记住](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=478) [为我们提供所有](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=478) [为我们提供所有](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=478) [需要我们考量的 Relevant Shortcut](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=480) [就可以了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=481) [让我们来看看](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=483) [我们的内容是如何在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=485) [卡片上显示的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=485) [你可以在左上角看到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=486) [你的 App 图标](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=488) [以及你的 App 的名称](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=489) [它的下面需要一个标题字符串](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=491) [再下面是可选的副标题](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=492) [你可以用它显示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=494) [更多的文字](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=495) [副标题的内容将用斜体显示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=497) [这些标题的左边是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=499) [可选的自定义图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=500) [它支持透明图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=502) [而且自动采用圆角模式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=503) [你可以通过 watchOS 的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=506) [Human Interface Guidelines](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=507) [来了解更多关于](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=509) [这些素材的尺寸](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=510) [正如我之前提到的 现在我们可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=512) [自动填充所有](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=513) [非用户提供的捷径栏目](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=515) [在自定义 Intent 的情况下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=517) [你提供的每一个参数组合](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=519) [都会关联一个我们可以使用的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=521) [标题和副标题](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=523) [而且 当你用代码生成了 Intent](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=525) [并产生了一个捷径之后](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=526) [你可以用任意参数来设定图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=528) [我们将根据所提供的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=531) [最详细的参数](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=532) [来为自定义图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=534) [选择一个图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=535) [一个参数的具体取值](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=537) [是由你列在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=538) [Intent 定义文件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=539) [Intent 定义文件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=539) [内的参数所决定的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=540) [在 NSUserActivity 的情况下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=542) [当你通过创建你的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=545) [userActivity 来生成](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=546) [一个捷径时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=547) [你要提供你在 App 的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=549) [info.plist 中的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=550) [userActivity 类型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=551) [对我们来说 要想不用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=553) [默认卡片模版就将其](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=553) [呈现出来 你需要给我们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=555) [在标题属性上提供一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=556) [标题的值](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=557) [在 iOS 中 你也可以通过](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=558) [创建一个 CSSearchableItemAttributeSet](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=560) [来提供副标题和自定义图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=562) [在该属性集上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=566) [我们将从内容描述属性中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=567) [抽取副标题](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=568) [并且从 thumbnailData 属性中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=569) [抽取自定义头像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=571) [当你配置完](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=573) [这个属性集 就可以将它设置在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=574) [NSUserActivity 的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=575) [contentAttributeSet 属性中了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=577) [如果你不想提供给我们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=578) [整合进你的捷径的内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=582) [你可以提供一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=583) [默认卡片模版 它有](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=584) [卡片上每一个栏目的属性](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=586) [而且 根据我们所获取的内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=588) [我们将展示不同的布局](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=589) [大家可以看到右边的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=592) [两个配置 如果它们未提供](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=593) [图像 我们将把它的文字](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=594) [向左延伸](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=595) [这给文字内容提供了更多的空间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=597) [在下方的两个例子中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=599) [在下方的两个例子中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=599) [如果没有副标题](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=600) [我们会把标题字符串](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=602) [从顶行自动换至底行](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=603) [如果你的捷径是基于 Intent 构建的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=606) [当用户轻点它时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=608) [就会看到这个 Intent 确认视图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=610) [左上角是你的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=612) [App 图标](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=613) [它会变大一点 后面是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=614) [你的 App 名称](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=615) [在此之下 我们将直接从](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=617) [你的 Intent 的定义文件中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=618) [选取显示的标题和副标题](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=619) [这时候 用户有](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=621) [三个选项](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=622) [如果他们想运行你的 Intent](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=624) [可以点击中间粉色的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=625) [确认按钮](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=626) [如果他们不想运行它](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=628) [可以轻点忽略按钮](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=629) [或者 Digital Crown](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=630) [第三个选项](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=631) [要更为精细](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=632) [有时用户看到一个 Intent](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=633) [发现自己想对其中的一些参数](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=635) [做轻微调整](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=637) [那么 他们可以轻点顶端的模块](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=638) [我们将启动你的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=640) [App 并提供](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=641) [你自定义过的 Intent](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=643) [因此 你可以在继续](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=644) [执行指令前 呈现给用户一些](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=646) [可以对某些参数](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=647) [稍作修改的 UI](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=648) [现在 让我们来进一步](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=650) [谈谈中间的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=651) [粉色确认按钮](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=653) [我们这里所显示的字符串](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=655) [是一个操作动词](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=656) [它基于你在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=657) [Intent 定义文件中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=658) [Intent 定义文件中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=658) [定义的 Intent 类别](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=660) [此外 这个颜色是从](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=662) [你的 Watch App 界面描述板里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=664) [App 的全球色彩中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=665) [选出来的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=667) [要时刻记住](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=668) [你的 Watch App 内](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=670) [支持的 Intent](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=671) [必须是你的 iOS App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=673) [支持的 Intent 的子集](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=674) [这意味着你将在 iOS 和 watchOS 上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=676) [共享同样的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=677) [标题字符串和](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=679) [副标题字符串](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=681) [而 watchOS](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=682) [是一个有很多约束的画板](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=683) [每一个字都很重要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=684) [因此 我们非常推荐使用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=685) [NSStringVariableWidthRuleType 密钥](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=687) [和字符串字典](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=688) [这允许你给我们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=691) [许多可供我们选择的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=692) [不同大小的字符串](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=694) [我们可以根据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=695) [呈现内容的环境来进行选择](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=696) [当为 watchOS 提供内容时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=698) [我们推荐为 38 毫米 Watch](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=699) [提供一个宽度规则](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=701) [为 20 的字符串](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=704) [同时 为 42 毫米 Watch 提供](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=705) [一个宽度规则为 24 的字符串](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=707) [想了解更多关于这个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=708) [API 的信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=711) [请观看去年大会上的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=713) ["Localizing with Xcode 9" 讲座](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=714) [现在让我们来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=716) [谈论一下 Relevance Provider](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=718) [Relevance Provider 是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=721) [一种提示我们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=722) [何时该显示内容的方法](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=724) [这种方法可以让我们知道](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=726) [我们在计算相关性时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=727) [该如何整合内容 比如时间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=728) [用户的位置 或他们的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=729) [日常活动](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=731) [而实际上 你可以在一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=733) [Relevance Shortcut 种给我们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=734) [提供不止一个的 Relevance Provider](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=735) [我们还将利用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=736) [输出信息的内部区段](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=737) [所以 如果你给我们提供一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=739) [说明某天某个时刻](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=740) [很重要的 Relevance Provider](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=741) [而另一个说明某个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=742) [特定的位置很重要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=743) [当在这个时刻用户同时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=745) [出现在这个位置时 你将得到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=746) [高关联性的输出结果](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=748) [如果你想将这些](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=750) [Relevance Provider 结合起来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=751) [你需要分别提供两个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=752) [Relevance Shortcut](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=753) [每一个都有](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=755) [不同的 Relevance Provider](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=756) [那么让我们来看一下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=757) [我们可用的选项](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=759) [第一个是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=761) [INDateRelevanceProvider](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=762) [它有规定的 startDate 参数](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=764) [和一个可选的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=765) [endDate 参数](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=766) [当你新建一个这样的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=768) [Relevance Provider 实例时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=769) [离你提供的开始时间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=770) [越接近 那么 Provider](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=772) [输出的相关性就越高](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=773) [当那一天的那一时刻过去后](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=776) [其相关性就会呈曲线下滑](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=777) [以让更多的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=778) [以让更多的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=778) [内容出现在表盘上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=780) [如果你给我们提供了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=781) [可选的 endDate 我们会调整曲线](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=782) [来适应信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=784) [如果你的内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=785) [和指定位置更相关](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=788) [你可以使用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=790) [INLocationRelevanceProvider](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=790) [当你构建一个这样的实例时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=793) [它会把 CLRegion](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=794) [作为主要参数](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=796) [当用户离这一区域](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=797) [越来越近时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=798) [RelevanceProvider 输出的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=799) [关联性就会变得越来越高](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=800) [你的脑海中并不会经常出现](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=803) [关联内容的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=804) [具体时间或](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=806) [或具体位置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=807) [用户的日程](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=810) [和他们最爱的位置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=811) [时常发生变化](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=813) [你肯定不想追踪](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=814) [所有的这些信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=815) [所以你可以利用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=816) [Siri 面部智能识别并且使用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=818) [INDailyRoutineRelevanceProvider](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=819) [这里面有](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=821) [用户可能喜爱的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=822) [时刻和位置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=823) [比如说 假如你有一些](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=826) [想要在用户醒来时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=827) [作为每日预报来显示的内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=828) [你不必知道他们是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=829) [早上五点醒还是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=831) [上午十点醒](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=832) [你只需向我们提供](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=833) [早晨的情况即可](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=833) [如果你想进行需要些](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=835) [运动器材的体能训练](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=837) [你只要提供我们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=838) [运动的情况即可](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=839) [运动的情况即可](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=839) [现在我们的 Toolbox 里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=841) [已经有了所有的这些 API](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=844) [下面让我们构建一些 Relevant Shortcut](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=845) [在我的例子中 我们制作了一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=847) [虚拟的记录饮食的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=849) [它可以让用户记录](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=850) [自己的饮食情况 而且他们可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=852) [选择做些挑战](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=853) [在这周的挑战中 我们的用户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=855) [选择了素食挑战](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=856) [那么 我们将为记录饮食](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=858) [创建一个用户活动](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=859) [它的活动类型是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=862) [com.myapp.LogMeal](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=863) [由于我们要在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=865) [晚餐时显示出来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=866) [我们要把用户信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=867) [字典内的重要内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=868) [设置到晚餐中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=870) [一旦我们设置好了 userActivity](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=872) [我们就可以创建一个捷径](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=874) [从这个捷径里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=875) [我们就可以创建出一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=876) [Relevant Shortcut](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=876) [现在 我们想让用户知道](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=878) [因为他们已经](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=879) [选择了素食挑战](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=880) [因此这一内容将在表盘上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=881) [显示出来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=882) [我们要制作一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=883) [默认卡片模版](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=884) [来用 Log Dinner 这个名字](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=885) [来作为自定义 UI 的标题](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=887) [并且 我们会在副标题](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=888) [和自定义图像中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=889) [显示素食挑战](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=891) [我们的用户不经常](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=892) [记录自己的饮食](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=895) [但是他们选择了这个挑战](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=896) [所以 我们想给系统一个提示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=898) [所以 我们想给系统一个提示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=898) [告诉它这个内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=900) [应在夜间 通过在 .evening. 情景下发送](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=900) [dailyRoutineRelevanceProvider](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=903) [显示出来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=904) [现在既然我们的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=906) [Relevant Shortcut 已经配置完成了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=907) [我们可以把它发送至](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=908) [默认的 relevantShortcutStore 中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=909) [下一个例子 在我们的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=910) [App 中 用户还可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=914) [设定许多爱吃的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=915) [和经常吃的零食](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=916) [或者设置他们每天吃的早餐](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=917) [那么我们创建了一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=919) [logFavoriteMealIntent](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=920) [我们想要这些](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=924) [显示在表盘上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=925) [使用户更易记录](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=926) [自己最爱的零食和饮食](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=927) [因此 我们将新建一个 Intent 的实例](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=929) [拿出一个我们最爱的食物](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=930) [在参数中将它](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=932) [设置为最爱](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=933) [这个例子中 我们的用户爱吃曲奇](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=934) [我们也会为这一参数设置一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=936) [图像 当它出现在表盘上时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=939) [用户就会有更多的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=940) [相关信息来了解](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=942) [他们将记录什么](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=943) [从这里 我们可以采用我们的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=945) [Intent 创建捷径](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=946) [通过捷径就可以创建一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=947) [relevantShortcut](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=948) [此时 我们就准备好将](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=950) [relevantShortcut 发送至](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=951) [relevant shortcut store 了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=952) [我们不需要默认卡片模版](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=954) [因为有标题字符串](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=955) [和我们发送给](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=956) [Intent 的图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=958) [就已经足够了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=959) [就已经足够了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=959) [我们实在不想](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=960) [再提供一个 relevanceProvider](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=961) [因为这对用户来说](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=963) [是已经习以为常的事情](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=964) [他们通常会全天](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=965) [记录这些 我们可以利用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=966) [Siri 面部预测引擎](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=967) [让它在用户最需要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=969) [的时候显示出来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=970) [而且 尽管我们完成了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=972) [relevantShortcuts 的创建 但实际上到这一步](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=974) [我们还没有彻底结束](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=976) [我们也需要有能力来处理它们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=977) [在新的 watchOS 5 中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=979) [在你的 WKExtensionDelegate](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=981) [中有一种叫做](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=982) [处理用户捷径的方法](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=983) [来看我们的第一个例子 如果](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=986) [用户轻点 Siri 上的卡片](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=987) [我们就会启动 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=988) [接下来我们会把用户活动](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=989) [传递给这个方法](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=991) [这种方法的活动类型和](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=993) [com.myapp.LogMeal 是匹配的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=994) [在这个阶段 我们想确定](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=996) [我们进入到了 App 中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=997) [正确的部分](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=998) [所以我们会跳转到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=999) [rootInterfaceController](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1000) [进而启用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1001) [logMealInterfaceController](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1002) [我们要确保](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1004) [将我们输入进用户信息字典](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1005) [的内容继续传递](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1006) [这样我们才能知道要记录](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1008) [哪一顿饮食](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1008) [来看第二个例子](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1009) [一般来说](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1012) [能够后台运行的 Intent](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1014) [可以成功在我们的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1015) [Intent 扩展程序中运行](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1017) [不过 也有一些我们的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1018) [App 会](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1019) [App 会](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1019) [直接收到反馈的实例](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1020) [第一种是 假如在执行指令的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1022) [过程中有错误产生](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1023) [我们需要在 App 内处理它](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1024) [另一种则可能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1027) [出现在用户想要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1028) [稍微修改一些参数时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1029) [比如 当他们想要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1030) [记录一个曲奇饼](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1031) [但实际上吃掉了五个时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1033) [那么 我们要轻点顶端模块](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1034) [启动你的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1036) [然后你就会收到一个反馈](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1037) [你收到的 userActivity](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1039) [的活动类型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1041) [将和你给我们的 Intent 类](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1042) [名称相同](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1043) [在这个阶段 你可以从](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1045) [userActivity 中抽出](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1047) [一个交互 和这个交互中的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1048) [一个 Intent 它拥有](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1050) [你创建 Relevant Shortcut 时设置的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1051) [所有参数](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1053) [所以 每当我们的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1055) [运行时 我们都可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1057) [创建 Relevant Shortcut](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1058) [不过 必须注意的一点是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1059) [尽管你的内容出现在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1060) [Siri 表盘上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1062) [但是这不一定意味着](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1063) [你的 App 正在运行](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1064) [所以 为了帮助大家获得更多的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1066) [运行时间 以提供相关的捷径](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1068) [我们创建了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1069) [WKRelevantShortcutRefresh](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1070) [后台任务](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1072) [我们将把它传递给](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1074) [那些用户花费了时间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1076) [观察 浏览](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1077) [但并没有滑开的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1078) [App 的 Relevant Shortcut](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1079) [App 的 Relevant Shortcut](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1079) [当你有了一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1084) [后台刷新任务](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1085) [你就可以更新支持你](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1086) [Relevant Shortcut 的数据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1088) [并给我们提供一套全新的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1090) [Relevant Shortcut 了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1091) [顺便一提 当支持](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1093) [后台运行的 Intent 运行时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1095) [它执行在你的 Intent 扩展程序的内部](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1097) [这意味着如果你更新](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1099) [你的数据库存储](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1100) [有可能是因为你的 UI](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1102) [和 App 已经老化](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1103) [所以 在 5 中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1105) [我们还创建了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1106) [WKIntentDidRunRefresh](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1108) [BackgroundTask](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1110) [并且 我们将把它同](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1111) [一些运行时间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1112) [在 Intent 扩展程序执行完](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1113) [捷径之后一同传递给你](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1115) [这样你就可以确认](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1117) [你的 UI 是否是最新版本](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1118) [是否需要更新](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1120) [Snapshot 或者重装以及](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1121) [扩展你的并行时间线](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1123) [下面让我们来看看](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1125) [如何利用 iOS 里的这些 API](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1128) [好消息是 除了那些](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1131) [WKRefreshBackgroundTasks](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1133) [我们可以在 iOS App 内](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1135) [使用完全一样的 API](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1137) [我们在 iOS App 里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1140) [提供的 Relevant Shortcut](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1141) [会定期从手机](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1142) [同步到 Watch](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1143) [而且考虑到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1144) [在表盘上显示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1145) [它会结合一些本地的 Relevant Shortcut](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1146) [你拥有所有相同的 UI 自定义选项](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1149) [唯一的区别就在于](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1152) [如果你的 Relevant Shortcut 需要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1154) [回到手机上执行 我们会显示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1155) [你的 iOS App 的图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1156) [而不是你的 App 的图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1158) [既然我们可以显示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1160) [在手机或 Watch 上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1163) [运行的 Relevant Shortcut](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1164) [让我们来看一下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1165) [当用户轻点时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1166) [它会在什么地方执行指令](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1167) [如果一个 Relevant Shortcut 可以由](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1169) [你的 Watch 在本地安装的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1171) [App 处理](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1172) [不论它从哪里来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1174) [我们都会在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1175) [App 内执行它](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1176) [这可以给予用户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1178) [最佳的体验和最少的延迟](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1180) [你可以通过确认](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1183) [用户活动的活动类型是否在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1184) [info.plist NSUserActivityTyped 序列里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1185) [来确保你的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1187) [支持某个捷径的执行指令](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1188) [或者 你的 Intent](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1192) [在你的 Intent 扩展程序列表上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1193) [如果除了 iOS 上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1196) [没有其他已安装的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1198) [能处理你的捷径](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1199) [能处理你的捷径](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1199) [我们将把它返回手机运行](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1201) [即使你的手机](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1203) [不在用户附近](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1204) [鉴于我们现在可以把内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1206) [返回到手机上执行](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1208) [我们想确保用户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1209) [不会轻点卡片 然后](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1210) [被立即告知去拿自己的手机](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1212) [所以 我们有一些关于](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1213) [我们愿意在手机上执行的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1215) [捷径类型的相关规则](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1216) [要求就是它们是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1219) [基于 Intent 构建的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1221) [它们会处理后台运行的执行指令](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1222) [而且 它们不需要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1224) [保护数据准入](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1225) [即手机锁屏时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1226) [你要加密的数据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1227) [确认你的内容是否](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1230) [符合要求的方法就是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1231) [查看你自定义 Intent](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1233) [里的参数组合](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1234) [并确保它支持后台运行](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1235) [查看你所有的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1239) [自定义 Intent 看看你采用的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1240) [方式有没有什么](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1242) [验证限制](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1243) [这里有三个选项](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1245) [我们支持前两种](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1246) [第一种里面没有](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1247) [任何限制](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1248) [第二种显示当你的设备锁住时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1249) [你被限制住了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1251) [这意味着至少要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1252) [解锁 Watch](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1253) [我们才能执行它](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1254) [最后一种是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1256) [锁定时限制 或者](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1258) [保护数据不可用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1259) [保护数据不可用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1259) [现在各位已经了解了所有](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1261) [在 Watch 和手机上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1263) [创建优秀的捷径](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1265) [需要的信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1265) [下面 我将会把场地交给 Josh](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1266) [他将为大家介绍](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1267) [更多关于预测引擎的内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1268) [谢谢大家](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1269) [[ 掌声 ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1270) [&gt;&gt; 感谢 Paul](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1277) [早上好](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1279) [我叫 Josh](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1280) [我是团队的一名工程师](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1282) [我们很开心能制作出多种](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1283) [呈现在用户的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1285) [Siri 表盘上的 Relevant Shortcut](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1286) [Paul 刚刚为大家介绍了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1289) [一些 API 的内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1291) [以及向系统提供你的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1292) [Relevant Shortcut 的不同方式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1294) [现在 我想介绍下系统](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1296) [是如何预测你的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1297) [Relevant Shortcut 的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1298) [以及你可以做些什么](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1300) [来确保系统能在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1302) [最恰当的时候向用户呈现你的内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1304) [正如 Paul 刚刚谈到的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1308) [Siri 表盘上的内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1309) [是根据其对用户的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1310) [相关性来排序的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1312) [每当用户抬起手臂时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1313) [我们想给他们呈现](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1315) [他们最关心的内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1317) [不论是根据当前的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1318) [时间 地点 还是整个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1319) [时间 地点 还是整个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1319) [系统内的其他因素而产生的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1321) [为了解用户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1323) [最关心什么内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1326) [我们需要看一下他们在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1327) [Siri 表盘上是如何](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1329) [与不同卡片进行互动的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1330) [他们在轻点什么内容呢](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1332) [他们花费大量时间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1333) [观看的是什么呢](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1334) [他们为寻找其他内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1335) [而滑过的又是些什么呢](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1335) [我们用所有的这些信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1338) [来了解用户抬起手臂时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1340) [想要立刻看到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1342) [不同的卡片是什么](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1343) [由于我们试着再次显示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1346) [用户最关心的内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1350) [你需要确保你提供在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1352) [Siri 表盘上的内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1353) [是相关的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1354) [并且足够吸引人](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1356) [下面 让我们进一步谈谈](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1360) [如何把你的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1362) [Relevant Shortcut 显示在 Siri 表盘上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1363) [正如 Paul 之前提到的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1365) [第一步 你需要给系统](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1367) [提供你的 Relevant Shortcut](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1368) [你需要提供到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1369) [默认的 Relevant Shortcuts Store](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1370) [一旦你提供了你的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1374) [Relevant Shortcut 我们就可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1374) [通过我们的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1376) [机器学习模型来弄清](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1377) [向用户呈现](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1378) [向用户呈现](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1378) [Relevant Shortcut 的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1380) [最佳方式是什么](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1381) [那么 让我们来看看我们在这个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1383) [模式里都考虑到了什么因素](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1384) [我们看到的第一个就是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1387) [你的 Relevance Provider](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1388) [这是你向系统提供](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1390) [我们没有的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1392) [附加语境的方式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1394) [可能是一个具体的时间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1396) [位置或其他语境](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1397) [我们也会查看用户过去的行为](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1401) [那么 用户之前是如何](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1402) [与这个 Relevant Shortcut 互动的呢](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1404) [它是用户花费大量时间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1406) [在表盘上轻点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1407) [并浏览的那个吗](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1408) [或者 是他们为寻找](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1409) [更有趣内容而滑过的那个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1410) [我们在众多其他因素中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1414) [还看了系统内的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1416) [许多不同的因素 比如说](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1417) [当前的时间 星期几](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1418) [当前的位置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1421) [用户的日常活动](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1423) [将这些都考虑到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1424) [可以更好的了解](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1426) [当用户想要和特定的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1428) [捷径互动时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1429) [的语境应该是什么](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1431) [还值得注意的一点是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1432) [这个模型对每个用户都很安全](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1437) [并且可以自定义的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1439) [并且可以自定义的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1439) [我们所有的学习都是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1441) [在设备上进行的 并且我们正在制作](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1442) [一个可以针对每一个用户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1445) [和 Siri 表盘的模型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1447) [你和表盘互动的方式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1448) [也许和我与表盘](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1450) [互动的方式有所不同](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1451) [一旦我们有了这个已训练模型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1454) [我们就可以运行你的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1455) [Relevant Shortcut](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1457) [并且根据它们对用户的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1459) [相关性把它们再次显示在 Siri 表盘上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1460) [如果你之前听过一些](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1466) [关于捷径的讲座](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1467) [那你可能听说过捐赠](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1469) [这是你给系统指示的方式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1471) [来让它知道用户在你的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1472) [App 内做什么](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1474) [尽管实际上它们不会在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1476) [Siri 表盘的 UI 里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1477) [显示出来 当我们想要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1479) [了解用户过去的行为时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1481) [我们还是会将其考虑进去](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1483) [再次强调](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1487) [捐赠是指示重要任务](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1489) [或其他关于用户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1491) [在你的 App 内的活动信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1493) [并将其提供给系统的重要方式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1494) [通过向系统提供这一信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1498) [通过向系统提供这一信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1498) [我们可以明白并学会](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1500) [用户行为当中存在的模式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1501) [例如 如果用户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1503) [每天都在同一个时间观看](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1506) [或在相似的位置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1507) [做出相同的动作](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1508) [系统就会挑出这些模式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1510) [然后在最合适的时候](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1512) [让它们出现在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1514) [Relevant Shortcut 中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1515) [所以 如果你在用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1519) [NSUserActivities 来显示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1521) [你的捐赠](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1523) [为了向系统提供你的捐赠](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1525) [你需要了解](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1526) [以下的内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1527) [首先你需要把](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1528) [这些属性在你的 NSUserActivity](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1530) [eligibleForPrediction](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1531) [和 eligibleForSearch 中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1532) [设置为 "true"](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1534) [接下来 你需要在你的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1537) [info.plist 内指示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1538) [来确保有一个 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1539) [支持你的用户活动](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1540) [最后 你想要确认](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1543) [无论用户在何时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1544) [看到了这条内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1546) [你都可以捐赠这些](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1547) [用户活动 这样一来 系统就可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1548) [开始挑选模式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1550) [为了能够进行捐赠](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1551) [在 NSUserActivity 上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1554) [有一个方法叫做 becomeCurrent](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1556) [它允许你向系统进行捐赠](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1558) [不过 在新的 5 中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1561) [还有一个方法是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1563) [updateUserActivity](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1564) [它存在于 WKInterfaceController 上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1565) [你可以在这上面将你的用户活动](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1567) [附加到一个 interfaceController 上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1569) [每当用户见到这个 interfaceController](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1571) [系统就会自动](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1573) [代你捐赠用户活动](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1574) [这和我们在 iOS 上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1577) [UIViewController 中的 API](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1579) [以及 UIResponder 上的 API 相似](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1581) [你可以在这些上面](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1582) [给你的 UI 附加](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1583) [NSUserActivity](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1586) [那么 这就是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1588) [我们推荐的在  上进行](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1589) [NSUserActivity 捐赠的方式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1591) [如果有一个 Intent 支持你的捷径](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1594) [你可以通过使用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1597) [INInteraction API](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1599) [来进行 Intent 捐赠](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1601) [所以 如果你之前参加过](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1603) [别的有关捷径的讲座](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1605) [你可能会对这个很熟悉](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1606) [不过 要想进行这个捐赠](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1607) [首先你要创建你的 Intent](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1609) [并且调整每一个参数](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1611) [因为它们对用户在你的 App 内](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1612) [进行的活动而言十分重要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1613) [接下来 你要用 Intent](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1615) [创建你的 INInteraction](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1616) [并且在用户做出这一](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1618) [并且在用户做出这一](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1618) [特定互动时 调用捐赠方法](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1620) [另一个值得注意的是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1622) [这个主要的捷径类型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1625) [我们在作出预测时要用到它](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1627) [那么 让我们来看一下这一内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1630) [在 Xcode Intent editor 中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1633) [你会发现](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1635) [有一栏可以选择](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1636) [主要的捷径类型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1638) [它允许你向系统发出指示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1640) [例如 你的 App 最关键的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1641) [使用案例](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1644) [下面让我们来进一步看看](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1645) [这是什么意思](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1646) [通过指定主要的捷径类型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1650) [你就像是在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1651) [告诉系统 你所认为](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1653) [用户最关心的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1654) [使用案例是什么](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1656) [这可以帮我们的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1657) [学习模型加速](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1658) [你可以指示任意一个这些你已经](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1661) [定义的 Intent](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1662) [为达到最佳性能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1665) [参数组合](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1667) [和选择 都会有一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1668) [你在 Relevant Shortcut](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1670) [提供的参数的子集](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1671) [接下来 我们将展示几个例子](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1672) [来让大家理解](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1673) [这是什么意思](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1674) [不过 通过向系统传递这一信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1678) [我们可以在用户行为中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1679) [我们可以在用户行为中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1679) [更快地挑出相应模式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1681) [更快地知道](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1683) [用户最想要的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1684) [Relevant Shortcut 是什么](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1686) [首先 我们有一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1690) [叫 Messaging 的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1691) [我和 Paul 已经](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1692) [用了一阵这个软件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1693) [每天早上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1694) [我们都会反复地发短信](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1696) [有时候它会准备好](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1697) [开始这样的对话](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1699) [而有时候则是关于我们午饭要吃](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1700) [哪一种曲奇饼](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1703) [这个 App 已经采用了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1704) [Siri 捷径](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1706) [并且 他们定义了一些](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1708) [他们 App 支持的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1709) [不同的参数](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1710) [第一个是接受者](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1711) [我的信息是发给谁的呢](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1712) [第二个是信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1714) [那么 我想发送的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1717) [信息内容是什么呢](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1718) [正如我前面提到的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1720) [不错 我和 Paul 每一天的早晨](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1721) [都在使用这个 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1723) [但是我们发送的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1725) [实际内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1726) [每天都不一样](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1727) [所以 由于这一原因](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1729) [这可能不是主要的捷径类型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1730) [的最佳选择](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1732) [系统会需要更长的时间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1733) [才能明白](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1734) [我想要的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1736) [捷径是什么](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1737) [鉴于我和 Paul](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1739) [鉴于我和 Paul](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1739) [经常联系](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1742) [所以系统可以十分迅速地](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1743) [挑出这一模式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1745) [即我每天早上都](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1746) [给 Paul 发短信](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1747) [有一个更有趣的例子](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1750) [就是我每天早晨我用来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1752) [点咖啡的这个 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1753) [这个 App 同样](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1755) [采用了 Siri 捷径](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1757) [他们支持几个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1758) [不同的参数](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1760) [第一个是我想买的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1761) [咖啡种类](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1762) [下一个是调味品](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1764) [我想加奶油还是加糖呢](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1765) [最后一个是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1767) [我想去哪里取我的咖啡](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1769) [所以 我每天都用这个 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1771) [去一个地方点我的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1773) [早间咖啡](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1774) [但是 这要视我在哪里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1776) [开会而定](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1777) [我想取咖啡的位置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1778) [会逐日改变](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1779) [可能我会去 Infinite Loop](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1781) [或者 Apple Park](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1782) [或者洛杉矶](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1783) [而且我想要在最近的店里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1785) [取我的咖啡](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1786) [所以 由于位置变动的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1788) [可能性很大](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1790) [这可能并不是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1792) [主要捷径类型的最佳选择](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1793) [系统可能也需要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1794) [更长的时间来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1796) [了解我行为](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1797) [中的模式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1798) [然而 我每一次](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1800) [下单的内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1802) [都是相同的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1803) [我总是点一杯加等量](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1804) [奶油和糖的拿铁](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1805) [这可以是主要的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1807) [捷径类型的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1808) [一个最佳选择](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1809) [而且 咖啡本身](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1813) [可能太普通了 对吧](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1814) [加点调味品的咖啡](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1816) [可能是更好的主要捷径类型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1818) [这就是你如何](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1822) [在 App 内提供](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1823) [用户在做什么这一信息的方式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1825) [现在 让我们来谈谈我们将如何](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1828) [预测你的 Relevant Shortcut](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1829) [谈到这个内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1832) [我们将看下几个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1833) [不同的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1834) [第一个是这个叫 Recipes 的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1836) [我每一天都用这个 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1838) [来为我提供我可能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1841) [想尝试的食谱推荐](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1842) [下一个是这个叫](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1846) [Fitness Trainer 的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1847) [它会提醒我外出](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1848) [在晚上跑跑步](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1849) [最后是这个叫](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1852) [Travel Guide 的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1854) [它会在我外出时 或我出现在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1856) [有趣的地点附近时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1857) [出现在屏幕上 这样我就可以去到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1858) [那些地方](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1859) [这三个 App 中的每一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1860) [都会属于](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1862) [我们的三种分类里的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1864) [其中一个我们把第一个称之为](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1865) ["Downtime"](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1868) [它没有与其相关的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1869) [具体的时间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1870) [或具体的位置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1871) [我想和这个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1874) [Recipes App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1875) [互动的时间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1877) [并不固定](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1878) [然而 这个 Fitness Trainer](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1879) [App 有一个非常](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1881) [具体的时间 对吧](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1882) [我已经将晚上八点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1884) [设置为在表盘上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1885) [提醒我的最佳时间了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1887) [通过传给系统这一信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1889) [我们可以更精确地将](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1891) [这一特定的 Relevant Shortcut](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1893) [与我们需要考虑的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1894) [其他因素进行排序](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1895) [同样 这个 Travel Guide App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1899) [也知道它该何时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1900) [显示其相应的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1902) [Relevant Shortcut 对吧](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1904) [它知道用户感兴趣的所有位置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1905) [在这个例子中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1906) [即金门公园](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1907) [再次 通过传递给系统](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1908) [这一信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1910) [我们可以预测特定的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1911) [捷径的相关性](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1914) [要向系统提供](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1918) [这样的附加语境](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1919) [这样的附加语境](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1919) [不论是具体的时间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1921) [地点 或是其他的信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1922) [你都可以通过](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1924) [RelevanceProvider API 来提供](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1926) [这就允许你](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1927) [在你的内容对用户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1928) [最具重要性时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1930) [向系统发出指示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1932) [它也允许你向用户显示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1935) [他们之前可能没见过的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1937) [一些新内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1938) [既然你向系统提供了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1940) [这些附加提示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1941) [在系统确信这是用户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1943) [最感兴趣的事情之前](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1944) [我们无需看到过多](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1947) [用户过去的行为与连贯性](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1948) [不过 我们一定要记住](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1953) [在每一个过程都要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1954) [考虑用户的参与度](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1956) [不论你是否提供了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1959) [Relevance Provider](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1960) [我们都想确定](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1962) [我们所显示的内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1963) [正是用户最关心的内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1964) [下面 让我们再来看一下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1969) [这个 Recipes App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1971) [就像我们之前提到的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1972) [它没有一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1973) [与之相关的具体的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1974) [时间或位置 对吧](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1976) [我想和这个 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1978) [互动的时间可能是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1979) [互动的时间可能是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1979) [做晚饭的时候 然而对你而言可能是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1981) [做午饭的时候](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1982) [那这样一来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1984) [我们可能实际上在指示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1986) [Relevance Provider 的一个空集](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1988) [这样 系统将基于](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1992) [用户之前与这个捷径](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1993) [互动的情况](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1995) [来确定这一特定捷径](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1997) [的相关性](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1998) [于我而言 我经常在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=1999) [晚上七点左右使用它](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2000) [因为我在这个时间做晚饭](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2002) [所以这也是系统把这个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2003) [Relevant Shortcut 显示在表盘上的时间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2004) [然而 如果我们看一下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2009) [这个 Fitness Trainer App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2010) [它有与之相关的具体时间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2011) [你可以通过](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2013) [创建一个 dateRelevanceProvider](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2014) [来提供这个时间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2016) [在这里即把晚上八点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2017) [作为显示时间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2019) [通过向系统传递这一信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2022) [我们会在一天当中的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2023) [某个特定时间附近](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2025) [显示这个内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2027) [当时间越来越接近](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2029) [晚上八点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2030) [这一内容对用户的相关性](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2032) [也就越来越高](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2033) [那么让我们来看一下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2035) [这是我的 Siri 表盘上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2037) [这是我的 Siri 表盘上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2037) [可能会有的几张卡片](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2040) [第一个是日历 它提醒我](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2041) [要为这个讲座进行一个预备会议](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2043) [下一个是我使用的一个 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2046) [它会给我一些太空新闻的趣闻](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2048) [最后 来看一下这个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2051) [Fitness Trainer App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2053) [让我们来详细了解一下它](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2054) [当我醒来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2060) [准备开始新的一天](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2061) [时间大概是早上八点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2062) [你可以看到这个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2064) [Fitness Trainer App 实际上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2065) [已经显示在 Siri 表盘上了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2066) [我们想确保用户知道](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2069) [他们在这一整天中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2070) [都需要做哪些事情](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2071) [不过它会显示在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2073) [相对下面一点的位置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2074) [对于用户而言 这件事](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2076) [目前并不是最紧要的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2077) [但是 当我们已经](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2079) [在进行一天的活动时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2081) [日历上的事件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2082) [对我而言就不再相关了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2084) [那么 Fitness Trainer](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2085) [的建议就会在表盘](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2086) [上方出现 对吧](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2087) [随着我们离晚上八点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2088) [越来越近 这个内容对我也就](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2089) [越来越重要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2091) [当时间终于来到晚上八点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2094) [它也就成了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2095) [对我最重要的事情](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2096) [它想确保我没有忘记](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2098) [要去跑步这件事](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2099) [要去跑步这件事](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2099) [所以 它就会在 Siri](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2100) [表盘的顶部显示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2102) [现在 让我们来看一下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2106) [Travel Guide App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2107) [它也是要在用户出现在感兴趣的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2108) [有趣位置附近时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2110) [显示内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2111) [各位可能已经猜到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2114) [你可以用一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2115) [locationRelevanceProvider](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2117) [向系统提供信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2118) [在这个例子中就是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2119) [金门公园](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2121) [通过向系统](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2124) [提供这一信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2126) [当用户开始向](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2127) [金门公园靠近时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2129) [我们就会自动显示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2130) [这一内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2131) [当用户离金门公园](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2133) [越来越近](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2134) [这一内容对用户来说](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2135) [也就越来越相关](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2137) [所以 假如我刚到洛杉矶](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2140) [你可以看到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2142) [我们已经开始显示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2143) [建议用户去](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2144) [金门公园的内容了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2145) [该内容会在表盘下方显示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2147) [因为现在对我来说](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2148) [这并不是最要紧的事](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2149) [但我们想确保用户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2150) [了解到这一内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2152) [而且 随着我越来越靠近](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2155) [金门公园](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2157) [直到我最终到达金门公园](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2158) [直到我最终到达金门公园](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2158) [这一内容呈现与我越来越相关的趋势](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2160) [我可以很容易地轻点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2161) [这个内容来了解更多详细内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2163) [并查看我在金门公园都可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2165) [做些什么](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2166) [当你在创建你的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2170) [locationRelevanceProviders 时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2171) [你要给系统提供一个 CLRegion](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2172) [这样 你就可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2175) [指明两个重要的属性](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2176) [第一个是实际坐标](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2178) [你想在显示你的内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2181) [的同时显示半径](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2182) [那么 用户到底需要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2185) [离这些位置多近才能获得](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2186) [相关的内容呢](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2187) [CLRegion 里还有几个参数](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2191) [你可以用它们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2192) [调整系统理解你的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2194) [区域的方式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2196) [第一个是 notifyOnEntry](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2198) [所以 顾名思义](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2200) [在这条内容与用户产生相关性之前](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2202) [系统会一直等待](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2203) [直到用户进入](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2205) [这一区域](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2206) [同样 你也可以设置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2209) [notifyOnExit 属性](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2211) [在这个属性里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2212) [在该内容与用户关联之前](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2214) [系统会一直等待](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2216) [直到用户离开这个区域](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2217) [实际上 我们将这两个属性](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2219) [实际上 我们将这两个属性](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2219) [与现有的基于 Siri 表盘的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2221) [位置提醒一起使用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2222) [以获得一种类似于](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2224) [地理围栏的特性](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2226) [CLRegion 上默认将](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2230) [这些属性都设定为 "true"](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2232) [这样一来 我们就可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2234) [根据用户离](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2235) [某一特定地点的距离](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2237) [顺利地把相关性内插进来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2238) [这样 制作 CLRegion](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2241) [就十分简单了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2244) [在这个例子中 我们是在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2246) [Apple Park 附近制作](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2247) [所以我同时置入了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2249) [Apple Park 的坐标和它的半径](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2250) [那么 我需要离这里多近呢](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2253) [在这个例子中是两公里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2254) [下一步 我将调整 notifyOnEntry](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2256) [因为 notifyOnExit 属性](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2259) [对我的用例有很大帮助](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2260) [一旦我把我的区域全部](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2263) [配置完毕 我就可以十分轻松地](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2264) [创建一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2266) [locationRelevanceProvider](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2267) [我有几条关于](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2270) [locationRelevanceProvider 的提示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2272) [为了使用它](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2274) [你的 App 需要位置授权](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2276) [否则我们会忽略](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2277) [这一特殊的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2278) [locationRelevanceProvider](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2279) [locationRelevanceProvider](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2279) [而且 为延长用户的电池寿命](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2281) [一小时内我们获取的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2283) [位置更新数量](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2284) [是有限的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2285) [请记住这一点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2287) [所以 这些是你可以向系统](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2290) [提供具体时间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2292) [和位置的一些方式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2293) [下面让我们来看看](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2295) [该如何向用户提供](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2296) [个性化服务](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2297) [我们有这个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2299) [dailyRoutineRelevanceProvider](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2300) [那么 正如 Paul 之前提到的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2302) [它允许你在有意义的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2303) [时间或位置为用户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2305) [呈现相关内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2306) [这些时间和位置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2310) [对每一位 Siri 表盘的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2312) [的用户都是个性化定制的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2313) [那么 我们第一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2318) [要讨论的情景是早晨](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2319) [这一情景允许你](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2322) [在用户早晨醒来时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2323) [正确显示内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2324) [实际上我们已经将其用于](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2326) [Siri 表盘上现有的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2327) [第一方天气数据源上了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2329) [因此 我们可以在一天的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2331) [开始之际给用户提供](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2333) [一份天气预报](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2334) [之后它会很快消失](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2335) [来为用户可能感兴趣的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2337) [其他内容腾出空间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2339) [其他内容腾出空间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2339) [我们也有夜晚的情景](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2342) [这一情景允许我们在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2344) [用户上床睡觉前](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2345) [显示相关内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2347) [我们将其用在了 5 的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2348) [新版心率卡中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2350) [以便我们能全天为用户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2352) [提供他们心率活动](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2354) [的整体情况](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2355) [而且 创建 dailyRoutineRelevanceProvider](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2358) [变得非常简单](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2360) [你只需指定](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2360) [你最感兴趣的情景](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2362) [那么这样一来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2363) [我们就可以轻松地创建一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2365) [dailyRoutineRelevanceProvider](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2366) [在用户醒来时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2367) [正确地显示内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2368) [这两种情景的特性](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2372) [都和 dateLocation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2373) [或者说 dateRelevanceProvider](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2375) [特别相似](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2376) [除了系统是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2378) [自动计算出我们应该](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2379) [在何时显示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2381) [这一内容之外](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2382) [我们还提供了一些](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2386) [允许你在重要的位置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2387) [向用户显示相关内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2389) [的情景 无论是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2390) [家 工作地点 学校](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2392) [或是当用户到达健身房](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2397) [创建一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2400) [dailyRoutineRelevanceProviders](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2401) [非常简单](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2402) [你只需指定](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2403) [你感兴趣的情景](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2404) [对于所有的这些情景](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2408) [这个 relevanceProvider 的特性](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2409) [还是和 locationRelevanceProvider 一样](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2412) [除了系统是代你](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2414) [自动计算出位置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2415) [这一点的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2417) [所以 随着用户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2419) [靠近这些位置 你的内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2420) [对用户来说](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2422) [也愈加相关](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2423) [所以 这就是我们关于](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2426) [如何预测你 Siri 表盘上的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2428) [Relevant Shortcut 的一些见解](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2430) [你还可以通过这些](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2431) [来向系统提供](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2433) [附加语境 以便我们能在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2434) [最恰当的时间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2436) [显示你的内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2437) [现在 让我们来看看](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2439) [该如何在 Siri 表盘上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2441) [提供绝佳的体验](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2442) [我们已经对 Siri 表盘](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2444) [进行了很长时间的研究](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2446) [这一路以来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2447) [我们学到了很多](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2448) [首先就是 我们认为](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2451) [Siri 表盘上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2452) [有两个高级内容分类](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2454) [特别方便使用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2456) [其一就是可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2459) [其一就是可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2459) [可快速查看的信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2460) [我们可以在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2462) [抬起手腕时 轻松获得自己](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2463) [最想要的一条信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2465) [并且可以在合适的时间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2466) [轻点以了解](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2468) [更多细节](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2469) [第二个是轻点动作](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2471) [我们可以在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2474) [表盘上轻点某个卡片](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2475) [来执行一个复杂活动](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2476) [然后立刻反馈给我](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2478) [下面 让我们来看一下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2481) [可快速查看的信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2483) [你可以看到 我们再次](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2484) [使用到了 Recipes App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2485) [在这一整天中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2487) [当我扫视手腕部位时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2488) [我可以得到一条](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2490) [信息 对吧](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2491) [我可以看到我今天晚些时候](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2492) [可能会烹饪的食谱](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2493) [并且我可以轻松地决定](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2495) [我想不想做这道菜](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2496) [或我今晚是否想外出](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2497) [当我晚上准备好](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2499) [要回家时 我可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2501) [轻松地轻点它](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2502) [来深入浏览这个 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2505) [看看我是否需要在回家路上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2506) [去一趟杂货店](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2507) [因此 如果你想为用户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2513) [提供可快速浏览的信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2514) [那么你需要记住](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2515) [以下这些内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2517) [确保你在你的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2518) [确保你在你的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2518) [Relevant Shortcut 中显示的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2520) [是最关键的内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2522) [因为这是用户每天](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2524) [在抬起手腕时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2525) [将看到的内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2526) [这是他们想](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2527) [立刻在表盘上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2529) [看到的内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2530) [当用户轻点你的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2532) [Relevant Shortcut](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2535) [就应该打开你的 App 内的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2536) [一个位置 并为他们提供](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2538) [额外的信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2539) [也的确有不小心轻点了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2541) [Siri 表盘的情况](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2542) [在这种情况下 你一定想确认你没有](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2543) [开始任何用户不知情的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2544) [长时间运行的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2546) [后台任务](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2547) [正如 Paul 之前提到的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2550) [系统会自动给你](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2552) [一个附加的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2553) [后台刷新任务](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2555) [让你提供新的内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2556) [请利用好这一性能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2558) [这样你就能确保](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2560) [可以在 Siri 表盘上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2561) [显示相关的有趣内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2563) [而且 每当你得到新数据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2564) [不论它是否](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2568) [经过后台刷新](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2569) [因为你已经联网](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2571) [并下载了新的数据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2572) [或者由于用户已经开始使用你的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2573) [确保你提供的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2575) [新的 Relevant Shortcut](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2576) [总能在用户抬起手腕时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2578) [让系统显示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2580) [最有趣的内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2581) [最后 如果你想要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2584) [及时显示信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2587) [请通过 Relevance Provider](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2588) [向我们发送指示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2590) [以便系统可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2592) [在最合适的时间显示你的内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2593) [这就是快速可浏览信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2595) [现在 让我们再谈一下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2600) [Siri 表盘上的轻点动作](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2601) [大家可以看到我们再次](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2605) [使用了这个 Fitness Trainer App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2607) [在我的手腕上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2608) [我可以轻松得到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2610) [我需要出去跑步的提醒](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2611) [轻点它 我就会得到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2614) [确认 来确定这就是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2616) [我想要执行的实际指令](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2617) [轻点两下 我就可以开始](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2621) [体能训练了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2622) [我不用花费时间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2623) [去众多 App 里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2624) [寻找这个 Fitness Trainer App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2626) [就可以开始进行我的体能训练](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2627) [我可以在我的表盘上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2629) [轻松地轻点两下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2631) [就开始体能训练](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2633) [如果你提供了轻点指令](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2637) [请记住以下几点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2638) [请记住以下几点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2638) [你的 Intent 是在你的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2641) [Siri 扩展程序内运行的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2643) [这就允许系统在后台](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2645) [自动运行你的 Intent](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2646) [这样用户就再也不用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2649) [离开 Siri 表盘](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2650) [来运行你的指令了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2651) [我们只展示标准的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2656) [系统确认 UI](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2657) [这样用户就知道他们要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2659) [运行的指令是什么](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2661) [我们可以确定这就是他们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2662) [想做的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2663) [你也想确认](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2667) [你创建的捷径](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2668) [是被完全指定的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2669) [这样你的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2670) [Intent 扩展程序就可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2672) [在无需任何其他用户确认的情况下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2673) [处理它](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2675) [因此当用户轻点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2677) [Siri 表盘上的这些](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2678) [Relevant Shortcut 时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2679) [我们无需打开你的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2681) [来从用户处](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2682) [继续获取附加信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2683) [我们可以开始运行你的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2685) [SiriKit 扩展程序](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2687) [在后台运行它](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2688) [用户就可以在当天获取它](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2689) [你肯定也想在你的 App 内](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2692) [提供像 Relevant Shortcut 一样的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2695) [日常使用任务](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2697) [这些是用户经常使用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2699) [这些是用户经常使用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2699) [你的 App 的原因](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2700) [也是为什么他们想要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2701) [从表盘上轻松快速地](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2703) [获取信息的原因](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2704) [你也想要确认](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2707) [你能够经常提供](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2709) [Relevant Shortcut](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2710) [你可能不知道](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2711) [你上次向系统提供](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2713) [Relevant Shortcut 是什么时候](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2714) [而且你想要确认](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2716) [你的用户总能从](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2716) [Siri 表盘上得到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2718) [你的指令](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2719) [如果你要在 App 开始运行时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2721) [提供这些内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2722) [请在后台线程操作](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2724) [这样你就不会降低 App 的运行速度](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2725) [我们讨论了很多关于](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2728) [Relevant Shortcut 的内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2731) [以及很多你可以在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2733) [Siri 表盘上显示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2734) [正确内容的方式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2736) [你需要确认你提供的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2737) [内容是相关的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2740) [并且吸引人的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2742) [这是用户想要在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2743) [抬起手腕时立刻看到的内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2744) [是我们想在 Siri 表盘上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2745) [显示的内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2747) [也是我们想要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2749) [放在顶部的内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2750) [当你有了 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2753) [你会得到最为丰富的体验](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2755) [系统可以给你](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2757) [附加后台刷新任务](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2759) [附加后台刷新任务](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2759) [并且从用户轻点任意一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2760) [Relevant Shortcut](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2761) [到我们开始执行指令之前](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2763) [不会有任何的延迟](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2764) [如果大家有什么疑问](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2768) [我们今晚还有一个实验室活动](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2769) [我们很乐意和各位谈谈](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2771) [有关 Relevant Shortcut](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2772) [和 Siri 表盘的内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2773) [我们很期待看到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2775) [各位在表盘上创造出](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2776) [多种多样的体验](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2777) [谢谢大家](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2780) [[ 掌声 ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/217/?time=2781)