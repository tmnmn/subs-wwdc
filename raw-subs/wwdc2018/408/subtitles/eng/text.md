# Building Faster in Xcode

## Summary
Build your apps faster in Xcode 10. Learn how to structure your projects and tweak your code to take full advantage of all processor cores. Whether you've made a few small code changes you want to give a try, or you're building your full app for release, these techniques will cut the time it takes to build a running app.

## Info
* Developer Tools
* WWDC 2018 - Session 408 - iOS, macOS, tvOS, watchOS
* https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/

## Text
 [[ Music ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=8) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=25) [&gt;&gt; Hello, and good morning](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=30) [everybody.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=31) [I'm glad you could all make it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=31) [out this morning.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=32) [My name is David Owens.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=34) [And I'm an engineer on the Xcode](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=35) [team.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=37) [And today, with my colleague](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=37) [Jordan Rose, who's an engineer](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=39) [on the Swift team, we're going](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=41) [to be talking to you about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=42) [building faster in Xcode.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=44) [Now, depending on your projects,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=47) [their configurations, and their](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=48) [complexities, there's going to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=49) [be a different set of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=51) [opportunities that you're going](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=52) [to be able to take to improve,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=53) [or in some cases, significantly](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=55) [improve the way in which your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=57) [builds perform.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=58) [So today, when we talk about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=60) [building faster in Xcode, we're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=62) [going to be looking at it in two](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=64) [different perspectives.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=65) [The first is going to be around](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=67) [increasing your overall build](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=70) [efficiency.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=72) [And the second, it'll be about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=72) [reducing the amount of work that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=75) [you do on your builds, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=76) [especially your incremental](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=78) [builds.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=79) [Now, I'm going to be walking you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=81) [through some of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=82) [project-level items, including](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=83) [how to parallelize your build](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=85) [process.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=86) [How to declare and configure](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=87) [your run script phases.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=89) [And I'll be walking you through](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=91) [some new functionality in Xcode](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=92) [10](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=94) [around measuring your build](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=94) [times.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=98) [Now, Jordan is going to be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=98) [walking us through some of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=99) [source-level improvements that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=100) [we can make to our projects,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=101) [including understanding our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=103) [dependence using Swift.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=104) [Dealing with complex expressions](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=106) [in Swift.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=107) [And how to limit your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=109) [Objective-C to Swift interfaces.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=110) [So let's talk about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=114) [parallelizing your build.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=115) [Now, Xcode configures your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=116) [projects through the use of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=118) [projects through the use of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=118) [targets.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=120) [And targets specify the output](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=121) [or the product that you would](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=124) [like to build.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=124) [Some examples are iOS app,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=126) [framework, and unit tests.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=128) [Now, there's another piece of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=131) [information, that's the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=132) [dependency between these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=133) [targets.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=135) [And Xcode provides us two ways](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=136) [to define our dependencies.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=138) [There's an explicit means, which](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=139) [we do through the target](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=141) [dependencies phase.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=142) [And there's an implicit means,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=144) [which is primarily done through](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=145) [the linked binary with libraries](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=146) [phase.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=148) [And we'll be taking a look at](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=148) [those more in depth in just a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=149) [few moments.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=152) [Now, throughout this section I](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=153) [want to use a sample project to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=154) [ground our discussion.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=155) [And so we're going to take a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=157) [look at a dependency graph for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=158) [that project.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=160) [Now, a dependency graph is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=161) [simply a listing of all of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=163) [targets.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=165) [And this case we're going to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=166) [have five targets that we're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=167) [going to be building.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=168) [And it has that dependency](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=170) [information between those](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=171) [targets.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=172) [And based on these two pieces of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=174) [information Xcode can derive our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=175) [build order.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=178) [Now, let's take a look at what](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=179) [Now, let's take a look at what](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=179) [this looks like on a timeline](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=181) [graph.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=182) [So as we can see, each of these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=183) [targets are building in in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=188) [order, sequentially.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=189) [And they each have to wait until](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=191) [the previous target is done](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=192) [building.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=193) [Now, there's nothing wrong with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=194) [this build timeline, per se.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=196) [But it does represent a waste of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=198) [potential hardware utilization,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=200) [especially if you have a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=202) [multi-core or a mini-core](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=203) [machine like an iMac Pro.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=204) [And what that means to you is a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=206) [waste of time as a developer.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=208) [So instead, we want to move to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=210) [something that looks more like](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=212) [this.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=217) [Now, there's a couple things --](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=217) [or a few things I want to note](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=218) [about this.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=219) [First, the amount of work that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=220) [we actually did in building our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=222) [project, it did not change.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=223) [However, the time to build did](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=226) [decrease.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=228) [And in this case, it actually](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=230) [decreased by a fairly](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=231) [significant margin.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=232) [And we were able to decrease our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=233) [build time by making better](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=236) [utilization of the hardware that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=237) [we have available to us.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=239) [we have available to us.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=239) [So, if parallelization -- or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=242) [parallelization is such a good](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=244) [thing, why don't we just create](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=247) [a build graph that looks like](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=249) [this?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=250) [We just build everything at once](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=250) [up front in our build timeline.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=251) [Well, in the best case, you're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=254) [going to deterministic build](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=256) [errors.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=257) [And this because that dependency](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=259) [information is actually a vital](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=260) [part of your project](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=262) [configuration.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=263) [And when it's set up like this,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=264) [you're trying to build, for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=266) [example, your game target before](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=268) [you've built your dependencies.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=269) [So, this is not a good state to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=271) [be in.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=272) [So, how do we get there?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=274) [How do we get from the long,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=275) [serialized build timeline to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=277) [better parallelized build time?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=279) [Well first, we need to make sure](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=284) [that Xcode is actually set up](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=285) [and configured to allow our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=288) [targets to be built in parallel.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=289) [And we do that through the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=291) [Scheme Editor.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=292) [You can get to the Scheme Editor](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=293) [by opening the Scheme Chooser](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=294) [and selecting Edit Scheme.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=297) [And specifically, you'll need to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=298) [And specifically, you'll need to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=298) [look at the Build Action.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=300) [And in there, the Build Options.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=302) [Now, there are two listed here.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=305) [The first is Parallelize Build.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=307) [And the second is Find Implicit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=308) [Dependencies.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=310) [You'll want to check Parallelize](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=312) [Build.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=313) [This will allow Xcode to use the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=314) [dependency information across](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=316) [your targets so that it can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=317) [attempt to build your targets in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=319) [parallel.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=320) [So let's look at how your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=321) [dependencies are actually](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=324) [configured within Xcode.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=325) [This is done through the Build](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=328) [Phase Editor.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=329) [And you can get to the Build](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=330) [Phase Editor by going to your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=331) [Project Navigator and selecting](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=333) [your project.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=335) [In this case we're looking at](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=336) [the Game Target -- or the Game](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=337) [Project.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=339) [Next, you want to click on Build](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=340) [Phases.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=343) [So, let's take a look at the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=344) [Game Target.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=346) [This is the Build Phase Editor](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=346) [for our Game Target.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=347) [And we're going to look at how](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=348) [its dependencies are configured.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=350) [And I want to call your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=352) [attention first to the Link](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=352) [Binary with Libraries phase.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=355) [Now, this is the phase of your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=357) [build process where you define](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=359) [build process where you define](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=359) [all of the items that you would](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=360) [like to link with your target.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=361) [In this case I have two items.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=364) [I have Physics and Utilities.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=366) [Now, these are targets within](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=368) [our project and our workspace.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=371) [So Xcode can create an implicit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=373) [dependency on those targets.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=374) [If you're using other linking](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=377) [features such as Autolink or the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=379) [other LD Build Flags build](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=382) [setting, those are not going to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=383) [be made available to you here](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=385) [implicitly.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=387) [So you either have to make an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=388) [explicit dependency in this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=389) [build phase, or in the Target](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=390) [Dependencies build phase.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=393) [So you can see here that we have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=395) [another item here called](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=397) [Shaders.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=398) [And Shaders is something that is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=399) [not used at link time, but](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=402) [instead it's used by another](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=403) [build phase within our current](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=405) [target.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=407) [So it's important that we let](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=408) [Xcode know that this is a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=409) [dependency and that we need to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=410) [wait for the Shaders to finish](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=412) [its compilation and build before](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=414) [we can actually build the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=417) [current target we're on.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=417) [Now, this target actually exists](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=419) [Now, this target actually exists](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=419) [in a different project.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=422) [And if you would like to make a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=423) [reference to that project you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=425) [can do so by dragging the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=426) [project as a child of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=428) [current project you're working](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=430) [in.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=431) [So I want to walk through the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=431) [rest of the dependencies of our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=433) [project.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=434) [Our Shaders target has a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=436) [dependency on our Utilities](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=437) [target.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=439) [Our Utilities target has a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=440) [dependency on our Physics](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=442) [target.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=443) [And lastly, our Tests have a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=445) [dependency on our Shaders and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=447) [our Utilities targets.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=450) [So now that we have an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=452) [understanding of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=453) [configuration of our project,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=454) [let's look at the steps that are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=455) [necessary to turn this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=457) [serialized build process into](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=458) [one that we can build more in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=461) [parallel.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=463) [And we're going to start by](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=464) [looking at our test](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=465) [dependencies.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=466) [Now, I've broken down the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=468) [dependencies into three](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=470) [different classes of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=471) [dependencies that I want to talk](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=472) [about.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=473) [This first dependency is the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=474) [dependency that I call the "Do](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=475) [Everything" dependency.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=477) [Right? It should a little bit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=479) [Right? It should a little bit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=479) [clear here that this test is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=480) [testing way too many components.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=482) [It's testing our Game.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=484) [It's testing our Shaders.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=485) [And it's testing our Utilities.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=487) [Now in this case, it'd be better](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=490) [to simply break up our tests so](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=491) [that it's testing each](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=493) [individual component.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=494) [And we're going to see by doing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=495) [this, we're going to introduce](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=497) [our first bit of parallelism](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=498) [into our build process.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=500) [Right? Our test target, which](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=503) [was built in all three can now](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=505) [build just the component that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=506) [it's looking for in the Game](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=507) [tests.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=508) [And then our Shaders tests and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=510) [our Utilities tests can be moved](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=511) [to be built in parallel with our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=513) [other targets.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=514) [And they can be built as soon as](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=516) [their respective components are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=517) [done, Shaders and Utilities.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=518) [Now, the next type of dependency](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=522) [I want to look at is the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=524) [dependency that I call the "Nosy](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=526) [Neighbors."](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=528) [This is the dependency that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=529) [needs to exist.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=531) [It's look at another target.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=533) [But it only needs a little bit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=535) [of that target.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=536) [But instead it's getting](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=537) [everything that's in that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=539) [everything that's in that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=539) [target.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=540) [So if we look at our game, it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=541) [has a dependency on Physics,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=542) [Shaders, and Utilities.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=544) [This is actually okay.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=546) [The suspect one is the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=548) [dependency between our Shaders](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=549) [target and our Utilities target.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=551) [Now, our Shaders target produces](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=553) [a meta library, which is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=555) [essentially just a bundle of GPU](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=556) [code that's going to run on our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=558) [graphics card.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=559) [And our Utilities target just](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=561) [produces a normal frame, which](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=563) [is just CPU code.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=564) [So there's already a little bit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=565) [of a suspect dependency here.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=566) [When we dig into it we see that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=569) [the utilities target actually](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=570) [has a build phase in it that's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=572) [generating some information](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=574) [that's used by both targets.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=576) [Which is totally fine.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=577) [It's just that Shaders doesn't](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=579) [need anything else from the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=580) [Utilities target.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=582) [So it's best to break out that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=583) [into its own target.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=586) [And we're going to see that this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=588) [small incremental change](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=589) [actually has a large and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=590) [significant impact on our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=592) [overall build timeline.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=593) [So the new green box that just](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=596) [moved in is our new code target.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=598) [So we were able to shrink our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=600) [utilities target down because we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=601) [moved that work into Code Gen.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=603) [And since Code Gen has no other](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=606) [dependencies, it can move to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=607) [very front of our build process.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=609) [It can also be built in parallel](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=611) [with our Physics target, which](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=613) [is the red box on the bottom.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=614) [And lastly, because Shaders no](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=617) [longer depends on Utilities, it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=618) [doesn't have to wait for both](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=620) [Utilities and the Physics target](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=621) [to be built.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=624) [And instead it can be built as](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=625) [soon as that Code Gen target is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=626) [done.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=630) [Now, the last dependency I want](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=630) [to talk to you about are the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=631) [ones that I call the "Forgotten](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=633) [Ones."](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=634) [Throughout the evolution or the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=635) [lifecycle of our products and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=637) [our code, we tend to move code](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=640) [around and delete things.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=642) [And we get things like dead](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=644) [code.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=645) [Well, we get the same thing that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=645) [happens with our dependencies.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=647) [Sometimes we simply forget to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=648) [clean them up.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=649) [And so in these cases, it's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=651) [actually safe to just remove](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=652) [that dependency.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=654) [And this last change tightens up](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=656) [or build graph even further by](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=658) [or build graph even further by](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=658) [allowing the Utilities target to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=660) [be built right after the Code](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=663) [Gen target instead of having to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=664) [wait for all of the Physics](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=666) [target to be done.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=667) [Now, previously in Xcode, when](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=671) [you built targets that have a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=673) [dependency on another target,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=675) [you have to wait for the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=676) [dependent target to finish its](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=678) [entire build process.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=679) [Well, we have a new feature in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=681) [Xcode 10 that allows us to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=683) [introduce some parallelism into](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=684) [your build for free.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=687) [And we do this by starting the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=688) [compilation of your target as](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=692) [soon as the build phases that go](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=694) [into its dependencies that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=696) [satisfy our compilation are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=698) [complete.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=700) [So things like linking can now](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=701) [be done in parallel.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=702) [Now, if you have run script](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=705) [phases, this is one of those](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=707) [build phases that your target is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=709) [going to have to wait on to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=710) [finish in order before it can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=713) [start taking advantage of some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=714) [of these new parallelization](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=716) [benefits.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=718) [So let's talk about run script](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=718) [So let's talk about run script](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=718) [phases.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=721) [Run script phases allow you to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=722) [customize your build process to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=724) [meet your needs.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=725) [And so with this flexibility](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=727) [comes some responsibility for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=728) [you as a developer as well.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=730) [And so we want to walk you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=732) [through the configuration](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=733) [process and make sure that you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=734) [have your run script phases set](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=735) [up and configured well so that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=737) [your builds behave.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=738) [Now, this is your Script Phase](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=742) [Editor.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=744) [It can also be found within your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=745) [Build Phase Editor.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=746) [Now I want to call your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=747) [attention to first the script](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=748) [body here.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=751) [You can either put your entire](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=752) [script contents here.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=753) [Or you can do what I've done and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=754) [reference another script that's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=756) [within your project.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=757) [Now, throughout the entirety of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=759) [your run script phase, there are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=760) [a set of build settings that are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=762) [available to you.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=763) [And I'm making use of one of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=764) [those right now, which is the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=765) [source group.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=767) [This gives you a convenient way](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=768) [to not have to provide absolute](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=770) [paths or try to do some relative](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=772) [path hacks to get your stuff to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=774) [work.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=775) [The next section are you input](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=777) [files.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=779) [files.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=779) [Now, these are very important](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=780) [for your run script phase.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=782) [As this is one of the key pieces](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=783) [of information that the Xcode](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=785) [Build System will use to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=787) [determine if your run scripts](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=788) [should actually run or not.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=789) [So this should include any file](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=792) [that your run script phase, the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=793) [script content, is actually](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=796) [going to read or look at during](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=797) [its process.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=798) [Now, some of you may have a lot](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=801) [of inputs into your run script](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=803) [phase.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=805) [And so this task might seem a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=805) [little bit daunting.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=807) [And so new in Xcode 10 we have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=808) [the ability for you -- or we've](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=811) [provided you the ability to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=812) [maintain this list in an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=813) [external file, something we call](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=814) [a File List.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=817) [Now, a file list is a simple](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=819) [text file that has all of its](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=821) [inputs listed on its own line.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=822) [You get access to all of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=826) [same build settings that were](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=827) [available to you throughout the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=828) [context of your run script](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=829) [phase.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=831) [The important thing to note](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=832) [here, though, is that these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=833) [files cannot be modified or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=834) [generated throughout your build](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=836) [process.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=837) [They are read when your build](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=838) [They are read when your build](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=838) [process starts.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=840) [And all that information is used](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=842) [then.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=843) [Next I want to talk to you about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=843) [your output files.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=847) [Your output files are another](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=848) [key piece of information that's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=849) [used throughout your build](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=850) [process.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=851) [And Xcode will use this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=853) [information to determine if your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=854) [run script phase actually needs](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=855) [to run.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=857) [And of course, we have support](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=857) [for output files -- or file](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=860) [lists for your output files as](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=863) [well.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=864) [So I want to recap for you when](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=865) [your run script phase is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=867) [actually run.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=868) [If you have no input files](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=869) [declared, the Xcode build system](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=871) [will need to run to your run](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=874) [script phase on every single](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=875) [build.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=876) [So this is one of key reasons](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=877) [it's important to declare your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=878) [inputs.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=880) [Now if any of your input files](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=882) [change, including the contents](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=883) [of your file lists or any of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=885) [inputs that the file lists point](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=887) [to, Xcode will know that it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=889) [needs to rerun your run script](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=891) [phase for you.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=892) [And finally, if any of your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=893) [output files are missing, the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=896) [Xcode build system will run your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=898) [run script phase to give you the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=899) [run script phase to give you the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=899) [opportunity to generate those](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=901) [missing output files.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=903) [Now also new in Xcode 10, we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=905) [have documentation for the run](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=908) [script phases.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=910) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=912) [So, it goes through more detail](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=917) [of what I just explained and it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=918) [tells you about all of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=919) [additional build settings that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=920) [are made available to you,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=921) [including how you can use those](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=923) [file lists within your own](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=924) [script content.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=926) [Now, when setting up your run](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=928) [script phases and declaring all](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=929) [of these new dependencies, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=930) [including when you modify the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=932) [dependencies in your targets,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=934) [you may run into a dependency](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=935) [cycle.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=937) [And a dependency cycle is simply](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=938) [an interdependency graph](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=940) [somewhere there is a loop that's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=942) [created.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=943) [Well, new in Xcode 10 we have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=944) [better diagnostics to detect](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=946) [these cycles and will give you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=948) [an error, including the ability](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=949) [for you to expand this box to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=951) [get all of the inputs that the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=953) [Xcode build system knows that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=954) [went into creating the cycle.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=956) [So, cycles are bad for a couple](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=958) [So, cycles are bad for a couple](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=958) [of reasons.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=961) [One, they represent a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=962) [configuration issue within your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=964) [project.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=965) [And two, they can be the source](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=967) [of spurious rebuilds within your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=968) [project.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=970) [Or of getting out-of-date](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=971) [information in your build](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=972) [process.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=973) [So we also have updated health](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=975) [topics on dependency cycles,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=977) [including some specific sections](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=980) [that we call out of the most](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=982) [likely dependency cycles that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=986) [you run into, and ways that you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=988) [can fix those.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=989) [So, the last thing I want to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=990) [talk to you about today, is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=994) [measuring your build time.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=995) [We have two new pieces of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=997) [functionality in Xcode 10 for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=999) [this.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1000) [The first is we have introduced](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1002) [in-line task times to give you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1005) [the duration that each of your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1007) [tasks has taken to run.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1008) [Now, I want to point out](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1009) [something about your build logs.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1012) [There's a filter bar across the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1014) [top.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1015) [And specifically, the All the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1017) [Recent filters.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1018) [Recent filters.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1018) [When you have "All" selected,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1022) [it's going to show you all of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1023) [the tasks that went into](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1024) [creating your entire final](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1025) [product outputs.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1027) [Which is usually not what you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1029) [want to look at.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1030) [What you want to look at,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1031) [especially when you're trying to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1032) [diagnose issues in your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1033) [incremental builds, is the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1035) [Recent tab.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1036) [That's going to show you all of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1038) [the build paths that went into](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1040) [the previous build operation.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1042) [Now, another new feature in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1046) [Xcode 10 is a timing summary.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1049) [And you can get to this timing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1051) [summary by going to the Product](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1052) [menu, selecting Perform with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1054) [Action, and Build with Timing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1056) [Summary.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1058) [When you do that, you're going](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1059) [to get a new log section out at](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1060) [the end of your build log.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1062) [And if we focus in, you're going](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1063) [to see that it's going to give](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1067) [you an aggregate timing of all](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1068) [of the tasks that went into your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1070) [last build operation.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1071) [So this is another important](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1073) [reason to look at the Recent](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1074) [filter tab.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1076) [And there's one specifically I](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1077) [And there's one specifically I](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1077) [want to point to, the Phase](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1080) [Script Execution.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1081) [So, you can see in our last](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1083) [build that we just did, we had a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1085) [shell script that ran.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1086) [There was only one of them.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1087) [It says one task.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1088) [And it's taken 5 seconds.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1090) [If you're seeing these on every](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1092) [single one of your incremental](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1094) [builds, this is a good](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1095) [indication that you have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1097) [something misconfigured in your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1098) [run script phase.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1099) [And that's something you might](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1100) [want to address to help decrease](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1101) [your overall build times.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1103) [Now, this build timing summary](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1108) [is also available to you from](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1110) [the Command line by passing in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1112) [the Show Build Timing Summary](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1115) [flag.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1116) [And so now I want to bring up](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1119) [Jordan, who's going to talk to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1120) [you about some of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1122) [source-level improvements that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1122) [you can make to your project.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1124) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1126) [&gt;&gt; Thanks, David.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1132) [All right.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1133) [So we've gone over a bunch of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1134) [ways where you can improve your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1136) [Xcode projects just by doing one](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1137) [small change.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1139) [small change.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1139) [And before we get to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1141) [source-level and file-level](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1142) [topics, I want to talk about one](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1143) [more that's new in Xcode 10.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1145) [And it's a particular workaround](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1147) [that we know that some of you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1150) [have been using on your projects](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1151) [to make them build faster if](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1153) [they have a lot of Swift files.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1154) [You've already heard about this.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1157) [It's the Whole Module setting](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1159) [being used in a debug](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1161) [configuration.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1162) [So, in previous versions of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1163) [Xcode, for some projects,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1165) [turning on the Whole Module](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1167) [Compilation mode, even for debug](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1168) [builds, produced a faster](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1170) [overall build than when used in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1172) [Default Incremental Modes.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1174) [And, this did improve build](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1177) [times because it was able to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1179) [share -- Swift's compiler was](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1180) [able to share work across files](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1182) [in a way that the Incremental](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1184) [Mode was not.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1186) [But it also meant that you were](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1187) [giving up your incremental](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1188) [builds and would rebuild the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1189) [entire target's worth of Swift](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1191) [files every time.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1192) [So in Xcode 10 we've improved](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1195) [the incremental build to have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1197) [some of that same work sharing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1198) [some of that same work sharing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1198) [across files.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1200) [So you should no longer need to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1201) [use Whole Module mode to get](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1202) [good build times.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1204) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1208) [So, if you've done this in your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1211) [project, then you should go back](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1213) [to your Build Settings Editor](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1214) [and select the debug](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1216) [configuration under the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1217) [Compilation Mode build setting](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1218) [and hit Delete.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1220) [That will get it back to Xcode's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1222) [default setting of an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1223) [incremental build.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1224) [I'm not going to talk much more](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1225) [about this because you already](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1227) [heard about it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1229) [We mentioned it in the "What's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1230) [New in Swift" talk on Tuesday.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1231) [And if you do want to know more,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1233) [we'll cover this and other](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1235) [topics about your build in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1236) [greater depth in tomorrow's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1237) [session "Behind the Scenes of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1239) [the Xcode Build Process."](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1240) [So we have a lot of topics that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1242) [we're trying to get through](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1246) [today.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1247) [And David's already covered half](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1247) [of them.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1249) [I'm going to talk about the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1250) [remaining three dealing with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1251) [complex expressions at the top](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1253) [of that list.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1254) [And the reason for this is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1256) [because it's the best one that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1258) [exemplifies a key takeaway for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1259) [exemplifies a key takeaway for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1259) [both of our sections.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1261) [When a build is taking a long](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1263) [time, there's often a key piece](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1265) [of information that you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1267) [provide to Xcode to improve the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1268) [situation.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1271) [And so we're going to look at](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1273) [that first in the context of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1273) [complex Swift expressions.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1276) [So here's an example of some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1278) [code from my latest project.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1281) [And the problem with this struct](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1283) [is that I use it all over the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1286) [place.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1288) [And it's perfectly fine to have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1290) [a struct.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1291) [It's perfectly fine to have a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1292) [struct with a property.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1293) [And it's fine to have a struct](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1294) [with a property with an inferred](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1295) [type.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1297) [But the expression that we're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1298) [inferring that type from here is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1299) [a little bit complicated.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1301) [It's not something simple like](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1303) [-- Oh, I took out a build from](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1305) [my slides.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1307) [So I've given away the answer](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1308) [here.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1310) [If this were something like 0.0,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1310) [then this inference of double](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1313) [here wouldn't really have been](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1315) [necessary.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1316) [But since we've got this big,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1318) [complicated expression involving](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1319) [complicated expression involving](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1319) [reduced and the power function](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1321) [from the system frameworks, you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1323) [might not have even guessed that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1326) ["double" was inferred type of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1328) [this property.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1329) [And so by providing this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1331) [information here, you've saved](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1332) [work that the compiler would](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1334) [have to do in every file that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1335) [uses this struct.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1337) [And you've also saved work that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1339) [your coworkers would have to do](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1341) [to figure out what really is the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1343) [type of that big number](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1345) [property.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1346) [So a lot of times you can get](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1347) [this extra key piece of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1350) [information that will help your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1351) [build times is also an example](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1352) [of a good software engineering](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1354) [practice.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1356) [Let's take a look at another](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1357) [example involving closures.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1358) [This time I'm trying to define a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1361) [function that will return the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1363) [sum of the non-optional values](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1364) [of its arguments.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1367) [And if all three arguments are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1368) [nil, it will return nil.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1370) [And I'm trying to use one of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1373) [Swift's cool features where if](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1374) [you have a closure with a single](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1376) [expression in its body, then the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1378) [expression in its body, then the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1378) [compiler will use that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1380) [expression to help determine the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1382) [type of the closure.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1383) [Sometimes this is really](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1385) [convenient.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1386) [Other times it can lead to code](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1388) [like this.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1390) [That's pretty ugly.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1392) [I don't think I'm going to get](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1393) [past code review with that one.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1394) [We've got some nested turnery](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1397) [operators and some explicit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1398) [comparisons against nil.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1400) [And then a force and wrap to go](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1402) [with it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1403) [I don't really think this is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1404) [going to fly.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1406) [And it's got another problem,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1407) [too.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1408) [Because this expression is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1409) [getting so large, with so many](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1411) [independent pieces, the Swift](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1412) [compiler will report that it's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1415) [not able to compile this in a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1416) [reasonable amount of time.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1418) [Now, this is the ultimate in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1420) [slow builds when even the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1422) [compiler gives up.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1423) [And really, it's telling me](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1425) [something about this code.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1426) [So, my first option here would](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1428) [be to do the same thing as the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1430) [previous example and provide](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1432) [additional types.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1433) [With a closure, you can do that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1435) [just before the In Key word.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1436) [But, this may not be the best](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1439) [But, this may not be the best](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1439) [solution for this particular](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1441) [problem.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1442) [So let's go back to what we had](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1443) [before.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1444) [Recall that I said that I'm](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1446) [trying to write a single](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1448) [expression here so that it can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1449) [be used to help determine the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1451) [type of the closure.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1453) [But in this case, that's not](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1455) [really necessary.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1456) [We already know from the call to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1458) [Reduce what this closure has to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1460) [be.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1462) [Reduce is being called on an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1463) [array of optional integers.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1464) [And the result type has to match](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1466) [the return type of the function.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1468) [So we already know that this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1471) [callback for Reduce is going to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1473) [be operating just on optional](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1475) [integers.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1477) [That means there's no need to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1478) [put a single expression in that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1480) [closure.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1481) [And it's perfectly okay to break](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1482) [it up into separate, more](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1484) [readable statements.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1486) [So here's a direct translation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1488) [of the code that I had before.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1489) [But I also have the freedom now](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1492) [to make it something more](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1494) [Swifty.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1495) [This is a lot more readable.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1496) [A lot more maintainable.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1498) [And it compiles in a quick,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1499) [And it compiles in a quick,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1499) [reasonable amount of time.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1501) [Now, the last example I'm going](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1503) [to show in this section is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1506) [something that won't apply quite](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1507) [as broadly as the previous two.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1509) [It's about this type Any Object.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1511) [Now, Any Object is a convenient](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1514) [type that describes any class](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1517) [instance.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1520) [So not a struct or an enum.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1520) [Definitely a class.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1522) [But we don't know which one.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1523) [But it also has an additional](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1525) [feature carried over from](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1527) [Objective-C's ID type.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1528) [And that's this method call](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1531) [syntax.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1533) [If you try to call a method or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1534) [access a property on a value of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1536) [type Any Object, Swift will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1538) [allow you to do so, as long as](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1540) [that method is visible somewhere](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1542) [in your project and exposed to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1545) [the Objective-C runtime.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1547) [However, this does come at a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1549) [cost.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1550) [Because the compiler doesn't](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1552) [know which method you're going](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1553) [to call, it has to go search out](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1555) [any possible implementations](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1557) [throughout your project and the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1559) [throughout your project and the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1559) [frameworks you import and assume](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1560) [that they might be the one](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1563) [that's going to be used.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1564) [It has to do this because if](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1566) [none of them match, it needs to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1568) [present you with an error.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1569) [So instead, we can do something](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1572) [much better and much more,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1574) [again, declarative of our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1576) [intent.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1578) [We can define a protocol.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1579) [Now, this can be done in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1581) [same file, or a different file,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1582) [but the important part is that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1585) [once we change this delegate](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1587) [property to use our protocol](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1588) [instead of Any Object, the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1590) [compiler knows exactly which](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1592) [method it's calling.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1594) [And now you also have the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1597) [opportunity for all of your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1598) [implementing types to be checked](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1599) [that they implement the method](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1602) [correctly.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1603) [So, we've talked about several](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1606) [techniques here for decreasing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1608) [the amount of work the compiler](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1610) [does once it's already decided](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1611) [to recompile a file.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1613) [But what about not recompiling](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1616) [the file at all?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1618) [What makes the compiler choose](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1619) [What makes the compiler choose](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1619) [whether a file needs to be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1621) [recompiled?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1623) [For that, we need to understand](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1624) [Swift's dependency model.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1626) [Now, Swift's dependency model is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1629) [based around files.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1632) [And it's a little bit tricky](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1634) [because in Swift there are no](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1635) [header files.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1637) [We just see everything that's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1638) [defined somewhere in our target](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1640) [by default.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1642) [In this case, I'm declaring a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1644) [struct point in the file on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1645) [left.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1646) [And if I bring in a file on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1647) [right, the compiler knows that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1649) [I'm referring to that first](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1651) [declaration.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1652) [The same is true for the use of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1654) [the X and Y properties in that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1655) [file on the right.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1657) [Now, this file-based dependency](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1661) [means that if I change the file](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1663) [on the left, both files will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1664) [need to be recompiled.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1667) [And that's important because](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1670) [we're actually trying to call](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1671) [this initializer.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1672) [And we want to make sure that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1674) [we're calling it correctly.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1675) [The compiler is smart enough to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1677) [The compiler is smart enough to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1677) [know that when you make change](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1680) [within a function body, in this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1681) [case making the assertion more](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1684) [appropriate, that only that file](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1685) [will need to be recompiled.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1689) [Other files won't have to change](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1691) [how they use the API's from the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1693) [first file.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1695) [However, it does need to be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1696) [conservative.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1700) [And so if I add a separate type](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1701) [to this file, a human can tell](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1702) [that this path segment struct](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1705) [won't affect the file on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1706) [right.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1708) [But the compiler will still be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1709) [conservative and rebuild them](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1710) [both.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1711) [Let's see how this applies to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1712) [the game example that David was](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1716) [using earlier.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1717) [So here we have the app target](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1719) [and the Utilities framework.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1720) [And I'm showing some of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1721) [Swift files that are in each](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1722) [target.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1724) [So if I change a file in the App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1725) [target, well, we know already](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1727) [that that file needs to be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1730) [recompiled.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1731) [And of course, anything that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1732) [depends on that file will also](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1733) [need to be recompiled.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1735) [But there's no chance that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1737) [anything within the utilities](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1738) [target will be recompiled.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1739) [target will be recompiled.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1739) [It's in a separate target.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1742) [It has an explicit dependency.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1743) [And it doesn't have implicit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1745) [visibility between those two](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1747) [sets of files.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1749) [Now, similarly, if I change](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1752) [something in the framework](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1755) [target, then I would need to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1756) [recompile that file and anything](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1757) [else in the utilities framework](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1760) [that depends on it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1761) [However, these dependencies are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1763) [more coarse-grained.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1764) [And so Xcode will also recompile](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1766) [everything that's in the Game](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1768) [target as well, unless the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1769) [changes are entirely confined to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1772) [function bodies.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1774) [So to recap those rules, the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1775) [compiler needs to be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1778) [conservative.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1779) [Even if a human can tell that a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1781) [change doesn't affect other](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1782) [files, that doesn't necessarily](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1783) [mean that the compiler can.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1785) [However, one change that the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1787) [compiler does know how to handle](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1789) [is function bodies.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1791) [It knows that this doesn't](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1792) [affect the file's interface.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1794) [And therefore, will not require](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1795) [other files to be recompiled.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1797) [This per-file dependency basis](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1802) [happens within a module, which](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1804) [is where Swift declarations are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1806) [implicitly visible to one](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1808) [another.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1809) [When you're dealing with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1810) [cross-module dependencies via](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1811) [your imports or your bridging](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1813) [header, these are dependencies](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1815) [on the entire target.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1816) [So this is all good information](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1818) [about Swift dependencies, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1821) [Swift targets.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1824) [But I know a lot of you out here](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1825) [have mixed Objective-C and Swift](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1827) [targets.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1829) [And so the last section is going](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1829) [to be focused on that, on how to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1831) [reduce the interface between the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1833) [Swift and the Objective-C code](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1834) [in a mixed-source app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1836) [And to do this, we're going to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1838) [have to talk about the parts of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1840) [a mixed-source app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1842) [And this diagram's going to get](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1844) [a little complicated, so bear](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1844) [with me.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1846) [And if you're watching on video,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1846) [you may need to pause and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1848) [restart.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1849) [Feel free.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1850) [We start off with the headers](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1852) [that describe your Objective-C](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1854) [interface.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1856) [This is the parts of your app](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1857) [that are written in Objective-C](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1858) [that are written in Objective-C](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1858) [that you may want to expose to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1860) [Swift.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1861) [Or perhaps you're just declaring](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1862) [headers for other Objective-C](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1863) [parts of your app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1865) [Then we have the bridging](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1868) [header.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1869) [This is the header that collects](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1870) [all of the information that you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1871) [want to expose to the Swift part](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1873) [of your app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1875) [This is a build setting in Xcode](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1877) [that controls which header is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1879) [used.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1881) [And once it's set, the Swift](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1881) [compiler will know to expose](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1883) [those Objective-C interfaces to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1885) [your Swift code.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1887) [The Swift compiler will then](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1890) [produce a generated header,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1892) [which does the same thing in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1895) [reverse.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1896) [It describes which parts of your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1897) [Swift code will be exposed to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1899) [Objective-C.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1901) [That can then be used in your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1903) [Objective-C implementation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1905) [files, which probably also use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1907) [some of those headers from the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1909) [first step.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1910) [And then of course, you might](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1911) [have Objective-C code that is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1913) [not dependent on any of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1915) [Swift code.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1917) [But that's less interesting for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1918) [But that's less interesting for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1918) [this part of the talk.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1920) [So, I'll step through that from](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1922) [left to right again.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1923) [We have the Objective-C headers.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1925) [The bridging header for getting](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1928) [some of that information into](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1930) [Swift.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1931) [Your Swift implementation files.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1933) [A generated header for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1935) [presenting that information back](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1937) [to Objective-C.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1939) [And then finally, your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1940) [Objective-C implementation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1941) [files.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1943) [And in a diagram like this, all](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1944) [of these arrows represent](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1948) [dependencies.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1950) [Not dependencies on a target](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1951) [level, but within on a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1952) [file-by-file level within a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1955) [target.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1956) [And so, what we want to do is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1958) [focus on the generated header](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1960) [and the bridging header, because](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1961) [if we can shrink the content in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1963) [these headers, then we know that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1964) [there's fewer chances for things](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1966) [to change.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1968) [And therefore, less need to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1969) [rebuild.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1971) [So let's take a look.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1972) [For the generated header, your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1974) [strongest tool is going to be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1976) [the private key word.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1977) [So in this example, I have a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1979) [So in this example, I have a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1979) [view controller that I'm](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1981) [defining in Swift.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1982) [And it has an it an IBOutlet](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1983) [property and an IBAction method.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1984) [By default, these will be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1987) [exposed in your generated header](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1989) [because they're methods and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1992) [properties exposed to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1994) [Objective-C.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1995) [And they're not declared as](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1997) [private.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=1998) [But most of the time you don't](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2000) [need to expose these to any](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2002) [other files in your project.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2003) [They're just for interacting](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2005) [with Interface Builder.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2006) [And so, in this case, I can mark](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2008) [these private and watch as the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2010) [property and method vanish from](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2012) [the generated header.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2014) [Another example of this is when](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2017) [dealing with methods exposed to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2019) [Objective-C for use with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2021) [Objective-C runtime features](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2023) [like #selector.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2025) [In this case, I'm using](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2026) [foundations Notification Center](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2027) [API, which takes a selector to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2029) [use as a callback when the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2031) [notification is sent.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2033) [Once again, the only requirement](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2035) [here is that the method is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2038) [exposed to Objective-C.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2039) [exposed to Objective-C.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2039) [It doesn't actually need to be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2040) [used from any other files in my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2042) [project, Swift or Objective-C.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2043) [So I can mark it private.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2046) [And once again have that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2050) [reduction in the shape of my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2051) [generated header.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2053) [In cases like this, there's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2054) [often another option as well.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2057) [And that's to switch to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2059) [block-based API's.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2060) [In many cases, this can even](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2062) [clear up your code because you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2064) [can implicitly capture state](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2065) [from the function that's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2067) [registering for the notification](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2068) [rather than having to carry it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2070) [along as some kind of context](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2071) [object.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2073) [Now, the last tip for reducing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2074) [the contents of your generated](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2077) [header is actually a very old](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2078) [one.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2081) [You can migrate to Swift 4.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2081) [And you've already heard that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2084) [you're going to have to do that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2085) [this year.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2086) [That Xcode 10 will be the last](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2087) [set of releases where Swift 3](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2089) [mode is supported.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2091) [And so, this is something you'll](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2093) [be doing anyway.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2096) [Edit. Convert.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2097) [To Current Swift Syntax.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2099) [To Current Swift Syntax.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2099) [However, when you do this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2102) [migration, you may have actually](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2104) [selected to keep the Swift 3](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2106) [compatibility mode for a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2109) [particular build setting.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2111) [And that's the Swift 3 @objc](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2112) [imprints.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2114) [This is an option when you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2116) [migrate to Swift 4 to keep on a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2117) [rule from Swift 3 which exposes](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2119) [internal methods and properties](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2122) [to Objective-C automatically on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2123) [any subclass of NS Object.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2126) [Now, if you are writing in Swift](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2130) [3, you may be relying on this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2131) [feature.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2133) [But there's a lot of cases where](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2134) [you were not actually depending](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2136) [on this in any way.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2137) [Not in the runtime sense.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2139) [And definitely not at compile](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2140) [time.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2142) [So, once you get to the point](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2143) [where you've explicitly marked](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2145) [all of your Objective-C](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2147) [dependencies as either @objc or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2148) [IBOutlet, IBAction, whatever, as](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2152) [appropriate, then you can also](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2154) [select this build setting and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2156) [hit Delete to get it back to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2157) [default mode where the OB-C](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2159) [default mode where the OB-C](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2159) [attribute will only be inferred](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2161) [for methods and properties that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2163) [satisfy protocol requirements or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2165) [those that override methods that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2168) [come from Objective-C.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2169) [So we've talked a lot about the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2171) [generated header and what you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2174) [can do to your Swift code.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2175) [But you have Objective-C code as](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2177) [well.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2179) [And the Objective-C code,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2180) [likewise, causes rebuilds.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2181) [And so a bridging header looks](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2184) [something like this, usually.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2185) [It's got a bunch of other](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2187) [headers in the project that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2188) [you're trying to expose to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2189) [Swift.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2190) [And we can zoom in on one of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2192) [these headers here, the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2194) [MyViewController header and see](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2194) [that it's a perfectly normal](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2197) [declaration of a view](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2198) [controller.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2199) [But also that it itself includes](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2200) [another header.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2202) [What that means is that if any](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2204) [of these headers change, the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2206) [Swift code in your target has to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2208) [be recompiled because it might](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2209) [depend on something that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2211) [changed.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2212) [This is suboptimal.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2214) [And now we can notice that in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2216) [this example, the only reason](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2219) [this example, the only reason](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2219) [we're importing the MyNetwork](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2221) [Manager header is to declare](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2223) [this property, this network](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2224) [manager property on the view](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2226) [controller.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2227) [And it's possible that that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2229) [property is never actually used](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2231) [from Swift.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2234) [In which case, it's unnecessary](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2235) [for us to be declaring it here.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2237) [So what you can do is use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2240) [categories, Objective-C's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2241) [equivalent of extensions, to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2243) [break up this interface.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2245) [So I'm going to define a new](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2247) [file here, MyViewController](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2248) [Internal, and use the special](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2250) [nameless category syntax that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2252) [allows me to declare additional](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2254) [properties while still taking](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2256) [advantage of the property](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2257) [synthesis feature in my main Add](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2259) [Implementation block.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2261) [Now I can just move the import](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2262) [and the property down to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2267) [category.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2268) [And voila!](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2269) [The headers that are being](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2270) [imported into Swift have gotten](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2272) [much smaller and are much less](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2274) [likely to change now and cause](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2276) [an unnecessary rebuild.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2278) [And there's one more note.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2280) [This file here that I defined,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2282) [well, it's possible that nothing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2284) [else in my Objective-C code](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2286) [needs to access this property,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2288) [either.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2289) [In which case, there's no need](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2291) [for a separate file.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2292) [I can put this category directly](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2294) [into my .m.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2296) [There's nothing wrong with doing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2298) [this.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2299) [Everything will work fine.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2300) [And as I said before, property](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2301) [synthesis will still work for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2303) [the network manager property.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2304) [So what have we seen?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2306) [We used private and block-based](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2309) [API's, and turning off that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2312) [Build setting to shrink the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2314) [contents of the generated](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2315) [header.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2317) [And, we've broken out separate](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2318) [contents from the Objective-C](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2320) [headers that we declared, which](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2322) [shrink the contents of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2324) [bridging header.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2325) [Less content means less work](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2327) [done on each build.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2329) [And it also means fewer](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2330) [opportunities for changes, which](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2331) [means fewer chances for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2333) [rebuilds.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2335) [We win on both counts.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2336) [So let's wrap things up.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2339) [So let's wrap things up.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2339) [David and I talked a lot about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2342) [quite a few different topics, of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2344) [ways that you can get more](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2346) [information from Xcode and that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2347) [you can provide more information](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2349) [to Xcode in ways that can speed](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2351) [up your builds.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2353) [And this covers both increasing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2354) [the build efficiency when you're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2356) [doing a build and reducing the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2357) [work that you have to do at all](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2359) [in a rebuild.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2361) [So, we went through this kind of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2363) [fast.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2365) [So if you want to see it again,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2365) [check out the video page.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2366) [And you can also come find us in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2367) [the labs at noon today and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2369) [tomorrow in the afternoon.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2371) [Thank you very much.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2373) [Enjoy the rest of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2374) [conference.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2375) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/408/?time=2377)