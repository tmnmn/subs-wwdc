WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:39:59.226 --> 00:40:00.796 A:middle
network so we can pace things

00:40:00.796 --> 00:40:01.406 A:middle
out very well.

00:40:02.676 --> 00:40:04.536 A:middle
The great thing is that ECN is

00:40:04.536 --> 00:40:06.076 A:middle
enabled by default on all of

00:40:06.076 --> 00:40:07.106 A:middle
your TCP connections.

00:40:07.516 --> 00:40:08.396 A:middle
You don't have to do anything.

00:40:09.446 --> 00:40:10.976 A:middle
But it's been very difficult in

00:40:10.976 --> 00:40:13.706 A:middle
the past to use ECN with

00:40:13.706 --> 00:40:14.946 A:middle
UDP-based protocols.

00:40:15.956 --> 00:40:16.946 A:middle
And so I'd like to show you how

00:40:16.946 --> 00:40:19.586 A:middle
you can do that here.

00:40:19.796 --> 00:40:20.816 A:middle
The first thing you do is that

00:40:20.816 --> 00:40:23.466 A:middle
you create an ipMetadata object.

00:40:23.746 --> 00:40:26.196 A:middle
ECN is controlled by flags that

00:40:26.196 --> 00:40:28.426 A:middle
go in an IP packet, and so you

00:40:28.426 --> 00:40:29.906 A:middle
have this ipMmetadata object

00:40:29.906 --> 00:40:31.396 A:middle
that allows you to set various

00:40:31.396 --> 00:40:34.456 A:middle
flags on a per-packet basis, and

00:40:34.456 --> 00:40:35.856 A:middle
you can wrap this up into a

00:40:35.856 --> 00:40:38.116 A:middle
context object, which describes

00:40:38.116 --> 00:40:39.236 A:middle
all of the options for the

00:40:39.236 --> 00:40:40.976 A:middle
various protocols that you want

00:40:40.976 --> 00:40:42.396 A:middle
to associate with a single send

00:40:43.066 --> 00:40:44.996 A:middle
as well as the relative priority

00:40:45.406 --> 00:40:46.856 A:middle
of that particular message.

00:40:48.196 --> 00:40:50.236 A:middle
And then you use this context as

00:40:50.236 --> 00:40:52.266 A:middle
an extra parameter into the send

00:40:52.266 --> 00:40:55.146 A:middle
call besides just your content.

00:40:55.996 --> 00:40:57.806 A:middle
So now when you send this, any

00:40:57.806 --> 00:40:58.636 A:middle
packet that's going to be

00:40:58.636 --> 00:41:00.656 A:middle
generated by this content will

