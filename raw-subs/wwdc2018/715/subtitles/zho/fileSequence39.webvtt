WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:38:58.038 --> 00:39:00.674 align:middle line:-1
头部中你需要的内容 比如长度

00:39:01.241 --> 00:39:02.876 align:middle line:-1
然后假设你想继续读取

00:39:03.377 --> 00:39:04.545 align:middle line:-1
几兆字节

00:39:04.611 --> 00:39:07.247 align:middle line:-2
你基本上只需做同样的事情
来读取你的主体

00:39:07.814 --> 00:39:08.916 align:middle line:-1
你只需传入

00:39:08.982 --> 00:39:11.885 align:middle line:-1
你想要从连接中读取的数量

00:39:11.952 --> 00:39:13.587 align:middle line:-1
这可以让你不必

00:39:13.654 --> 00:39:15.088 align:middle line:-1
在堆和app之间来回切换

00:39:15.222 --> 00:39:18.325 align:middle line:-2
这是通过在所有数据准备好时
只进行一次回调来做到的

00:39:19.626 --> 00:39:22.963 align:middle line:-1
所以这是一种优化交互的好方法

00:39:24.598 --> 00:39:25.899 align:middle line:-1
除了发送和接收

00:39:26.300 --> 00:39:28.168 align:middle line:-1
我还想强调一下

00:39:28.235 --> 00:39:29.369 align:middle line:-1
你的网络参数中的

00:39:30.070 --> 00:39:31.271 align:middle line:-1
几个高级选项

00:39:31.338 --> 00:39:33.507 align:middle line:-1
它们允许你配置连接

00:39:33.740 --> 00:39:36.176 align:middle line:-1
从而当你实际发送和接收数据时

00:39:36.443 --> 00:39:38.579 align:middle line:-1
具有合适的启动时间

00:39:38.645 --> 00:39:40.147 align:middle line:-1
以及网络上的行为

00:39:41.114 --> 00:39:42.115 align:middle line:-1
第一个

00:39:42.316 --> 00:39:45.319 align:middle line:-1
是我们在WWDC中多次讨论的内容

00:39:45.652 --> 00:39:46.753 align:middle line:-1
它是ECN

00:39:46.820 --> 00:39:48.822 align:middle line:0
即显式拥塞通知

00:39:49.990 --> 00:39:53.827 align:middle line:0
它为你提供了一种平滑连接的方法

00:39:54.161 --> 00:39:57.965 align:middle line:0
即让终端主机知道

00:39:58.165 --> 00:39:59.733 align:middle line:0
何时发生了网络拥塞

00:39:59.967 --> 00:40:01.635 align:middle line:0
从而使我们可以很好地调整速度

