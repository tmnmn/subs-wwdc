WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:14:59.056 --> 00:15:00.306 A:middle
但是库中不会存在

00:15:00.306 --> 00:15:01.736 A:middle
任何凭证身份

00:15:01.736 --> 00:15:02.596 A:middle
因为它没有被包含在备份中

00:15:02.596 --> 00:15:04.546 A:middle
你的 App 要能够

00:15:04.546 --> 00:15:06.516 A:middle
处理这些情况

00:15:06.596 --> 00:15:08.316 A:middle
ASCredentialIdentityStore

00:15:08.316 --> 00:15:09.576 A:middle
能够帮助你检测这些情况

00:15:09.706 --> 00:15:10.726 A:middle
你就能够采取合适的操作

00:15:10.726 --> 00:15:12.376 A:middle
当你需要更新库的时候

00:15:15.776 --> 00:15:17.336 A:middle
你可以使用状态获取模式

00:15:17.446 --> 00:15:18.666 A:middle
来询问系统

00:15:18.666 --> 00:15:20.006 A:middle
关于你的 App 的

00:15:20.006 --> 00:15:21.846 A:middle
凭证身份库的情况

00:15:21.846 --> 00:15:23.356 A:middle
将其返回为一个

00:15:23.356 --> 00:15:24.176 A:middle
ASCredentialIdentityStoreState 项目

00:15:25.876 --> 00:15:27.566 A:middle
它会告知你的第一件事

00:15:27.566 --> 00:15:28.926 A:middle
是用户是否

00:15:28.926 --> 00:15:30.016 A:middle
启用了你的扩展

00:15:30.726 --> 00:15:31.816 A:middle
你应该在试图更新

00:15:31.816 --> 00:15:32.686 A:middle
凭证身份库之前

00:15:32.686 --> 00:15:33.746 A:middle
检查这一点

00:15:34.256 --> 00:15:35.606 A:middle
如果你的扩展被禁用了

00:15:35.736 --> 00:15:36.816 A:middle
那么保存或移除

00:15:36.816 --> 00:15:38.716 A:middle
凭证身份是没有意义的

00:15:42.116 --> 00:15:44.306 A:middle
它同样支持

00:15:44.306 --> 00:15:45.606 A:middle
增量更新属性

00:15:46.026 --> 00:15:47.136 A:middle
你可以用它来判断

00:15:47.136 --> 00:15:48.626 A:middle
你的身份库是否有改动

00:15:48.626 --> 00:15:49.576 A:middle
自从上一次

00:15:49.576 --> 00:15:51.636 A:middle
更新之后

00:15:51.636 --> 00:15:52.746 A:middle
如果你之前保存了

00:15:52.746 --> 00:15:53.756 A:middle
凭证身份到库中

00:15:53.756 --> 00:15:55.826 A:middle
就会返回 true 值

00:15:56.436 --> 00:15:57.646 A:middle
提示你应该使用

00:15:57.646 --> 00:15:59.146 A:middle
增量保存凭证身份

00:15:59.146 --> 00:16:03.386 A:middle
并移除凭证身份模式

