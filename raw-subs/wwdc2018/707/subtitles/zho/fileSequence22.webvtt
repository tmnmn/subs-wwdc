WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:21:59.336 --> 00:22:00.026 A:middle
咱们来做这些

00:22:01.436 --> 00:22:03.136 A:middle
当然 我们需要确保

00:22:03.136 --> 00:22:04.806 A:middle
当我们真正需要授权的时候

00:22:04.806 --> 00:22:06.476 A:middle
才发起请求

00:22:07.216 --> 00:22:09.516 A:middle
在我的例子中

00:22:09.516 --> 00:22:11.586 A:middle
我需要在每次用户看到这个 UI 时

00:22:11.586 --> 00:22:14.196 A:middle
来请求 这样我可以

00:22:14.196 --> 00:22:15.416 A:middle
确保我获得了

00:22:15.416 --> 00:22:17.346 A:middle
我获得了相关的授权 在开始

00:22:17.346 --> 00:22:17.736 A:middle
体能训练前

00:22:19.076 --> 00:22:20.896 A:middle
所以这里的这个视图

00:22:20.896 --> 00:22:24.006 A:middle
由 WorkoutStartView 的

00:22:24.006 --> 00:22:25.746 A:middle
WKInterFaceController 控制

00:22:25.746 --> 00:22:27.506 A:middle
那我准备在 didAppear 方法中

00:22:28.046 --> 00:22:31.506 A:middle
来执行授权

00:22:33.636 --> 00:22:36.156 A:middle
所以首先 我这里的 typesToShare

00:22:36.156 --> 00:22:37.746 A:middle
应该是 workout 因为我希望

00:22:37.746 --> 00:22:39.616 A:middle
在最后可以保存一个

00:22:39.616 --> 00:22:39.846 A:middle
体能训练

00:22:42.376 --> 00:22:44.296 A:middle
接下来 我希望读取

00:22:44.486 --> 00:22:47.206 A:middle
心率 动态卡路里

00:22:47.846 --> 00:22:50.106 A:middle
同时还有步行 + 跑步距离

00:22:50.626 --> 00:22:53.256 A:middle
一旦设置好了 typesToShare

00:22:53.256 --> 00:22:55.836 A:middle
和 typesToRead 我只需在

00:22:56.216 --> 00:22:57.966 A:middle
healthStore 上调用 requestAuthorization

00:22:57.966 --> 00:23:01.796 A:middle
并且传入这两个类型

