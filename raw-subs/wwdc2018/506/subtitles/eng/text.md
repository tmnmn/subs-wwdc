# MusicKit on the Web

## Summary
MusicKit has enabled the creation of new, compelling, and engaging Apple Music powered app experiences. With the introduction of MusicKit on the web, as a developer, you can now bring Apple Music powered experiences to the web. Learn how to use declarative markup or javascript to enable Apple Music on your website.

## Info
* Media
* WWDC 2018 - Session 506 - iOS, macOS
* https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/

## Text
 [[ Music ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=7) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=17) [&gt;&gt; Hello, everyone, and welcome.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=21) [My name is Betim Deva, and I'm](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=25) [an engineer on the Apple Music](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=26) [team, and I'm excited to share](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=28) [with you some updates that we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=30) [have made to MusicKit.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=32) [MusicKit was announced last](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=35) [year, and it enabled developers](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=36) [like yourselves bring customized](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=38) [music experiences within their](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=41) [apps.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=43) [This year, we are announcing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=44) [Apple Music on the web, which](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=46) [will allow you to bring the same](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=48) [kind of music experiences for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=50) [your websites.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=52) [We have a great web player ready](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=54) [for you to embed, and we are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=56) [introducing MusicKit for the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=58) [introducing MusicKit for the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=58) [web, which will allow you to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=60) [integrate Apple Music into your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=63) [websites.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=65) [We will talk more about Apple](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=67) [Music on the web in a little](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=69) [bit, but first, let's take a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=70) [look at some exciting updates on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=72) [MusicKit.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=74) [It's been great to see how app](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=75) [developers have incorporated](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=78) [Apple Music into their apps.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=81) [For instance, we all know and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=84) [love making music videos with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=87) [musical.ly.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=88) [When you find new music in this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=90) [app, you can easily add it to a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=92) [playlist.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=94) [Houdini makes joining Apple](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=96) [Music simple.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=98) [It allows you to transfer your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=100) [playlists to Apple Music.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=102) [And Stationhead turns your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=105) [playlists to radio stations.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=108) [It allows you to broadcast your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=110) [music and your voice to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=113) [world.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=115) [And lastly, Ola is the biggest](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=117) [And lastly, Ola is the biggest](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=117) [ride-hailing service in India.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=120) [We have been partnering with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=123) [them to bring the Apple Music](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=124) [experience within their fleet of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=126) [cars.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=128) [Since MusicKit was announced](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=130) [last year, we got a lot of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=133) [feedback for providing a way to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=135) [look up content using the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=138) [International Standard Recording](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=140) [Code known as ISRC.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=142) [I am happy to report that this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=144) [has been added, and it will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=148) [enable you to precisely match](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=150) [songs and music videos in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=152) [Apple Music catalog from](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=155) [virtually any other source.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=157) [Another enhancement to MusicKit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=160) [is the addition of iCloud Music](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=163) [Library APIs.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=165) [Once the user has given](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=168) [authorization to your app, you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=170) [can now provide them with ways](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=172) [to interact with their music](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=174) [library from within your app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=176) [These APIs enable your users to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=180) [browse, search, and add content](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=183) [to their music library.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=188) [You can also provide a way for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=190) [your user to create playlists](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=192) [and add songs to an existing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=194) [playlist, all from within your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=196) [app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=199) [Last year, we gave you Apple](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=204) [Music APIs for our catalog.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=206) [This year, we added the iCloud](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=209) [Music Library APIs.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=212) [We think this is a great set of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=214) [music APIs.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=215) [If you have been using our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=218) [existing iTunes Search API, we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=220) [encourage you to migrate over to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=222) [Apple Music APIs now.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=224) [Now, I would like to invite my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=228) [colleague DJ to the stage to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=230) [talk about Apple Music on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=232) [web.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=233) [Thank you.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=234) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=236) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=236) [&gt;&gt; Thank you, Betim.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=241) [This year, we're excited to be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=243) [announcing MusicKit on the web.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=244) [Last year, we talked all about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=246) [the great ways for you to add](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=248) [Apple Music to your iOS apps.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=249) [This year, we're bringing all of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=252) [that same great functionality to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=253) [the web.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=254) [So let's talk about the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=256) [components that make up MusicKit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=257) [on the web.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=258) [Last year, we added access to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=262) [the entire Apple Music catalog](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=263) [with a REST API.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=264) [This year, as Betim mentioned,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=267) [we're launching new additions to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=269) [that REST API that'll let you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=270) [access the iCloud Music Library](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=272) [for the logged-in user.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=273) [We're also launching the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=276) [MusicKit JS library.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=277) [Makes it really easy to use both](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=279) [of those REST APIs in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=281) [browser, and it gives your users](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=282) [the ability to play back full](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=286) [songs from the Apple Music](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=287) [catalog and from the iCloud](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=289) [Music Library right in their](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=291) [browser.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=292) [Before we dig into MusicKit JS,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=296) [I want to show you the Apple](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=298) [Music web player.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=299) [Music web player.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=299) [A few weeks ago, we launched a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=302) [new embeddable player.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=304) [It works great both on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=306) [desktop and on mobile browsers.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=308) [These embeddable players are a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=311) [simple way for you to add full](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=313) [song playback from the Apple](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=315) [Music catalog right to your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=316) [website.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=317) [We have players for a single](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=318) [song, an album, or a whole](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=320) [playlist.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=322) [You can find the embed code on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=324) [the Apple Music preview pages or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=326) [right within the embeddable](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=328) [player itself.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=329) [All you have to do is copy and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=331) [paste into your own website.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=332) [These embeddable players are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=334) [great for full song playback on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=336) [third-party websites, and we've](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=338) [also enabled that functionality](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=340) [on the Apple Music preview](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=341) [pages.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=342) [So the embeds are powered by](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=343) [MusicKit JS, which we're also](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=347) [releasing so you can build your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=349) [own great music experiences.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=350) [So let's talk about the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=353) [functionality.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=354) [First and most importantly,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=358) [you'll be able to play back full](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=359) [you'll be able to play back full](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=359) [songs from Apple Music in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=361) [browser.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=362) [It works on all modern browsers](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=364) [without the need for any plug](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=365) [ins or external dependencies.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=366) [You can use it on its own or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=369) [with any JavaScript framework of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=371) [your choice.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=372) [So for playback, we need to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=374) [authorize the user.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=375) [We'll handle that for you to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=378) [ensure that the user is an Apple](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=379) [Music subscriber.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=380) [The JavaScript library is going](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=381) [to keep a queue of songs so you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=384) [can play back a full album or a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=385) [whole playlist.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=386) [Once you have that queue of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=387) [songs, you'll be able to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=391) [control.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=392) [You'll be able to play, pause,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=393) [and skip to the previous or skip](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=394) [to the next track.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=396) [And we're also going to keep](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=398) [track of the Now Playing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=399) [metadata for the song that's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=400) [currently playing or currently](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=402) [loading so you can render your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=403) [UI off of it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=405) [So let's talk about how we would](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=408) [build a simple player for the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=409) [web.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=410) [We're going to include the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=411) [JavaScript library.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=413) [Then, you need to provide your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=416) [developer token.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=417) [You can generate this using your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=418) [You can generate this using your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=418) [private key.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=420) [We have a really great way to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=421) [use declarative HTML markup.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=425) [You can add some markup to your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=427) [page.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=428) [For example, buttons for sign](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=429) [in, sign out, or playback](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=430) [controls.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=431) [We'll handle wiring up those](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=433) [elements to the appropriate](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=435) [functions in MusicKit.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=436) [Then, we're going to add some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=438) [play buttons.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=440) [We'll use some content IDs or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=441) [some URLs from the Apple Music](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=442) [catalog that'll let the users](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=444) [start playback.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=446) [So let's take a look at the code](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=447) [for this.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=451) [You're going to include the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=451) [JavaScript library, and we're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=453) [going to host this on our CDN](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=454) [for you.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=456) [We're going to add some buttons](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=457) [for signing in and signing out.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=459) [Some buttons to control](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=462) [playback.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=463) [Here we have a play button, a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=464) [pause button, and a next track](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=465) [button.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=466) [We'll add some elements that we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=466) [will render in metadata about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=470) [what's currently playing.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=472) [Here we can get the playlist](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=473) [name, the title, and the artist](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=474) [name, for example.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=476) [And then, we have some elements](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=477) [that let you show the progress](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=479) [that let you show the progress](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=479) [through the track that's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=481) [currently playing -- the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=482) [playback duration, the playback](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=484) [time, and the playback progress.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=485) [So I'd like to bring up Jae Hess](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=487) [to the stage to show you how to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=490) [use the MusicKit JS to build](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=492) [that simple player that we just](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=493) [talked about.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=495) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=497) [&gt;&gt; Thanks, DJ.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=500) [So we're going to get started](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=502) [here, and I have a basic HTML](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=504) [template on the right side in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=507) [Xcode that's already linked to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=509) [the MusicKit JS library.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=510) [And on the left side, I have a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=512) [Safari window open that's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=514) [running a live reload server.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=515) [This way, any changes I make to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=517) [my markup will be reflected](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=518) [directly on the left-hand side.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=520) [To get started with MusicKit JS,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=522) [the first thing we need to do is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=525) [configure it for our use.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=527) [And with declarative markup, we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=529) [have a very simple way to do](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=531) [that using meta tags.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=532) [We can specify our application](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=533) [name as well as provide our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=538) [name as well as provide our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=538) [developer token.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=540) [Next, to get the functionality](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=541) [we want, we're going to put a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=545) [button on the page for the user](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=548) [to click.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=549) [And when this button is clicked,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=550) [it's going to take a playlist](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=551) [from the Apple Music catalog,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=553) [set a playback queue, and start](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=555) [playback in the browser.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=557) [Here I'm feeding a content URL](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=558) [that I got from iTunes on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=560) [desktop for a specific playlist](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=562) [I'd like to embed.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=564) [This playlist is the "Today at](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=566) [Apple Music" playlist.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=567) [[ Music ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=574) [And so with that 1 simple line](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=581) [of code, we have full playback](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=582) [of the "Today at Apple" playlist](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=585) [in the browser.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=589) [While this is great and it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=591) [offers a really good solution,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=593) [we probably want to add more](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=595) [controls and more functionality](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=596) [for the user to use.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=598) [The first thing we want to do is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=600) [allow the users of your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=601) [application, which are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=602) [subscribers of Apple Music, to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=603) [log in and log out.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=605) [And we'll do that by adding](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=606) [Authorize and Unauthorize](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=608) [buttons to the page.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=609) [We use the Apple Music Authorize](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=613) [and Unauthorize attribute, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=615) [MusicKit JS manages the state of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=619) [displaying those buttons for me.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=621) [I've logged in previously, so](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=622) [you see that the state reflects,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=624) ["Sign out of Apple Music."](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=625) [Next, we want to add some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=632) [playback controls.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=633) [And we can specify these using](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=635) [the Apple Music attribute, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=637) [we can specify things like skip](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=639) [to previous item, pause, play,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=641) [skip to next item.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=648) [We can add Now Playing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=656) [information for the user to see](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=658) [the current playing item in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=659) [the current playing item in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=659) [queue.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=660) [And here I've specified the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=662) [playlist artwork URL, and I can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=663) [specify the height and width I](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=665) [would like that to render.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=666) [And I also have access to any](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=668) [data attribute that's available](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=669) [on the media item.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=671) [So I can specify things like](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=672) [playlist name, the title of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=675) [track, as well as the artist](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=678) [name.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=680) [Underneath, I've specified that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=681) [I would like the current](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=682) [playback time to be loaded into](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=683) [the HTML time element.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=686) [So when the page reloaded,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=689) [nothing's there for Now Playing.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=691) [That's because we aren't playing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=693) [anything, so let's fix that by](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=693) [adding buttons that would allow](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=695) [the user to queue up playlists.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=697) [I'm going to paste in 16](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=699) [playlists.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=704) [And when the user--](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=705) [[ Music ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=711) [Now, using the playback](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=718) [controls, I can pause playback.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=719) [controls, I can pause playback.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=719) [I can skip to the next item.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=721) [[ Music ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=725) [I could even go back to that.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=729) [Now, MusicKit JS offers great](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=738) [solutions with a declarative](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=741) [markup, but it also offers a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=742) [full JavaScript API, so I'd like](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=744) [to bring DJ back up on stage to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=746) [go over the JavaScript API with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=749) [you.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=750) [Thank you.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=750) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=752) [&gt;&gt; Thank you, Jae.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=758) [The declarative markup is a very](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=760) [straightforward way to add basic](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=763) [functionality.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=765) [Let's talk about some more](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=767) [advanced usage.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=768) [Here we're going to write some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=769) [JavaScript to interact with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=770) [MusicKit, and let's take a look](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=772) [at a couple examples.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=773) [We can fetch metadata from the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=775) [catalog by ID.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=777) [We can search for content within](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=779) [We can search for content within](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=779) [the Apple Music catalog.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=783) [We can browse the iCloud Music](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=784) [Library for the logged-in user,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=788) [and search also works within a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=790) [library scope.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=791) [We can set and control that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=793) [queue of songs directly.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=796) [And we can react to playback](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=797) [events, and we drive our UI off](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=800) [of this.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=803) [So we're going to look at some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=806) [code.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=808) [First, we're going to use the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=808) [MusicKit getInstant method.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=809) [MusicKit is a singleton because](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=813) [you can only play back a single](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=814) [song at a time, so we're going](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=815) [to assign this to that music](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=817) [variable, and we'll use that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=819) [throughout the rest of these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=820) [examples.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=821) [You can look up a song by ID.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=822) [The song method takes the ID,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=827) [and then you need to supply a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=829) [callback.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=830) [And this is a promise.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=830) [You'll see that promise model](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=832) [used throughout MusicKit.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=833) [You then get a content object](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=834) [back, and this content object](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=838) [shows you the attributes of that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=839) [shows you the attributes of that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=839) [song and any relationships --](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=840) [for example, the artist and the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=843) [album.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=845) [As Betim talked about earlier,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=846) [if you don't have a content ID,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=850) [you can do the exact same lookup](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=851) [with a query filter for the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=854) [ISRC.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=856) [The objects that get returned](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=857) [are the same as the previous](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=859) [example.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=860) [We have a batch API if you want](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=864) [to return a array of song](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=867) [objects with a single network](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=869) [call, and this also works for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=870) [albums and playlists.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=873) [We can let the user play back](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=879) [content from within their iCloud](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=881) [Music Library.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=882) [So these APIs live under the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=884) [library scope.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=886) [You can get a list of songs,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=887) [albums, and playlists.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=889) [These APIs are paginated, so you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=892) [can fetch just a subset](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=894) [[inaudible] manner, and you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=896) [unload more in as the user pages](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=897) [unload more in as the user pages](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=897) [through or scrolls through your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=900) [application.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=901) [You could search the Apple Music](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=902) [catalog.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=906) [Here we're going to search for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=907) [just songs, and then the second](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=909) [example, we'll search for both](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=911) [songs and albums at the same](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=912) [time.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=913) [You can also supply a limit to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=914) [limit the number of results](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=916) [returned.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=917) [You can do the same query, but](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=918) [scope it to within the user's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=922) [iCloud Music Library.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=924) [Here we're using the exact same](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=926) [search method with the same](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=927) [parameters, but we're doing it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=928) [under the library scope.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=930) [Next up, we have authorization.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=935) [We're always going to handle](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=938) [authorization right before it's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=939) [needed -- when playback's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=940) [starting or when you're trying](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=942) [to access the iCloud Music](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=944) [Library for the current](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=945) [logged-in user.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=946) [You could also trigger it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=948) [yourself if you'd like.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=949) [Perhaps you want to force that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=951) [at the beginning when someone](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=952) [comes to your website.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=953) [When the user presses a button,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=958) [you can start playback.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=960) [You do this using the setQueue](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=961) [method.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=963) [Here we're supplying the idea of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=964) [an album, and MusicKit will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=966) [handle fetching the metadata and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=967) [then setting that queue.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=970) [If you have a content object](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=972) [that we saw previously, you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=973) [pass that in directly, and it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=975) [will figure out what to do.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=976) [setQueue returns a promise.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=979) [When the queue is fully loaded,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=982) [you can start playback.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=983) [Here we're going to start](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=984) [playback automatically with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=984) [music.play.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=986) [Once those songs are playing,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=991) [you might want to be able to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=992) [control that.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=993) [You can skip to the next or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=994) [previous item.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=996) [You can pause.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=997) [You can present actions in your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1002) [UI that will let a user quickly](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1004) [add those songs, albums, or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1006) [playlists they're browsing to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1007) [their own iCloud Music Library.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1009) [We have an addToLibrary method](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1011) [here.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1012) [You can do that same, you can do](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1012) [those same 3 calls in batch.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1018) [those same 3 calls in batch.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1018) [Here we're adding those same 4](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1020) [items as the top example, but](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1021) [we're going to do it in a single](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1023) [network call.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1024) [So let's look at events next.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1025) [MusicKit's going to fire events](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1031) [that you use to drive your UI](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1033) [from.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1034) [We do this because MusicKit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1035) [needs to own the audio element](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1036) [in order to do that full song](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1038) [playback.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1039) [Here we're going to use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1041) [addEventListener, which is going](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1042) [to be a very familiar pattern if](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1044) [you've done DOM scripting in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1046) [past.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1047) [We're going to dive into just a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1048) [couple of the events to give you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1050) [an example.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1051) [The mediaItem WillChange and the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1054) [mediaItem DidChange events fire](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1056) [when the Now Playing item in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1058) [queue changes, when the first](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1059) [song you're playing transitions](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1061) [to the second song.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1062) [You can use this to trigger an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1064) [update to your UI that shows the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1065) [song that's currently playing.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1067) [When you actually begin](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1069) [playback, the playbackState](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1073) [changes events are fired.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1074) [Here we have a will and a did](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1076) [change event again.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1077) [For example, you can know when a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1079) [For example, you can know when a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1079) [song is loading, when it's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1081) [playing, or when it's paused,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1083) [and then you would update your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1085) [UI appropriately.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1086) [This event is going to give you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1088) [the old state and then the new](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1089) [state that it's being](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1091) [transitioned to.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1091) [As the song is playing, you'll](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1096) [get playback progress change](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1098) [events, and this event has the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1100) [current playback progress as a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1103) [percentage.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1105) [You can use this to update a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1106) [progress UI.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1107) [And you're also going to listen](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1111) [for any media playback errors.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1112) [The mediaPlaybackError event](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1115) [will fire.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1117) [You can catch that and then](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1119) [present the appropriate error](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1120) [messaging to the user.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1121) [So I'd like to bring up Jae back](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1122) [to the stage.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1126) [He's going to take the player we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1127) [just built, and we're going to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1128) [show you how to use some of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1130) [those JavaScript APIs to add](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1131) [search for the Apple Music](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1133) [catalog, search within the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1135) [iCloud Music Library, and we're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1136) [also going to use events to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1138) [also going to use events to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1138) [build a simple progress bar.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1140) [Jae?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1143) [&gt;&gt; Thanks, DJ.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1144) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1146) [As DJ mentioned, we're going to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1152) [take the previous example and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1153) [we're going to extend it to add](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1155) [playlist search.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1157) [Now, I've taken the, off stage,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1159) [I've removed a lot of the stuff](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1162) [that we did from the previous](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1163) [example, but I've left some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1164) [things in the page.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1166) [I've also included an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1167) [application JavaScript file that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1169) [we'll be adding our JavaScript](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1171) [to in a moment, but I wanted to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1172) [walk through quickly the HTML](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1173) [again.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1175) [The major change we've done is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1176) [we've added an input element for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1178) [the user to search as well as 2](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1180) [DOM containers that we can put](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1183) [those search results into.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1185) [MusicKit JS doesn't offer an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1187) [opinion on a library or a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1188) [framework that you would be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1190) [using with your application, so](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1191) [for this example, our CSS has](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1193) [been prebuilt off screen.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1195) [We have some template helpers](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1196) [that we've built in a separate](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1198) [file as well.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1199) [And we'll notice that our markup](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1200) [looks a little weird on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1202) [left-hand side.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1204) [We got a couple of buttons that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1205) [are magically floating, and the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1206) [artwork is obviously empty.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1209) [And this is because MusicKit JS](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1211) [assumes that if you're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1215) [configuring it with the meta](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1216) [tags, that you want declarative](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1218) [markup enabled.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1220) [When you don't provide that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1221) [configuration, it assumes you're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1222) [running JavaScript and you don't](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1224) [want declarative markup.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1225) [But we provide a hook for you to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1226) [re-enable that with JavaScript.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1228) [We can configure MusicKit JS by](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1230) [listening to the MusicKit loaded](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1235) [event that's fired on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1236) [document.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1237) [This lets us know that MusicKit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1238) [JS is ready to be used and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1240) [configured and playback can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1242) [happen.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1243) [We can configure our application](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1244) [name just like we did with the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1246) [meta tags, but we now have an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1248) [attribute that says](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1249) [declarativeMarkup that we can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1250) [set to true, which lets MusicKit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1252) [JS know that we're running in a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1254) [mixed mode and we want those](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1255) [declarative markup features to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1257) [be enabled.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1258) [Next, I'm going to add a search](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1265) [handler.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1267) [This is straight JavaScript.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1267) [It's not specific to MusicKit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1269) [JS, but I did want to walk](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1270) [through that when the user](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1272) [presses Enter on the search box](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1273) [is when we're going to fire our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1275) [callback to do the search.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1277) [And we can implement that by](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1279) [using the search method off of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1283) [MusicKit's API property.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1284) [This will perform the search](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1287) [against the Apple Music API, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1289) [we can specify any query](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1291) [parameters that the Apple Music](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1292) [API accepts with a configuration](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1294) [object.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1298) [So we can specify we want to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1299) [search, we want to limit the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1300) [search to playlists and that we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1301) [want our results to be limited](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1303) [to 8.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1304) [We have our custom templating,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1306) [but I want to highlight these 3](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1309) [lines, which is where we tell](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1311) [our MusicKit instance to take](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1313) [the artwork that the user has](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1315) [clicked on, and we want to set](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1317) [the playback queue to that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1319) [the playback queue to that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1319) [playlist ID.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1320) [That returns a promise where we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1321) [can call music.play, which will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1324) [start playback for the user.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1325) [And then, we have our custom](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1327) [rendering as well.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1328) [I perform a search for "a list."](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1333) [We'll see 8 catalog results from](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1336) [the Apple Music catalog for A](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1338) [list playlists.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1339) [It would be nice if the same](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1340) [search could apply to my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1345) [personal iCloud library as well.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1347) [And we can do that in almost the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1350) [exact same manner, except the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1351) [search method is off of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1354) [library property instead of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1356) [API property.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1358) [This lets MusicKit JS know](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1359) [you're looking for the cloud](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1361) [library.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1364) [Set playlists and set the same](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1365) [for 8.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1367) [And then, the code looks exactly](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1367) [the same with setting the queue](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1369) [and starting playback.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1372) [If I perform that same search,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1377) [we'll see my iCloud Music](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1380) [Library results as well as the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1382) [catalog library results.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1384) [And I can click, and we get](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1386) [playback of the cloud library](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1390) [item as well.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1392) [[ Music ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1394) [Looking at the Now Playing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1398) [screen, or the Now Playing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1399) [information at the bottom makes](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1401) [me realize that it's missing a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1402) [progress indicator to let me](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1403) [know how far through the current](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1405) [playing track we are.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1406) [And we can add something like](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1408) [that by simply listening for the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1410) [playbackProgress DidChange event](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1413) [that MusicKit JS provides.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1415) [Here we add an event listener to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1422) [the MusicKit instance, listen](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1423) [for playbackProgress DidChange,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1425) [and have a custom renderer to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1427) [render progress when we get that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1428) [event.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1434) [So we can look for A list again.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1434) [And this time, when I play that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1436) [song, we see our custom progress](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1439) [song, we see our custom progress](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1439) [bar rendering.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1441) [Now, there's a lot more we could](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1447) [get into with MusicKit JS, but](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1449) [I'd like to bring DJ back up to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1450) [kind of summarize what we've](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1452) [gone over today.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1453) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1456) [&gt;&gt; You can now bring great music](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1460) [experiences to your websites.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1461) [You can use the declarative](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1464) [markup to quickly add simple](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1465) [functionality or you can use the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1467) [JavaScript APIs directly to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1470) [build a more advanced](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1472) [application.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1473) [We're looking forward to seeing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1474) [what you can build with it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1475) [We have some great documentation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1477) [available, and we have a lab](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1478) [coming up right after this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1481) [session in Technology Lab 3.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1482) [Happy to answer any questions](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1484) [you have.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1485) [Thank you.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1487) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/506/?time=1489)