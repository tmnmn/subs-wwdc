# Quick Look Previews from the Ground Up

## Summary
Quicklook Previews are an easy way preview documents in your app. Hear about the basics as well as some advanced implementations. Learn to present a variety of types of documents from within your app without reinventing the wheel, and make sure your custom file format works great with the built-in support offered by iOS.

## Info
* Frameworks
* WWDC 2018 - Session 237 - iOS, macOS
* https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/

## Text
 [[ Music ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=7) [&gt;&gt; In this session we are going](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=18) [to tell you all about Quick](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=19) [Look.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=20) [Welcome to previews from the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=21) [ground up.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=22) [My name is Raffael and I'm going](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=24) [to present together with Maxime,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=26) [both software engineers at](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=28) [Apple.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=29) [We are going to start with a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=30) [brief overview of what Quick](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=34) [Look is.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=36) [Then we're going to show you how](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=37) [to adopt the Quick Look Preview](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=39) [Controller in your application.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=41) [And then we're going to explain](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=43) [how to provide custom Quick Look](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=45) [previews and custom thumbnails](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=47) [for your own file formats.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=51) [Let's jump right into it, what's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=55) [Quick Look?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=57) [Quick Look is all about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=60) [previewing documents, it allows](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=61) [you to present documents without](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=63) [the hassle.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=65) [More precisely, Quick Look is an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=67) [iOS framework that provides](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=69) [multiple core features to you as](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=70) [a developer.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=72) [It allows you to preview](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=75) [documents of several commonly](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=76) [used file formats, to provide](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=78) [custom previews for files of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=81) [your very own file format, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=83) [to provide thumbnails to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=87) [system for files of your own](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=89) [custom file format.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=91) [Quick Look is in fact already](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=95) [used by many of Apple's first](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=97) [party applications.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=98) [For example, in files to present](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=101) [your documents that you have in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=103) [the Cloud.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=105) [Or in Mail and Notes to preview](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=111) [your attachments.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=113) [And in Messages to show your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=121) [pictures and videos that you've](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=123) [sent.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=124) [So who is this session for?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=132) [Well if you want to know how to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=133) [present documents in your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=135) [application without having to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=137) [implement all the common](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=138) [features the users are used to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=139) [you're in the right session.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=142) [You also might own a custom file](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=144) [format which iOS doesn't support](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=146) [natively and you want to make](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=149) [sure that your file format is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=150) [properly handled by iOS with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=152) [custom thumbnails and previews](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=154) [stay here if you want to learn](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=156) [more about this.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=157) [And no matter if you're a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=159) [newcomer to iOS or if you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=160) [already have an app we're going](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=163) [to guide you step-by-step.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=165) [By the way, if you haven't](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=169) [checked it out yet you should](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=170) [definitely take a look at last](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=171) [year's session, Building Great](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=173) [Document-based Apps in iOS in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=175) [which we have introduced the UA](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=177) [document browser view controller](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=179) [document browser view controller](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=179) [and also have covered the basics](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=181) [of Quick Look preview and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=183) [thumbnail extensions briefly.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=184) [There's also going to be a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=187) [document browser one-on-one](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=189) [session this year which we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=190) [highly encourage you to attend](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=191) [if you're interested in file](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=194) [handling on iOS.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=195) [Quick Look has been around for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=201) [quite a while already.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=202) [It's been introduced with the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=203) [iOS 4 SDK.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=205) [The main class you're interested](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=208) [in is to [inaudible] preview](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=209) [controller which is a view](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=210) [controller to preview documents.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=212) [It uses the classic data source](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=216) [and delegate pattern that you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=218) [already know from your UIKit and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=220) [other frameworks.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=221) [And presenting Quick Look with a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=222) [beautiful [inaudible] transition](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=226) [couldn't be easier with the API](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=227) [that we give you.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=229) [Why would you want to use Quick](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=235) [Look?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=236) [Well if you have a similar use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=236) [case to files, mail or the other](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=238) [case to files, mail or the other](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=238) [apps we've shown you before](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=240) [Quick Look is the perfect choice](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=242) [for you.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=244) [Quick Look comes with everything](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=245) [you need out of the box.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=247) [It supports the commonly used](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=250) [file types and it provides that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=251) [native user experience that your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=254) [users are used to from other](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=256) [first party iOS apps.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=258) [We made sure Quick Look has a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=261) [create performance on all](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=262) [devices, so that all the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=264) [animations and gestures are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=266) [fluid.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=267) [And you might be dealing with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=270) [files from untrusted sources,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=271) [but don't worry we got your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=273) [back.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=274) [Quick Look comes with a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=275) [sophisticated security model](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=276) [that keeps your application](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=278) [safe.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=279) [Let's take a look at the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=284) [supported file types.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=285) [As you can see all the common](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=287) [types are in here.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=288) [Media files such as images,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=290) [audio files and videos,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=292) [documents such as PDFs and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=294) [office files, but also zip](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=296) [archives.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=298) [Previewing a zip archive lets](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=300) [you look into the contents of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=302) [the archive and view the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=304) [contained files individually and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=306) [share them for example.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=308) [Now if your custom file format](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=311) [is missing in this list don't](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=313) [worry.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=314) [Last year we introduced a new](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=316) [extension point for implementing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=317) [Quick Look preview extensions.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=319) [Preview extensions allow you as](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=321) [a developer to create a preview](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=323) [for files of your very own](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=325) [custom file format.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=327) [We will cover this in the second](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=328) [part of the session.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=331) [And this year with iOS 12 we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=332) [have also added support for the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=335) [new AR file format USDC, so with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=337) [just a few lines of code you get](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=341) [a fully immersive augmented](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=343) [reality experience in your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=344) [application.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=346) [Okay, now let's talk about user](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=348) [experience.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=350) [For each of the file types shown](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=351) [before we made sure that Quick](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=353) [Look provides the best possible](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=355) [preview on your mobile devices.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=356) [For example, when previewing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=360) [images you're able to zoom into](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=361) [the images conveniently.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=364) [You're also able to close Quick](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=366) [Look with a swipe down gesture.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=368) [In PDF documents you get a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=371) [sidebar with thumbnails for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=374) [easier navigation.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=376) [In spreadsheets you can switch](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=378) [through the individual pages of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=380) [the document.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=382) [And in media files we show a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=384) [scrubber that allows you to go](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=386) [back and forth and so on.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=388) [You get the idea.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=389) [So when you choose Quick Look](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=392) [your users get all the gestures](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=394) [they are used to from other](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=396) [applications.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=397) [So what are some common use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=403) [cases for using Quick Look?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=404) [For example, you might want to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=407) [let the users zoom into photos](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=409) [or you want to be able to flick](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=411) [through a collection of photos](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=414) [left and right.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=416) [You want to play audio or video](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=417) [You want to play audio or video](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=417) [files without having to deal](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=420) [with lower-level frameworks.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=422) [Or you want to present for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=423) [example a scrollable and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=426) [zoomable user agreement PDF to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=428) [the user.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=431) [Use Quick Look for this.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=432) [But Quick Look shouldn't be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=436) [misused, here's when not to use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=437) [Quick Look.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=439) [Quick Look is all about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=441) [previewing but doesn't provide](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=442) [editing features.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=444) [So if you need to provide](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=446) [functionality such as image](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=447) [editing, PDF management or movie](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=449) [trimming you need to choose a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=452) [different approach.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=454) [Similarly, if you need more](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=459) [advanced playback control for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=460) [your videos Quick Look is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=462) [probably not the best choice,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=463) [you can use AVPlayer instead.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=466) [Quick Look is meant to be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=469) [presented full screen.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=470) [If you simply want to present an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=471) [image, a video or a document](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=473) [embedded in your layout together](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=475) [with other views surrounding it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=477) [you probably want to use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=479) [you probably want to use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=479) [UAImageView, AVPlayer, WKWebView](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=480) [or other kind of views instead.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=484) [Also note that it's not](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=488) [supported to customize the view](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=490) [hierarchy of Quick Look.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=492) [Please don't try to add views on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=494) [top of the previews the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=496) [navigational toolbar, this is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=497) [simply not supported.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=500) [So now that we've introduced](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=506) [Quick Look, let's take a look at](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=507) [how to actually make use of our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=509) [APIs.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=511) [If you want to present documents](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=517) [to the user as a first step you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=518) [instantiate a new](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=520) [QLPreviewController which is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=522) [basically a UIViewController.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=524) [Next, in order to tell the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=528) [preview controller which](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=529) [documents to preview, you need](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=530) [to assign a data source to it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=533) [The data source is an object](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=535) [that conforms to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=537) [QLPreviewController data source](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=538) [protocol.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=539) [protocol.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=539) [We'll take a look at this in a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=540) [second.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=542) [And as a third and last step,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=543) [all you have to do is present](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=547) [the view controller.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=549) [Let's take a closer look at how](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=555) [the data source works.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=556) [Your data source has to conform](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=558) [to the QLPreviewController data](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=560) [source protocol.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=562) [This is a protocol that requires](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=564) [two methods.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=565) [First, you need to return the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=566) [number of items that your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=568) [preview controller should](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=570) [preview.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=571) [It should provide more than one](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=572) [item the users will be able to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=574) [swipe left and right to flick](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=576) [through the documents.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=577) [Next, Quick Look then will ask](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=581) [you for one or more](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=583) [QLPreviewItems depending on what](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=584) [number you've previously](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=586) [returned.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=587) [Okay what's a QLPreviewItem?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=590) [It's a protocol that acts as an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=593) [abstraction for your documents.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=594) [For Quick Look a preview item is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=597) [basically the URL, where to find](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=599) [basically the URL, where to find](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=599) [the document on disk and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=602) [optionally a title that Quick](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=604) [Look will show in the navigation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=606) [bar.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=608) [The class representing documents](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=609) [in your app needs to conform to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=612) [the QLPreviewItem protocol.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=614) [But by the way, NSURL already](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=616) [conforms to the QLPreviewItem](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=619) [protocol, so if you don't need](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=621) [custom titles you can simply](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=623) [return NSURL instances in your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=625) [data source without implementing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=627) [the protocol yourself.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=629) [Let's take a look at an example.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=631) [In this scenario our view](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=636) [controller that presents Quick](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=638) [Look acts as the data source of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=639) [the QLPreviewController.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=641) [Therefore, we let it conform to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=644) [the QLPreviewController data](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=646) [source in an extension and we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=648) [implement the two methods.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=650) [Here we are using an area of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=653) [file URLs that acts as the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=654) [model.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=657) [We return the number of URLs](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=657) [that we have in the number of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=659) [that we have in the number of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=659) [preview items in controller](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=662) [method.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=663) [And then each URL respectively](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=664) [referenced by the index in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=667) [previewController controller](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=670) [previewItemAt index method.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=672) [Okay we've set up our preview](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=679) [controller and it knows what](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=680) [files to preview, so we are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=682) [ready to actually present the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=684) [view controller.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=685) [There are two ways for doing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=687) [that.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=688) [You can either present the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=689) [preview controller modally on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=690) [top of the current context or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=692) [you push the preview controller](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=694) [into a UINavigationController.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=696) [Both ways work great and you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=699) [need to decide what fits best in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=701) [your situation.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=703) [To present it modally you do](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=704) [what you do with any view](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=707) [controller you call present.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=708) [Here's an example of what a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=711) [modal presentation can look](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=713) [like.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=714) [If you have a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=717) [UINavigationController and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=718) [prefer to push the preview](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=719) [prefer to push the preview](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=719) [controller instead you use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=721) [pushViewController.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=723) [This is what it looks like.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=728) [The QLPreviewController class](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=736) [provides a few more methods that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=737) [I would like to highlight.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=738) [First, if you want to know if](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=740) [Quick Look is capable of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=742) [previewing a certain document](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=744) [use the canPreview item class](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=746) [method, this will return true if](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=748) [the document matches any of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=752) [supported default file types or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=753) [if there is a preview extension](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=756) [available that can handle the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=757) [file.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=759) [The data source we've already](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=761) [covered.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=763) [Reload data reloads the list of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=766) [documents your preview](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=769) [controller should present.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=770) [If this list ever changes while](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=772) [the preview controller is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=774) [currently presented use this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=775) [method to trigger a reload.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=777) [If you need to obtain the index](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=781) [of the currently previewed item](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=783) [in your list of preview items](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=785) [remember the user can swipe left](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=787) [and right to switch to a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=789) [different one, use the current](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=790) [previewItemIndex variable.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=792) [This is both a getter and a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=795) [setter, so if you want Quick](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=797) [Look to start with a particular](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=799) [item when it's being presented](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=800) [set the index to the right](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=802) [value.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=804) [Last but not least, preview](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=805) [controllers also have a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=809) [delegate.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=811) [Let's take a look at the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=813) [QLPreviewController delegate](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=814) [protocol now.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=815) [If you assign a delegate to your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=821) [preview controller you get more](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=822) [ways to control how Quick Look](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=824) [behaves.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=826) [It also lets you react to Quick](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=827) [Look presentation events.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=829) [Note that all of the methods in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=831) [the QLPreviewController delegate](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=832) [are optional.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=834) [You don't have to implement them](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=836) [and in fact you don't even have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=837) [to assign a delegate at all.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=839) [to assign a delegate at all.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=839) [The protocol hosts a bunch of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=842) [methods you can implement.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=844) [The first two methods lets you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=846) [react to the event that Quick](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=847) [Look is about to be dismissed by](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=849) [the user and also that the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=851) [dismissing is now complete.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=853) [You might want to use these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=858) [methods to update the view](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=859) [controller that is presenting](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=860) [Quick Look right now.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=862) [Next, the preview controller](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=867) [should open URL for item method](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=869) [allows you to prevent Quick Look](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=872) [to follow a link contained in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=874) [previewed documents.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=875) [With this method you can for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=878) [example prevent the user from](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=879) [leaving your app when tapping a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=881) [URL or a phone number contained](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=883) [in a PDF.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=885) [And last but not least, as](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=886) [promised before the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=891) [QLPreviewController delegate](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=892) [protocol also provides API to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=893) [get a smooth zoom animation when](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=896) [Quick Look is presented and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=898) [Quick Look is presented and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=898) [dismissed.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=900) [With these methods a thumbnail](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=901) [that is on screen in your user](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=903) [interface can transition into a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=905) [full Quick Look preview when](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=907) [tapping it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=909) [Imagine an email attachment or a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=913) [photo inside a conversation view](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=915) [which you can tap to show it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=917) [full screen with Quick Look.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=920) [We made it super easy for you to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=925) [get this cross fade zoom](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=927) [animation in your application.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=928) [If you implement one of the two](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=932) [approaches in your delegate](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=933) [Quick Look will ask for the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=935) [information that is needed for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=937) [performing the zoom.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=938) [This is basically the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=941) [rectangular area the animation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=942) [should start from when](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=944) [presenting or end in when](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=945) [dismissing Quick Look.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=948) [Either you provide the frame and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=951) [the image of the thumbnail or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=954) [and this is the preferred way of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=958) [and this is the preferred way of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=958) [doing it, you use our mode and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=960) [method in which you simply](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=962) [return the thumbnail as a view.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=964) [With this approach you don't](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=966) [have to worry about coordinates](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=968) [Quick Look will do all the heavy](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=970) [lifting for you.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=971) [And this is what it can look](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=977) [like.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=978) [Note how the thumbnail](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=979) [transitions into the full-screen](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=981) [Quick Look preview.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=982) [All right now it's time for a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=986) [demo in which we would like to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=987) [show you what we've just](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=989) [covered.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=990) [Okay, here's an iOS project and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=993) [instead of talking about it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=995) [let's just press the play button](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=997) [to see what we've already](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=998) [prepared and what we are dealing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1000) [with here.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1001) [We are calling this Wildlife](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1011) [Explorer and it's a very simple](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1011) [app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1013) [It basically displays a grid of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1014) [photos and each of these photos](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1016) [that we see here acts as a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1018) [that we see here acts as a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1018) [thumbnail for what's behind it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1020) [once you tap it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1022) [For example, tapping the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1023) [elephant should show a large](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1025) [photo of the elephant in full](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1027) [screen and tapping the giraffe](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1028) [should preview an entire PDF](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1032) [about all sorts of giraffes.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1033) [Right now we can't do anything](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1037) [else than just looking at it,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1038) [tapping won't do anything yet so](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1041) [let's fix this.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1043) [Now this application is fairly](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1048) [simply structured.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1050) [For displaying the grid of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1052) [photos we use a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1053) [CollectionViewController.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1055) [When initializing it we obtain a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1058) [list of URLs of documents that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1061) [are bundled with the application](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1063) [like the elephant we've just](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1065) [seen.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1066) [We use that list to initialize](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1071) [what we call a document data](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1073) [source.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1074) [This object serves as the model](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1076) [for the collection view in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1078) [implementation of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1079) [implementation of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1079) [UICollectionViewDataSource](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1081) [protocol.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1083) [Here we return the number of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1092) [documents we have just gathered](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1093) [and then create a cell for each](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1096) [of the documents with a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1097) [thumbnail as the image of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1099) [cell respectively.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1100) [And that's pretty much the core](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1102) [of the application so far.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1105) [Now let's add what we've talked](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1108) [about before.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1109) [When tapping a cell we would](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1111) [like to show Quick Look with the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1112) [right document.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1114) [We've already made sure that we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1116) [have a method that is called](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1117) [when the user has just tapped a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1119) [cell.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1120) [To show Quick Look we create a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1127) [new QLPreviewController in here](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1128) [and configure it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1131) [We create a new controller, we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1143) [assign the document data source](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1145) [to it as the data source and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1147) [then make sure Quick Look shows](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1149) [the correct preview when it's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1151) [presented by setting the right](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1152) [CurrentPreviewItemIndex.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1155) [Great, now Xcode is already](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1160) [complaining about our new code,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1162) [it doesn't know](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1163) [QLPreviewController yet.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1165) [We need to import Quick Look](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1167) [first and therefore we return to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1169) [the top of the file and import](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1171) [Quick Look.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1172) [Done. The next thing Xcode](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1184) [complains about is the data](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1186) [source.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1187) [The document data source that we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1189) [assigned to the new preview](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1190) [controller doesn't seem to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1192) [conform to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1193) [QLPreviewController data source](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1194) [protocol yet which we have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1196) [talked about earlier.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1197) [To fix this let's switch to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1200) [implementation of the document](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1202) [data source.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1204) [The document data source is a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1210) [very simple kind of object, it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1211) [simply owns an area of URLs so](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1213) [far.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1215) [We need to add the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1217) [QLPreviewController data source](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1218) [protocol to the list of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1220) [protocols that this class](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1221) [implements.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1223) [Next, we implement the missing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1233) [methods.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1234) [As you can see the way we use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1245) [the document data source here is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1246) [very similar to the way we use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1248) [it for the collection view.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1250) [In the numberOfPreviewItems](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1251) [method we return the number of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1254) [URLs that we have gathered](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1256) [before from our documents](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1257) [folder.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1258) [And then Quick Look asks for the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1259) [And then Quick Look asks for the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1259) [individual QLPreviewItems and we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1263) [return the right URL referenced](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1266) [by the index.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1268) [Great, the data source has been](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1273) [properly set up so we can go](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1274) [ahead and actually present the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1275) [preview controller.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1277) [Therefore, we return to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1279) [didTapCollectionCell method and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1280) [add the missing method call.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1283) [Let's check out how this looks](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1294) [like.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1294) [All right we are back in grid](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1306) [and now when tapping a cell](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1307) [Quick Look appears displaying](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1309) [the right document in full](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1311) [screen.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1313) [Note how easy it is to present](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1315) [images and even PDFs in full](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1317) [screen with all of the gestures](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1319) [screen with all of the gestures](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1319) [that you are used to.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1321) [We can zoom into the document](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1324) [with two fingers, we can select](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1326) [text, and even copy it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1329) [And once we are done we can use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1333) [a pinch gesture to dismiss Quick](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1336) [Look again.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1338) [So what we are using here to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1343) [present Quick Look is a modal](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1344) [presentation style.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1345) [As I've explained earlier, we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1347) [can also present Quick Look with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1349) [a push animation.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1351) [Therefore, we simply tell the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1353) [application's navigation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1355) [controller to present the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1356) [preview controller by pushing it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1358) [on top of the current one.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1360) [Let's take a look.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1372) [As you can see, this is a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1385) [different style of presenting](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1386) [Quick Look and it works just as](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1387) [fine as presenting it modally.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1389) [Okay Quick Look works and now](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1397) [the last thing I would like to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1399) [show you is how to use the Quick](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1400) [Look delegate in order to get a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1402) [beautiful zoom animation when](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1403) [tapping a thumbnail in our grid.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1405) [First, we switch back to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1408) [modal presentation style which](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1410) [is needed for the zoom](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1412) [transition to work.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1413) [Then we need to assign a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1419) [delegate to the preview](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1420) [controller and in this case, we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1421) [assign self.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1423) [However, self doesn't conform to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1434) [the QLPreviewController delegate](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1435) [yet, so let's add it to the list](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1437) [of protocols.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1439) [And now as the last step we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1452) [implement the magic method which](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1454) [tells Quick Look which view to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1456) [use as the source for the zoom](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1458) [animation when it is about to be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1460) [presented.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1462) [As you can see, we are using the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1474) [image view of the most recently](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1476) [tapped cell which we keep a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1478) [reference of and return it to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1480) [Quick Look.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1482) [That's literally all we have to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1484) [do to make the zoom animation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1485) [work.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1487) [Quick Look will call this method](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1488) [when it's presented and when](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1489) [it's dismissed.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1491) [Let's try it out.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1492) [Now when we tap a thumbnail](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1503) [notice how the thumbnail is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1505) [animating to the full-screen](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1506) [preview.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1507) [Also observe no matter how we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1509) [dismiss the preview it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1511) [beautifully transitions back to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1513) [the right origin.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1515) [Great, that's it for the demo,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1522) [back to the slides.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1525) [And now I would like to hand it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1526) [over to Maxime who is going to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1528) [tell you all about previews and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1530) [thumbnail extensions.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1531) [&gt;&gt; Thank you Raffael.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1534) [So as you have seen, Quick Look](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1536) [makes it super easy to add a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1537) [powerful previewing feature to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1539) [your app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1541) [But there is more to talk about.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1542) [The first thing I want to show](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1544) [you is how to extend Quick](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1545) [Look's previewing capabilities](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1547) [by providing a preview for your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1548) [own file format.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1550) [We have listed the file types](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1554) [that Quick Look supports](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1555) [natively before.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1556) [However, since iOS 11 this list](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1559) [However, since iOS 11 this list](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1559) [can be extended by bundling a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1563) [preview extension with your iOS](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1564) [app which allows you as a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1566) [developer to provide previews](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1568) [for your custom file formats.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1570) [You should provide a preview if](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1572) [you're in a custom fil format](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1575) [and you'd like this one to be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1577) [previewed by Quick Look just](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1578) [like any other native type.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1580) [File types that are meant to be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1583) [shared are usually good types to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1585) [create an extension for,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1587) [especially if you want your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1589) [users to preview the content](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1591) [easily after receiving a file in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1592) [an app like Mail, Messages or in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1595) [a Note for instance.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1597) [And then everything works](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1598) [together and your application](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1600) [that is using a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1603) [QLPreviewController with a file](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1604) [that is not natively supported](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1606) [will benefit from your preview](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1608) [extension.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1609) [Here is an example of what you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1612) [can achieve thanks to a preview](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1614) [extension.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1616) [We have built a sample app that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1617) [can be downloaded from Apple's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1619) [can be downloaded from Apple's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1619) [website that allows one to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1621) [create customized and interact](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1622) [with Particles.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1625) [Since we wanted to share our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1627) [cool Particles to other users we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1628) [created a new file format, the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1631) [particles file format.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1633) [Each file represents a particle](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1636) [system and you can configure all](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1638) [sorts of [inaudible] systems.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1640) [Now let's say you share a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1644) [particles file with your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1647) [friends.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1648) [When previewing them in messages](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1650) [or as an email attachment for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1651) [instance [inaudible] get to see](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1653) [is a blank screen, that is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1655) [certainly not what we want.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1656) [But by implementing your preview](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1660) [extension for our particles file](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1662) [format it will replace that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1663) [blank screen with a beautifully](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1665) [rendered three-dimensional](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1666) [interactive particle system.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1668) [How good is that?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1669) [I am sure you now want to learn](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1674) [how you can make your own](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1675) [preview extension for your file](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1676) [formats.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1678) [First, you will need to add a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1680) [new target in your existing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1682) [application project.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1684) [To do so you will have to select](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1686) [the Quick Look Preview Extension](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1688) [template in Xcode.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1690) [After that several files will be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1693) [generated for you by Xcode.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1696) [The PreviewViewController class](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1699) [with a basic implementation.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1700) [This is where you will have to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1703) [add code for your preview.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1705) [The storyboard that has the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1707) [PreviewViewController as its](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1709) [entry point.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1711) [And an Info.plist that's the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1712) [first thing you will want to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1715) [edit.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1717) [Let's take a closer look at it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1717) [To get started the attribute we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1722) [are the most interested in is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1725) [named QLSupportedContentTypes.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1726) [This is the one that is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1729) [highlighted on the screen shot.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1730) [This is an array in which you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1733) [list all the file types for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1735) [which your extension can provide](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1736) [previews.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1737) [Please note that you can only](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1739) [Please note that you can only](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1739) [provide previews for UTIs you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1740) [own and export.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1742) [When Quick Look can't natively](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1745) [preview a file type it will make](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1747) [use of the content types added](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1749) [to this array and select an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1750) [extension that can handle](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1753) [previewing it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1755) [So make sure to list all file](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1756) [types [inaudible] extension](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1758) [support.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1759) [Let's see how we achieve this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1761) [with our Particles app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1762) [As you can see Particles](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1764) [declares and exports a new](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1769) [particles file type.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1771) [Its identifier is [inaudible]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1772) [example.applesample](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1775) [code.particles.particles.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1777) [Since we wanted our extension to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1781) [support particles previews we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1783) [added this identifier to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1785) [QLSupportedContentTypes of its](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1787) [Info.plist.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1788) [By the way, if you're interested](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1790) [in UTIs you should check out the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1792) [Documents Manager session of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1794) [this year.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1796) [When a new preview has to be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1800) [generated for a file type](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1801) [[inaudible] Quick Look will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1803) [create a new](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1804) [PreviewViewController instance](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1806) [and calls it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1808) [preparePreviewOfFile at URL](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1809) [completionHandler method.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1810) [This method is part of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1814) [QLPreviewingController protocol](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1816) [and is mandatory to provide](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1819) [previews for a file.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1820) [Quick Look will display](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1823) [[inaudible] while waiting for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1825) [your extension to be ready to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1826) [display the preview.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1827) [All you have to take care of is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1828) [loading the contents of your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1831) [preview and calling the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1832) [completion handler as soon as](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1834) [your extension is ready.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1836) [All right that's it for the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1839) [preview extensions, let's go one](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1840) [step further.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1842) [Similarly to previews you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1844) [also provide thumbnails for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1846) [files of your own file format.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1847) [Let's talk about Quick Look](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1849) [thumbnail extensions.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1851) [A thumbnail is an image of a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1852) [limited size that represents the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1856) [contents of a file.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1858) [contents of a file.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1858) [There is throughout iOS and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1861) [macOS to allow users to identify](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1863) [files officially without having](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1865) [to open them to the file](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1868) [contents.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1869) [For instance you can see on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1871) [screenshot how iOS makes uses of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1872) [them in the file tap.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1875) [iOS can generate thumbnails for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1877) [different file types, images,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1879) [videos, PDFs, text files, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1881) [USDZ files.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1884) [Now you may have noticed the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1886) [blank icons on the left.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1888) [This is because these are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1891) [particles files and iOS doesn't](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1892) [know how to generate thumbnails](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1895) [for this file natively.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1897) [But don't worry we are going to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1898) [show you how to create a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1901) [thumbnail extension that you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1903) [use to improve this situation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1905) [for your custom file types](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1906) [easily.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1907) [Look at how great these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1909) [thumbnails look for particles](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1910) [files thanks to the thumbnail](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1912) [extension we have added to our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1914) [app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1915) [Thumbnails provided by this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1921) [extension appear in the Files](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1922) [app, as well as in any](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1924) [UIDocumentBrowswer](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1926) [ViewController-based app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1927) [They also appear in the Quick](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1930) [Look list, that you can see when](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1932) [tapping the list button when](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1934) [previewing multiple files in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1935) [Quick Look.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1937) [If you have custom file types](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1937) [that the user can share and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1940) [interact with you will likely](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1942) [want to provide a certain](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1944) [extension with your app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1945) [Let's now see how you can do so.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1947) [Creating a thumbnail extension](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1951) [is as just creating a preview](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1953) [extension.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1954) [To do so add a new target in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1956) [your existing application](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1959) [project and select the Thumbnail](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1960) [Extension template.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1962) [Xcode will generate for you two](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1966) [files, the ThumbnailProvider](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1968) [class with a basic](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1970) [implementation.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1971) [This is where you will have to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1973) [add the code that takes care of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1974) [generating thumbnails.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1976) [And an Info.plist this is just](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1978) [And an Info.plist this is just](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1978) [like for the preview extension,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1980) [the first thing you will have to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1982) [edit after creating your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1983) [extension.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1985) [As in the Info.plist of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1990) [preview extensions the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1991) [Info.plist of the thumbnail](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1992) [extensions have a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1994) [QLSupportedContentTypes array](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1995) [that needs to be filled with the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1997) [content types that your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=1999) [extension supports.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2000) [So make sure to include in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2004) [QLSupportedContentTypes all the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2006) [content types for which your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2009) [extension can generate](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2010) [thumbnails.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2012) [After setting up your extension](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2013) [you will be able to start](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2015) [implementing your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2017) [QLThumbnailProvider subclass.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2018) [You have two ways to provide a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2020) [thumbnail for a file.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2022) [You can [inaudible] use it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2025) [CoreGraphics or UIKit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2026) [[inaudible] techniques or you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2029) [can return an image file URL.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2032) [You will have to override the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2035) [provideThumbnail for request](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2039) [provideThumbnail for request](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2039) [handler method in your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2040) [QLThumbnailProvider subclass.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2042) [We extensively covered this part](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2045) [of the Quick Look API in your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2047) [session for WWDC 2017, Building](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2049) [Great Document-Based Apps in iOS](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2054) [11.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2056) [So if you'd like to provide](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2057) [thumbnails for your custom file](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2058) [types I highly encourage you to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2059) [check it out.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2061) [In a nutshell, you will need to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2063) [make use of the parameters](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2065) [contained in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2066) [QLFileThumbnailRequest of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2068) [method.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2069) [The URL of the file, the maximum](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2071) [and minimum sizes of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2074) [thumbnail, and its scale.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2075) [For each thumbnail request the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2079) [API expects you to create a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2081) [QLThumbnailReply object.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2083) [This object will have to take](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2085) [care of generating the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2088) [thumbnail.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2089) [You will have to provide it to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2090) [Quick Look through the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2091) [completion handler of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2093) [method.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2097) [All right let's see all of this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2097) [in action it's demo time.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2099) [in action it's demo time.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2099) [Let's start by taking a look at](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2100) [how things look like after](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2104) [installing the Particles app](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2105) [without any Quick Look](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2106) [extension.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2107) [All right we don't have any file](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2109) [yet, let's create a new one by](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2111) [pressing the + button.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2113) [What you can see here is the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2117) [particle editor.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2118) [Let's create a file particle](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2120) [system, we change the color a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2121) [bit, and save the document.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2123) [Well as you can see we don't get](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2127) [to see the beautiful particle](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2130) [system we just designed.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2131) [[Inaudible] of that by adding a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2133) [thumbnail extension to our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2135) [application.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2137) [Now let's save the file to a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2138) [[inaudible] and see how the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2141) [preview looks like in Quick](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2141) [Look.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2146) [All right let's open the file](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2147) [format.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2149) [All we see is a blank screen, we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2152) [can do better, let's improve](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2154) [this too.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2156) [Let's switch to Xcode and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2157) [implement a preview and a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2159) [implement a preview and a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2159) [thumbnail extension.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2160) [We already have an existing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2162) [project containing the extension](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2164) [setup.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2166) [We are going to use these as a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2167) [starting point and add the two](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2169) [extensions.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2171) [As mentioned previously we need](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2172) [the Info.plist of our extensions](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2174) [to be configured so that the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2176) [system knows we are able to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2177) [provide previews and thumbnails](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2179) [for particles files.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2181) [So Particles app defines its own](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2183) [file format in the exported UTIs](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2185) [section of the application](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2188) [target.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2189) [We need to configure the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2190) [extensions to use that UTI in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2192) [the Info.plist.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2194) [As you can see the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2195) [QLSupportedContentTypes of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2198) [Info.plist of the preview](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2200) [extension does contain the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2201) [identifier of the UTI of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2203) [particles file format.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2204) [And this is also the case of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2206) [Info.plist of the thumbnail](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2209) [extension.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2210) [So the only thing left to do is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2211) [to actually implement these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2214) [extensions.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2215) [Let's start with the preview](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2216) [extension.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2217) [As mentioned in the presentation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2219) [As mentioned in the presentation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2219) [we need to implement this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2222) [method, preparePreviewOfFile at](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2223) [URL completionHandler.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2225) [Our main app Particles already](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2227) [has a view controller class](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2230) [which [inaudible] the particle](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2232) [system on screen.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2233) [We are going to reduce](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2235) [[inaudible] controller in our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2236) [extension.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2237) [We are going to create a helper](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2239) [method that will take care of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2241) [loading such a view controller](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2242) [and adding it to the view](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2244) [hierarchy.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2245) [As you can see present](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2248) [particleViewController for a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2250) [document simply creates a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2252) [particleViewController and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2253) [passes it to the document it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2255) [received so that the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2257) [particleViewController can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2258) [render the particles that the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2259) [document represents.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2261) [We still need to call this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2264) [method from preparePreviewOfFile](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2265) [at URL, so let's do it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2266) [We first create a document that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2271) [is a subclass of [inaudible]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2274) [document.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2275) [We open it and once it is open](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2277) [and usable we call our helper](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2279) [and usable we call our helper](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2279) [method that will displace a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2281) [particleViewController.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2283) [Finally, we may not forget to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2285) [close the completion handler to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2288) [notify Quick Look that our view](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2289) [controller is loaded and ready](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2291) [to appear on screen.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2293) [Our preview extension is now](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2295) [ready.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2297) [Let's implement the thumbnail](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2298) [extension.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2299) [All we have to do here is to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2301) [implement the provideThumbnail](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2304) [for request handler method.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2306) [So request provides several](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2308) [properties that you need to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2310) [consider when rendering a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2312) [thumbnail.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2313) [In this example we will make use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2315) [of the file URL as the maximum](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2317) [size of the thumbnail.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2319) [Note that there are also a scale](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2321) [and minimum size properties, but](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2323) [in the case of our particle](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2325) [system we don't use them.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2327) [We then create a drawing block](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2329) [that we are going to provide](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2331) [later [inaudible] completion](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2332) [block.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2334) [In this case, we call the helper](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2336) [method that will take care of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2338) [method that will take care of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2338) [drawing the thumbnail,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2340) [drawThumbnail for fileURL,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2342) [contextSize.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2344) [We are going to implement this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2345) [helper method in a second.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2346) [You may have noticed that our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2348) [drawing block returns a Boolean,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2350) [this flag indicates if the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2352) [thumbnail was successfully drawn](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2353) [or not once this block will be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2355) [used to generate the thumbnail.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2357) [Let's now see how we draw our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2359) [particle thumbnails.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2361) [To draw the thumbnails we make](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2364) [use of the URL of the file and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2366) [of the size of the context we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2369) [will draw into.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2370) [In this case, we all know the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2372) [maximum size of the thumbnail](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2373) [request since we can generate](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2375) [particle thumbnails of any size.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2377) [Our method first creates a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2379) [document that represents the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2381) [file and attempts to open it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2383) [If this fails it returns false](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2386) [to indicate that it could not](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2388) [generate a thumbnail.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2389) [After opening the file it then](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2390) [creates a particleViewController](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2394) [that will be used to render the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2396) [particles file.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2397) [Then it takes a snapshot of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2399) [Then it takes a snapshot of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2399) [particleViewController and uses](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2401) [it to draw the thumbnail.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2402) [We close the document before](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2405) [returning true to indicate that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2406) [we successfully have generated a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2408) [thumbnail.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2409) [Now that we have [inaudible] to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2411) [generate thumbnails we need to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2413) [create our [inaudible] reply.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2415) [We created out of the context](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2417) [size, which in this case is the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2420) [maximum size and the drawing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2423) [block.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2425) [Also we have our reply object we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2427) [provided through the completion](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2429) [handler [inaudible] parameter,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2432) [which in this case is new since](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2433) [we always add them to draw](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2435) [thumbnails for particles](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2436) [documents.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2439) [If [inaudible] while drawing it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2440) [the thumbnail block success](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2442) [value will indicate it, so the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2443) [thumbnail can be discounted](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2445) [later.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2447) [We are finally all set, let's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2448) [run this code and see how this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2449) [looks like.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2450) [Wow. We now see a beautiful](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2452) [thumbnail for our fire particles](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2454) [file.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2456) [This looks so much better than](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2457) [before.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2459) [Now let's check our preview](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2460) [extension.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2462) [Okay.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2464) [So we are in Note and Quick Look](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2465) [is still showing the blank](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2467) [screen from the previous time we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2468) [tried to previewing your file.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2469) [Let's dismiss Quick Look and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2471) [present it again.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2473) [We now see our great particles](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2476) [preview, note how easy it was to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2478) [make our custom file format](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2480) [[inaudible] in iOS.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2484) [And that's it for the demo.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2485) [So what have we learned today?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2487) [First, we have shown you how](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2489) [easy it is to add powerful](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2492) [previewing capabilities to your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2493) [application by using the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2495) [QLPreviewController of Quick](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2497) [Look.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2498) [Then we have taken a look at](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2500) [Quick Look's extension points.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2502) [Preview extension allows you to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2505) [have your custom files preview](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2507) [by Quick Look just like any](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2508) [native file type.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2510) [While the thumbnail extension is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2512) [used to provide thumbnails of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2514) [your own file types to iOS when](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2516) [needed.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2517) [Together these extensions make](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2519) [Together these extensions make](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2519) [your file formats first-class](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2521) [citizens in iOS.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2522) [And that's it for this Quick](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2526) [Look session.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2528) [If you would like to have more](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2529) [information you can check out](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2530) [Apple's website.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2532) [Thank you for your attention.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/237/?time=2533)