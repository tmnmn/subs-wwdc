WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:36:59.276 --> 00:37:02.296 A:middle
正如演讲中提到的

00:37:02.626 --> 00:37:03.796 A:middle
我们需要执行这个方法

00:37:03.796 --> 00:37:05.976 A:middle
preparePreviewOfFile(at url: 

00:37:05.976 --> 00:37:07.166 A:middle
completionHandler handler: )

00:37:07.536 --> 00:37:10.506 A:middle
我们的主要 App

00:37:10.506 --> 00:37:12.316 A:middle
《Particles》已经有一个视图控制器类

00:37:12.626 --> 00:37:13.686 A:middle
它会在屏幕上

00:37:13.686 --> 00:37:14.526 A:middle
变成 Particles 系统

00:37:15.546 --> 00:37:16.866 A:middle
我们将在我们的扩展中

00:37:16.866 --> 00:37:18.346 A:middle
减少重复的控制器

00:37:19.406 --> 00:37:21.126 A:middle
我们将创建一个 helper 方法

00:37:21.126 --> 00:37:22.716 A:middle
它将负责

00:37:22.716 --> 00:37:24.176 A:middle
加载这样的视图控制器

00:37:24.366 --> 00:37:26.316 A:middle
并将其添加到视图层级结构中

00:37:28.046 --> 00:37:30.726 A:middle
正如你看到的

00:37:30.726 --> 00:37:32.156 A:middle
现在一个文稿的 particleViewController

00:37:32.156 --> 00:37:33.656 A:middle
只是创建一个

00:37:33.656 --> 00:37:35.526 A:middle
particleViewController

00:37:35.526 --> 00:37:37.146 A:middle
并将它传递给

00:37:37.146 --> 00:37:38.426 A:middle
它接收到的文稿

00:37:38.426 --> 00:37:39.806 A:middle
这样 particleViewController

00:37:39.806 --> 00:37:41.566 A:middle
就可以呈现

00:37:41.566 --> 00:37:42.586 A:middle
文稿所代表的 Particles

00:37:44.126 --> 00:37:45.426 A:middle
我们仍然需要

00:37:45.426 --> 00:37:46.896 A:middle
从 preparePreviewOfFile() 中调用这个方法

00:37:46.896 --> 00:37:50.286 A:middle
那么我们就这么做吧

00:37:51.336 --> 00:37:54.136 A:middle
我们首先创建一个文稿

00:37:54.136 --> 00:37:56.096 A:middle
它是 UIDocument 的子类

00:37:57.136 --> 00:37:59.876 A:middle
我们打开它

00:37:59.876 --> 00:38:01.846 A:middle
一旦它打开我们就可调用

