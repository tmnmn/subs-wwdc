# Integrating with Photos on macOS

## Summary
Make your apps even better through improved integration with Photos on macOS. We'll dive deep into the Photos Project Extension API that was introduced in macOS High Sierra and update you on what's new. You'll also learn best practices for handling file promises and image URLs to better handle drag & drop from Photos to your app.

## Info
* Media
* WWDC 2018 - Session 505 - macOS
* https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/

## Text
 [[ Music ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=7) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=20) [&gt;&gt; Morning.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=23) [Good morning.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=25) [My name's Eric Hanson.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=26) [I'm the Technology Evangelist](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=27) [for the Photos platform.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=29) [And, I'm joined by three of my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=31) [colleagues from the Photos](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=32) [engineering team today to talk](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=33) [to you about integrating your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=35) [application with Photos on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=37) [macOS.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=38) [We have two key things that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=42) [we're going to talk about.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=43) [The first is a full update on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=46) [the Photos Project Extension API](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=48) [that we introduced last year in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=49) [macOS High Sierra.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=51) [And then, we're going to get](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=53) [into interacting with your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=54) [application via drag and drop.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=57) [application via drag and drop.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=57) [But first, let's talk about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=61) [Photo Project Extensions.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=62) [When iPhoto was first launched](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=67) [in 2002, Apple became one of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=69) [first companies to allow people](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=74) [to create beautiful books, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=76) [later cards and calendars.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=80) [To date over 70 million photo](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=84) [books, cards, and calendars have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=88) [been created using iPhoto and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=90) [Photos.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=92) [But, in that same amount of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=97) [time, 16 years, we've seen this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=98) [blossoming market.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=101) [There is a tremendous breadth](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=104) [now of choice for users to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=105) [create all sorts of things with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=108) [their photos, both physical and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=110) [digital.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=112) [And, it's the observance of this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=113) [amazing ecosystem that led us to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=116) [the introduction of the Photo](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=119) [the introduction of the Photo](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=119) [Project Extension API last year,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=120) [to build on that ecosystem.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=123) [We've seen some great extensions](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=126) [already.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=129) [For example, Mimeo Photos.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=131) [It lets you create these books,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=134) [and cards, and calendars of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=135) [exceptional quality.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=137) [There's Whitewall, that lets you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=140) [create gallery-quality framed](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=142) [prints from your photos.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=143) [And, we have digital services](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=145) [like Wix.com, that make it very](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=148) [easy for you to create web photo](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=150) [albums to share with your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=152) [friends and family.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=153) [And, we're now seeing some new](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=154) [extensions on the horizon.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=157) [Like this one, called Motif.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=159) [It is a brand-new fully native](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=162) [experience, integrated directly](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=165) [into Photos, coming to you this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=167) [summer.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=169) [All of this choice, this whole](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=174) [ecosystem is a tremendous](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=176) [opportunity to you, as a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=178) [opportunity to you, as a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=178) [developer.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=180) [You can take the very rich](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=182) [metadata and the context and the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=184) [image curation that we pass to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=186) [your extension, and you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=188) [build on that, using the full](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=190) [stack of native frameworks on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=192) [macOS, to create something](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=194) [really extraordinary, and new,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=196) [that delights users around the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=199) [world.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=200) [And, it's for this reason that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=205) [Apple is announcing we will be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=207) [transitioning our entire print](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=210) [product business to this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=211) [ecosystem in macOS Mojave.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=212) [Project Extensions will be the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=217) [way users will create books,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=219) [cards, calendars, all sorts of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=221) [things.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=223) [Whatever you surprise us with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=224) [with your extensions.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=226) [And, by doing this, we're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=228) [building a better Photos](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=231) [experience for everyone.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=233) [So, let's talk about what's new](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=235) [in the Extensions API.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=237) [First, with the UI.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=240) [We now take the UI of your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=243) [extension, and integrate it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=246) [directly into the Photos app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=248) [So, the sidebar that you're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=251) [familiar with is always](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=252) [available.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=254) [Right? A user can be creating a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=255) [project in one of your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=257) [extensions, and can grab content](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=258) [from the sidebar, and just drag](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=260) [and drop it right onto your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=262) [project.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=263) [Or, they could pop up to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=264) [photo search, search for a photo](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=266) [they want to use, copy it, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=269) [paste it into the project that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=271) [they're working on.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=272) [We're also allowing you to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=275) [integrate directly with the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=278) [powerful editing tools of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=279) [Photos.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=281) [For example, you may want to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=284) [allow a user to simply](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=286) [double-click on a photo to edit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=289) [it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=291) [And, you can do that now, with a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=292) [single line of API.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=293) [You can invoke the actual full](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=295) [editor of Photos.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=298) [We pushed the edit session to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=299) [We pushed the edit session to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=299) [the top of the view stack, with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=301) [that photo loaded.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=303) [Let the user make any](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=304) [adjustments they want to make.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=305) [And, we also give them access to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=307) [all of the other assets that are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=308) [used in that project.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=310) [When they're done with their](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=312) [editing session, they simply hit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=313) [the Done button, and they're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=315) [returned to the project that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=317) [they're working on.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=318) [You get a notification that the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=320) [library changed.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=322) [You can respond to that, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=323) [update your UI accordingly.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=325) [But, none of this would matter](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=329) [if it was hard to find the apps](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=332) [and the extensions that you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=334) [create.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=335) [And so, we're stepping up the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=336) [game in the discoverability of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=337) [your applications.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=340) [The Photos app links to the Mac](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=342) [App Store in the Create menu.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=344) [And now, with the brand-new Mac](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=346) [App Store, on macOS Mojave, we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=348) [actually can link directly to a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=351) [fully curated story that's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=353) [targeted specifically at the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=356) [extension experience.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=357) [And, this is an evergreen story](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=360) [that will live on.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=361) [It's something that we can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=362) [update, and feature new](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=363) [experiences, and educate users](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=365) [on new ways to do things with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=367) [their photos.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=368) [And, when a user downloads an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=370) [app from this story, they're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=373) [downloading an app that contains](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=376) [an extension.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=378) [And, historically, that may have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=380) [led you, as a developer, to put](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=382) [some time into, kind of,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=384) [educating users in your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=385) [standalone app on how to use the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=387) [extension in Photos.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=388) [But, we think we can do](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=390) [something better.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=390) [Wouldn't it be great if the user](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=392) [could download an app and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=394) [immediately launch into the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=395) [project creation experience in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=396) [Photos?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=397) [We're making that possible.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=399) [We've added a custom URL scheme](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=401) [to Photos, where you can simply](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=403) [pass in your extension](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=406) [identifier, and optionally pass](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=407) [in a category.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=409) [And, Photos will be brought to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=412) [the back-- brought to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=413) [foreground, with the options of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=415) [your extension displayed for the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=418) [your extension displayed for the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=418) [user.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=420) [So, they're immediately taken](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=422) [into the creation experience as](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=423) [a first-launch experience.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=425) [And, we think this is great.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=426) [And, finally, when they create a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=431) [project, we want those projects](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=433) [to live where they belong, right](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=436) [inside the user's Photo library.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=439) [And so, that's exactly what we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=442) [do.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=443) [We have this Project Gallery in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=443) [Photos that lets a user see all](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=445) [the things that they've created.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=447) [And we now let the extension](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=448) [create a custom preview for each](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=450) [project.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=452) [So, that preview can represent](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=454) [what the project really is.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=455) [Take this photo mug for example.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=457) [Not only can a user double-click](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=460) [on one of those projects to get](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=463) [back into your extension, to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=464) [continue to work on it, they can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=466) [create projects from other](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=468) [projects.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=469) [They can simply select a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=470) [project, go to the Create menu,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=471) [create something new from it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=473) [And, we pass over everything we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=475) [can to help your extension, kind](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=476) [can to help your extension, kind](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=476) [of, start with some great](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=480) [context.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=481) [But, in the case of the Apple](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=483) [projects, we can do a lot more.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=484) [And so, we do.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=486) [We send you photo-by-photo,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=488) [page-by-page exactly how that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=491) [was laid out.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=493) [So that your extension can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=495) [create a complete conversion](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=496) [experience from the Apple](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=498) [projects.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=499) [And, we highly encourage you to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=500) [do this.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=501) [So, that's just a very](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=502) [high-level, from a UI](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=506) [perspective, of some of what's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=507) [new.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=508) [But, we'd like to take you a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=509) [little deeper.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=510) [And, to do that, I'd like to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=511) [invite to the stage, my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=512) [colleague from Photos](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=513) [engineering, Tobias Conradi.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=514) [Tobias.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=515) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=516) [&gt;&gt; Good morning.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=522) [Thank you, Eric.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=523) [Hello, my name is Tobias](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=524) [Conradi.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=525) [I'm an engineer on the Photos](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=526) [team, and I will go into detail](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=527) [for some of the changes we did](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=529) [around Photos Project](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=530) [Extensions.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=531) [First up, the Create menu.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=532) [When we first introduced Photos](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=535) [Project Extensions in macOS High](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=536) [Sierra, we put all extensions as](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=538) [Sierra, we put all extensions as](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=538) [a flat list into the Create](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=540) [menu.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=542) [But, as it turns out, in some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=543) [cases, it's kind of hard to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=544) [guess, just from the name of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=546) [extension what kind of projects](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=548) [you can create with that.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=549) [We want to improve the user](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=551) [experience, so we are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=552) [introducing project categories.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=554) [The new Create menu in macOS](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=556) [Mojave looks something like](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=558) [this.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=559) [We have categories, submenus in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=560) [the Create menu.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=563) [And, the categories we're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=565) [introducing this year are Books,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=566) [Calendars, Cards, Wall Decor,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=568) [Prints, Slideshows, and for any](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=570) [extension that doesn't fit into](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=573) [these categories, Other.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=574) [Now the user can go into the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=577) [menu with a very specific](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=578) [intent.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=580) [For example, I want to create](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=580) [wall decorations, and these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=582) [[inaudible] all extensions that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=585) [support projects in that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=586) [category.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=588) [How does the extension show up](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=589) [in the category?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=591) [We have a new key in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=592) [extensions attribute dictionary](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=594) [in the extensions info.plist.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=596) [It's called PHProjectCategory.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=598) [And, the value for the key, is a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=600) [list of the supported project](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=602) [categories.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=604) [In this case, it's Wall Decor](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=605) [and Other.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=606) [The next thing the user sees](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=609) [from the extension, is the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=611) [[inaudible] sheet.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=613) [You provide us with the data,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=614) [and we display the project type](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=616) [descriptions you provide.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=621) [The problem with the API we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=623) [introduced last year is that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=625) [it's kind of hard to provide](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=627) [up-to-date price information or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=630) [current offers.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=631) [That's why we're introducing a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=632) [new, improved API to allow for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=634) [dynamic updates, which would](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=637) [look like this.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=638) [In addition to dynamic updates,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=639) [we now also support display of a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=642) [custom footer text at the bottom](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=644) [of the sheet, which you can use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=646) [to display legal text if you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=648) [have the requirement to do so.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=649) [On an API level, the new dynamic](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=653) [API looks like this.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=657) [We have the new method on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=659) [We have the new method on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=659) [projectExtensionsController](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=660) [protocol, and we ask for a data](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=662) [source, instead of a list of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=665) [product type descriptions.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=666) [And, pass in the category from](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=668) [the menu in which the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=670) [selection-- the extension was](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=671) [selected.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=672) [And also, an invalidator object.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=673) [Once you return the data source,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=675) [we ask the data source for the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=677) [project type descriptions, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=679) [for the optional footer text.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=681) [Whenever your extension has the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=683) [need to invalidate the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=684) [information returned, you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=686) [use invalidator to invalidate](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=687) [the project type descriptions,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=689) [or the footer text, and when](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=690) [necessary, photos will refetch](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=692) [the data from the data source,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=694) [and display the up-to-date data](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=696) [in the UI.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=697) [The next topic is the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=702) [projectInfo.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=703) [The projectInfo is structured,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=705) [additional information about the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=707) [contents of the project.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=708) [And, it's structured into](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=710) [sections, and sectionContents](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=712) [which reflect creation level.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=714) [And, the elements have basic](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=717) [layout hints, and also weights](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=719) [layout hints, and also weights](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=719) [and scores for the assets.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=723) [And, assets can contain](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=725) [important regions in the asset's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=727) [regions of interest.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=729) [This is just a quick reminder](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=730) [what the projectInfo looks like.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=733) [If you want to know more about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=734) [the projectInfo, I highly](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=735) [recommend last year's session,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=736) [What's New in Photos API.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=738) [The projectInfo is handed to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=744) [your extension during begin](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=746) [project.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=749) [And, whenever the user adds new](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=750) [assets to the project, the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=753) [projectInfo will be outdated,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=755) [because it's a static object.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=756) [And, we want to solve the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=758) [problem by introducing new API](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=760) [on the projectExtensionsContext](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=761) [to get updated project info,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=763) [with the current state of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=766) [project.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=767) [Let's take this as an example.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=768) [We handed you this projectInfo](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=769) [during project creation, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=771) [then the user added some more](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=773) [assets to the project.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=774) [You can then call the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=775) [updatedProjectInfo method, with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=777) [this projectInfo, and we will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=779) [this projectInfo, and we will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=779) [update any existing sections,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=781) [and append a new section for any](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=783) [added assets.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=784) [If the user adds some more](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=786) [assets, you can do the same](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=787) [again.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=788) [Pass in this project info, we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=789) [will update the existing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=790) [sections, and append a new](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=791) [section for any added assets.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=793) [Let's now go into a more](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=795) [detailed element of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=798) [projectInfo, the regions of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=799) [interest.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=801) [The regions of interest](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=802) [highlight important regions in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=803) [the asset.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=805) [For example, the faces of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=806) [people.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=807) [And, if the same person appears](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=808) [in multiple images, the region](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=811) [of interest identifier will be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=813) [the same for the same person.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=815) [Let's focus on Person B for a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=818) [moment.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=819) [In addition to the region of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=821) [interest identifier, we have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=823) [weight on the regions of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=825) [interest, which represents the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=827) [importance of the region of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=830) [interest in the project.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=832) [But, if you want to decide which](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=835) [image to pick as a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=837) [representative image for a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=838) [representative image for a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=838) [person, or for a region of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=840) [interest, it's kind of hard to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=841) [do with this API.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=842) [That's why we're adding a new](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=844) [quality score, which represents](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=845) [the quality of the region of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=848) [interest in the asset.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=850) [On the left-hand side, the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=852) [Person B is kind of out of focus](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=854) [and not really central to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=856) [image, while on the right-hand](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=857) [side, he's really in focus.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=858) [That's why the quality score on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=860) [the right-hand side is higher](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=862) [than on the left-hand side.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=863) [On an API level, that looks like](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=867) [this.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=868) [We have this alt weight, which](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=869) [is the importance of the region](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=870) [of interest in the context of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=872) [the project.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=874) [And then, the quality in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=875) [asset.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=878) [I would now like to show you a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=879) [quick demo, how you can use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=881) [regions of interest in your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=883) [extension to improve the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=884) [experience, and also listen to a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=885) [library notification to get](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=887) [notified whenever the assets or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=888) [the project changes.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=890) [And, use a new updateProjectInfo](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=892) [API.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=894) [OK. I created a slideshow](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=903) [extension, and to show you how](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=907) [it looks like, I selected some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=911) [assets in an album, and will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=912) [create a new project with the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=915) [extension.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=917) [The extension has two views, one](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=919) [is the overview, which contains](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=922) [all assets of the project.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=923) [And, the other is the playback](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=925) [modus, which plays the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=927) [slideshow.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=928) [As you might notice, the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=931) [slideshow always zooms into the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=932) [center of the image, which is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=934) [kind of boring.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=936) [And, I want to use regions of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=938) [interest to always zoom into](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=939) [interesting regions in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=941) [photo.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=943) [So, let's switch to Xcode to fix](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=944) [that.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=949) [Here in my asset model, I have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=950) [this property,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=951) [preferredZoomRect, and it always](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=953) [returns the same rect, which is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=954) [kind of boring.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=957) [So, let's replace it with the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=958) [code.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=959) [code.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=959) [What I want to do is to get all](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=966) [regions of interest from the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=968) [asset element, and then sort](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=969) [them by their weight and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=971) [quality.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=973) [And, from the sorted list of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=974) [regions of interest, we want to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=977) [get the last element, and return](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=978) [its rect.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=980) [If we now rerun the extension--](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=982) [We always zoom into the most](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=998) [important region of interest in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1000) [the asset.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1002) [I think that looks way better.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1004) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1005) [So, next, I want to add some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1009) [more assets to the project.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1010) [I grab an album in the sidebar](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1011) [and drag it over the extension.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1013) [There's a plus next to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1015) [cursor, so it looks like the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1016) [extension accepts the drag.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1017) [I release the mouse and nothing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1019) [I release the mouse and nothing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1019) [happens.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1021) [The assets were added to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1022) [project, but my extension](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1024) [doesn't list the change](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1026) [notification.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1027) [And, doesn't know that assets](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1028) [were added to the project.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1030) [So, let's switch back to Xcode](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1032) [and fix that.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1034) [In my projectViewController, I](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1036) [have the begin and resumeProject](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1038) [method, which are a part of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1040) [projectExtensionController](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1041) [protocol.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1044) [And, here I want to register for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1045) [change observation.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1047) [And, we add the same code in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1048) [both methods.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1052) [First, we get the PhotoKit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1053) [object we're interested in.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1057) [We're interested in additions of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1059) [assets to the project, so we are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1062) [getting a fetch result for all](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1064) [assets on the project, and then](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1065) [we are registering asset change](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1068) [observer for the library.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1069) [In finished project, we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1071) [[inaudible] registering.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1073) [And, since Xcode complains that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1075) [we don't implement the protocol,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1077) [we add that.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1079) [we add that.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1079) [Change observer.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1081) [And, down here--](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1082) [We implement](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1089) [photoLibraryDidChange.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1090) [PhotoLibraryDidChange is called](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1092) [whenever anything changes in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1094) [photo library, and we get a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1096) [change instance as a method](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1100) [argument.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1102) [We can ask the change engine](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1102) [instance for changeDetails of an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1105) [object we're interested in.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1107) [We're interested in the changes](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1108) [of the fetchAllAssets on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1110) [project, so we pass that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1112) [fetchResult in.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1114) [And, if change results are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1115) [returned, we update our locally](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1118) [cached fetch result with the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1121) [fetchResultsAfterChanges, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1123) [get the projectExtensionContext,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1125) [and call updatedProjectInfo.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1127) [And pass in the project info we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1130) [have.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1133) [Once the updatedProjectInfo is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1133) [returned to us, we call the same](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1135) [setup code, but you could do](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1137) [something more sophisticated in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1139) [something more sophisticated in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1139) [here.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1140) [Let's rerun the project again.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1142) [OK. I can now drag the album](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1159) [from the sidebar, release it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1163) [over the extension, and the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1167) [assets are added to the project,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1170) [and the extension listens to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1172) [photo library change](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1174) [observation, gets notified of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1176) [the change, and we update our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1177) [project info.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1179) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1180) [So, as you just saw, with only a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1188) [few steps, I was able to improve](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1191) [my extension by using the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1192) [projectInfo, and the regions of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1195) [interest in the projectInfo, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1197) [also registering asset change](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1199) [also registering asset change](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1199) [observer to get notified](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1201) [whenever anything changes in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1203) [photo lobby, and also update my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1204) [project info.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1206) [There are two things I want to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1210) [highlight with integration.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1211) [By default, Photos handles copy](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1213) [and paste of assets or albums](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1216) [from Photos into the extension.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1217) [But, if your extension also](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1220) [wants to implement the paste](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1222) [section, which you should](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1223) [probably do for text and things](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1224) [like that, we need your help to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1225) [know when your extension should](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1227) [handle the paste section, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1229) [when Photos should try to handle](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1230) [the paste section.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1232) [So, please implement](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1233) [validateMenuItem, and if the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1234) [menu action is a paste action,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1237) [check if your extension can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1239) [handle the current pasteboard](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1241) [contents, and if no, return](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1242) [false, and we will try to handle](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1244) [it as Photos.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1246) [And, otherwise, if you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1247) [handle it, return true, and your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1249) [photos will get the paste](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1251) [action.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1252) [Something similar applies to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1253) [drag and drop.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1255) [Photos handles any drags of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1256) [PhotoKit objects to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1258) [PhotoKit objects to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1258) [extension by default, but your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1261) [extension can potentially](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1263) [interfere with that if you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1264) [register for the wrong types.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1265) [So, please be careful what types](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1267) [your extension is registering](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1268) [for, and only register for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1270) [extension internal drags, or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1272) [other drags you really want to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1274) [handle.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1276) [Be especially careful if you use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1276) [WKWebView, because it registers](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1279) [for a bunch of drag types by](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1281) [default.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1286) [That was everything about photo](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1286) [project extensions.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1288) [Let me now hand over to my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1289) [colleague Sanaa to talk about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1290) [integrating with Photos--](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1292) [interacting with Photos as a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1293) [third-party application.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1295) [Thank you.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1296) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1297) [&gt;&gt; Thank you, Tobias.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1300) [Hello, everyone.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1301) [My name is Sanaa.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1303) [I am a Photos engineer, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1304) [today with my colleague Joachim,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1306) [we are going to talk about some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1307) [best practices for receiving and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1308) [providing images or videos](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1311) [between apps on macOS, using](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1312) [drag and drop.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1314) [Drag and drop is one of the most](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1315) [intuitive and easiest way to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1319) [intuitive and easiest way to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1319) [move items from one place to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1320) [another.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1321) [But, sometimes, you might have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1323) [encountered this situation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1324) [instead.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1325) [If this is something happening](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1330) [with your app, then you are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1331) [sitting in the right session.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1332) [So--](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1333) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1334) [Let's take a step back to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1338) [understand what's happening](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1339) [here.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1340) [Drag and drop on macOS is using](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1342) [NSPasteboard, and when it's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1344) [wrapped in with the pasteboard,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1347) [reading and writing data happens](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1348) [on the main trade, for both the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1350) [receiving and providing apps.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1351) [In the past, since all local was](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1354) [stored on local disk, you could](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1356) [put the file URL's into the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1359) [pasteboard.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1360) [But, things have changed today.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1361) [Images or videos might not be on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1364) [disk if the user is using](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1366) [iCloud, so Photos, we need to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1368) [download the full resolution](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1370) [item first, before putting the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1371) [file URL into the pasteboard.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1373) [Also, Photos respect the privacy](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1375) [settings of drag and drop, so if](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1378) [settings of drag and drop, so if](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1378) [the user choose to save the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1381) [location information, then](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1382) [Photos will export a new file](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1384) [which does not contain this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1386) [metadata.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1387) [Both downloading and exporting](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1389) [file takes time, and you don't](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1390) [want to do that on the main](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1392) [trade, since it's going to block](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1393) [your app UI.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1396) [So, in order to fix this, we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1399) [need an asynchronous API.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1401) [In fact, we do have one, it's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1404) [called file promises.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1407) [File promise is a promise of--](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1410) [that's a file of a certain type](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1412) [that does not exist yet on disk,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1415) [will be written in a provided](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1416) [location.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1418) [It also allows the sender to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1419) [write files in the background.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1421) [There are two ways to interact](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1425) [with file promises: receiving](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1427) [files by using](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1429) [NSFilePromiseReceiver and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1430) [providing files by using](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1432) [NSFilePromiseProvider.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1433) [Both of these modern API's have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1435) [been introduced two years ago](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1437) [with macOS Sierra.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1439) [with macOS Sierra.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1439) [So, let's start first with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1440) [receiving file promises.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1442) [As a general rule, apps](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1449) [supporting drag and drop should](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1451) [always accept both file URL's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1452) [and file promises.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1455) [And, I'll explain why.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1456) [There are multiple apps](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1458) [providing file promises.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1461) [Photos is using file promises](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1463) [when dragging an image, a video,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1465) [or entire album, and since macOS](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1468) [Mojave, you can-- we added the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1470) [ability to drag the people or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1472) [memories.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1475) [So, we are not the only app](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1477) [using file promises.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1478) [Mail is using file promises when](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1480) [dragging a message to Finder, to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1482) [save the entire email, including](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1484) [attachments.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1485) [Safari is using file promises](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1487) [when dragging an image.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1489) [And, Keynote is using file](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1491) [promises when dragging a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1494) [selection of slides to create a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1495) [new document containing those](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1497) [slides.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1498) [So, if you want to receive files](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1499) [So, if you want to receive files](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1499) [from those apps, or any app](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1502) [providing file promises, then](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1504) [your app needs to read file](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1505) [promises, and need to accept](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1507) [those files.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1508) [So, let's see how we can do that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1509) [by looking at some code.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1511) [First, during setup, a view must](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1512) [register what types it'll accept](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1517) [by calling](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1518) [registerForDraggedTypes.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1519) [And, in order to accept file](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1521) [promises, you can use the class](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1523) [property readableDraggedTypes on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1525) [NSFilePromiseReceiver.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1528) [Then, when performing the drag](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1531) [operation, and when enumerating](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1534) [or draggingItems, you should add](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1537) [support to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1540) [NSFilePromiseReceiver, and make](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1540) [sure to handle it first.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1543) [Because it's more likely to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1545) [contain the highest quality](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1546) [representation.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1548) [For each filePromiseReceiver,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1549) [you call in the promise, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1554) [when the file is ready, then the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1557) [when the file is ready, then the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1557) [reader block is called on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1560) [provided operationQueue, where](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1562) [you can handle the file.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1564) [It's very important to provide a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1565) [background operationQueue to not](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1569) [block the main trades while](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1572) [waiting for the file to be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1574) [downloaded over-- to be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1575) [downloaded, to be written by the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1579) [source file.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1580) [Because this process can take a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1582) [long time, and you don't want--](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1583) [especially if the file needs to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1586) [be downloaded over a slow](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1588) [network.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1590) [So, for a better user](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1590) [experience, you need to display](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1594) [a loading activity, and when the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1597) [file is ready, then you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1599) [replace the UI with the real](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1601) [content.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1602) [Here you will see an example of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1603) [Mail, showing a placeholder UI](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1607) [while waiting for the image to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1611) [be downloaded via file promises.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1613) [So, that was receiving file](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1621) [promises.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1622) [Now, let's see how we can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1623) [provide file promises.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1625) [And, you should consider](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1627) [implementing this in your app,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1629) [if the data you want to send](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1631) [over drag and drop does not](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1632) [exist yet on disk.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1634) [So, let's have a look on how we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1636) [can do that by looking at the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1638) [API.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1640) [First, you will need to create](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1645) [an instance of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1647) [NSFilePromiseProvider.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1648) [You should create one instance](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1651) [for each promised file.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1653) [And, before writing the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1655) [filePromiseProvider object to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1657) [the pasteboard, it must contain](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1659) [a file type, and a delegate.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1661) [These delegate is doing the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1664) [heavy lifting of writing files](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1665) [to disk.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1666) [There are only three methods for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1668) [NSFilePromiseProvider delegates.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1670) [The first one is called by the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1673) [drag destination, and returns](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1674) [the file name, not the full](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1677) [path.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1678) [The second one return an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1679) [The second one return an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1679) [operationQueue, and when-- an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1683) [operationQueue where the file,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1687) [it will be written.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1688) [And, we highly recommend that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1690) [you implement this optional](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1692) [method, and provide a background](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1695) [operationQueue, since otherwise,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1696) [the main queue will be used](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1699) [otherwise.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1701) [And, finally, writePromise to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1704) [file is called, asking you to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1706) [write file to disk.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1708) [And, when you are done, remember](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1711) [to call the completion handler.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1713) [So, that was receiving file](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1715) [promises-- providing file](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1718) [promises, and we have covered](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1720) [the API to-- that you can use to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1722) [adapt your app to receive and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1725) [provide file promises.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1727) [And now, I'd like to invite](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1728) [Joachim on stage to show you all](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1731) [of that in a sample app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1732) [Thank you.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1734) [Joachim?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1734) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1735) [&gt;&gt; Thank you.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1739) [Good morning.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1742) [We're going to look at a simple](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1743) [beam generator app, which has a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1745) [few issues with drag and drop.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1747) [And we're going to dive into](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1748) [Xcode, and try to fix those](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1749) [issues together.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1751) [So, here is my simple app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1760) [And, I can just grab a file I](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1761) [have here on desktop, and drop](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1763) [it onto its window.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1766) [Just like that.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1767) [On the upper right, I have a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1769) [little button, where I can add a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1770) [text box, and I can add some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1772) [text to my image.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1775) [I can select it, move it around,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1778) [and when I'm ready, I can send](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1780) [it over iMessage, for example.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1785) [So, while this image is great, I](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1792) [really want to use an image I](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1795) [found on the web.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1796) [So, let's open up Safari, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1797) [try to drag this image onto our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1800) [app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1803) [Unfortunately, this doesn't](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1806) [work.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1808) [So, let's jump to Xcode, and see](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1809) [if we can fix that.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1812) [Here I am in the main](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1817) [viewController of our app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1818) [And, we going to jump straight](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1820) [to view [inaudible].](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1822) [And, have a look at what's going](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1824) [on.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1826) [Right here, we're only](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1826) [registering for file URL's.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1830) [So, let's fix that, and register](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1833) [for FilePromiseReceiver as well.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1835) [Next, when handling the drag](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1841) [operation, we need to take care](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1845) [of FilePromiseReceiver as well.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1847) [So. Let's jump to the next](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1851) [method right here.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1854) [So, here is the list of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1856) [supported classes, and we only](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1857) [supported classes, and we only](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1857) [have NSURL.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1860) [So, we're going to add at the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1861) [first index,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1863) [NSFilePromiseReceiver.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1866) [In the enumeration method here,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1875) [we're going to add a new case.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1877) [Where we're going to receive the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1886) [promised files, and if we get a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1889) [file URL, we're going to call](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1891) [the exact same method we will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1893) [have called if we had just](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1895) [gotten the file URL over drag](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1897) [and drop.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1899) [So, let's see if it works.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1899) [So, here's the little app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1908) [Let's go back to Safari, take](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1910) [the image, and drop it onto the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1912) [window.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1914) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1915) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1915) [So, that was pretty easy.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1920) [I only had to modify two](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1921) [existing methods in order to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1923) [accept file promises.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1925) [Now. Let's add some text.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1929) [Like this.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1935) [And, wouldn't it be great if I'm](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1936) [not quite ready to send out my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1938) [meme to somebody, if I could](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1939) [just drag it onto the desktop to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1940) [save it as an image file?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1943) [As you can see, this doesn't](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1944) [work.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1948) [So, let's jump back to Xcode and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1949) [fix this as well.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1951) [At the bottom of the class, we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1958) [have this method which returns](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1959) [an object conforming to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1961) [NSPasteboardWriting, and as you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1962) [can see, we're just returning a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1965) [simple NSImage here.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1967) [So, we're going to replace it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1969) [with a filePromiseProvider.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1971) [So, we're creating a file](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1977) [provider, and we're going to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1978) [provider, and we're going to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1978) [provide a JPEG image.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1980) [And, we're going to use this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1983) [userInfo property to store the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1985) [snapshotItem, which we're going](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1987) [to use later to write out the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1989) [file to disk.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1990) [As a next step, let's conform to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1994) [NSFilePromiseProviderDelegate.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=1996) [Just like this.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2002) [Jump back down.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2004) [And, implement the three](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2006) [delegate methods you heard about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2007) [just before.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2008) [The first one returns the file](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2010) [name.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2014) [For simplicity, we're just](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2016) [returning a static file name](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2017) [here.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2019) [The second one returns an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2021) [operationQueue.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2022) [And, we happen to have one right](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2024) [here.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2026) [And, the third method is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2027) [actually going to write the file](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2029) [to disk.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2031) [So, what's happening here, is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2038) [So, what's happening here, is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2038) [that we're getting the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2040) [snapshotObject out of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2041) [filePromiseProvider object, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2042) [we're going to use its JPEG](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2046) [representation to write the file](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2048) [to disk.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2050) [So, let's have a look.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2052) [This time, we're going to jump](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2059) [to Photos.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2061) [Going to take this image, drag](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2062) [it into our app, add some text.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2068) [And, drop it onto the Finder](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2076) [desktop.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2079) [And, here we are.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2080) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2082) [So, if you just follow the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2095) [simple steps I just showed you,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2096) [you can add support for file](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2098) [promises to your app, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2099) [promises to your app, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2099) [improve the user experience.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2101) [And, with that, I'd like to hand](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2104) [it back to Eric.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2106) [Thank you.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2107) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2108) [&gt;&gt; Great stuff.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2112) [Great stuff.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2114) [I hope you really enjoyed that.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2114) [I just have a few words, just in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2115) [summary.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2117) [To, kind of, tie this all](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2118) [together.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2120) [And, I'll start by saying, you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2121) [know, photos really, really](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2123) [matter to all of us.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2126) [Right? Millions and millions of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2129) [people around the world take](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2130) [millions of photos every day.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2132) [And, all of those photos find a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2135) [home inside the Photos app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2137) [But, they're nothing if they](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2139) [can't be shared.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2142) [If they can't be shown.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2144) [If they can't be preserved into](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2145) [beautiful keepsakes.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2147) [And so, all of these people](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2149) [capturing all of these images,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2151) [they rely on you, the developer,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2153) [to create amazing apps that let](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2155) [them do creative things with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2157) [those images.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2158) [So, if you only remember two](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2160) [things from this session today,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2161) [please remember this.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2163) [Support file promises.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2165) [You saw it's really easy to have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2167) [some very immediate interaction](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2169) [with the Photos app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2171) [Please, please do that.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2173) [And, secondly, we strongly](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2175) [encourage you to explore all of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2177) [the API that's available to you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2179) [in the project extension](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2180) [experience within Photos.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2182) [Going back to what I said at the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2184) [beginning, this is a blossoming](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2187) [ecosystem.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2189) [And, there's a tremendous](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2190) [opportunity to embrace it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2191) [And, collectively for us to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2193) [create a better Photos](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2195) [experience for everybody.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2196) [So, with that, please join us in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2200) [the lab this afternoon.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2202) [We have tons of engineers on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2204) [staff to help you with any of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2206) [your PhotoKit questions, Photos](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2208) [extensions, be it iOS, macOS, we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2210) [really look forward to talking](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2213) [to you there.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2214) [And, enjoy the rest of your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2216) [WWDC.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2218) [Thank you.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2218) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/505/?time=2219)