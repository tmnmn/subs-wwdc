WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:25:59.693 --> 00:26:03.764 align:middle line:-2
读取器块会在所提供的
operationQueue上被调用

00:26:03.830 --> 00:26:05.399 align:middle line:-1
你可以在那里对文件进行处理

00:26:07.501 --> 00:26:11.171 align:middle line:-2
提供后台operationQueue
是很重要的

00:26:12.406 --> 00:26:17.077 align:middle line:-1
可以在等待文件下载完成

00:26:18.078 --> 00:26:21.515 align:middle line:-2
下载或被源文件写入时
不会阻塞主交易

00:26:22.249 --> 00:26:26.186 align:middle line:-1
因为这个过程会花很长时间

00:26:26.753 --> 00:26:30.724 align:middle line:-2
你不应该在缓慢的网络中
下载文件的时候使用它

00:26:33.560 --> 00:26:38.532 align:middle line:-2
为了获得更好的用户体验
你需要显示一个载入活动

00:26:39.099 --> 00:26:40.300 align:middle line:-1
当文件准备好的时候

00:26:40.367 --> 00:26:43.604 align:middle line:-1
你可以用真实的内容来替换UI

00:26:45.873 --> 00:26:48.442 align:middle line:-1
这里你可以看到一个邮件的例子

00:26:49.576 --> 00:26:52.446 align:middle line:-1
在等待通过文件承诺来下载图片时

00:26:52.513 --> 00:26:55.816 align:middle line:-1
会显示一个占位的URL

