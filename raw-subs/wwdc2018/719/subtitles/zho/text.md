# Core Image: Performance, Prototyping, and Python

## Summary
Core Image is the essential framework for handling image processing tasks in your photo and video apps. In this session, we'll explore new additions to the framework that allow you to achieve great performance in your filter chains and custom CIKernels. We'll also demo a new approach to prototyping in Core Image through the use of an interactive Python environment. Through these techniques you'll discover new ideas for building new creative effects as well as practical approaches to batch processing images for tasks such as image compositing and data boosting for machine learning.

## Info
* Graphics and Games
* WWDC 2018 - Session 719 - iOS, macOS
* https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/

## Text
 [（Core Image：
性能、原型和Python）](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=17) [（演讲719）](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=21) [好](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=23) [谢谢](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=24) [大家下午好](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=27) [感谢今天参加
Core Image会议](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=28) [我叫David Hayward](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=31) [我很高兴能够向大家介绍
我们团队在最近一年](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=32) [添加到Core Image的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=35) [新性能及原型功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=39) [我们有很多内容
所以让我们进入议程](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=41) [今天要谈的第一件事就是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=44) [我们添加到Core Image的
一些很棒的新API](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=46) [用以提高app的性能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=49) [之后 我们将转入另一个话题](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=52) [即如何使用Core Image](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=55) [以帮助原型新算法的开发](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=56) [最后 我们将讨论
如何使用Core Image](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=59) [最后 我们将讨论
如何使用Core Image](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=59) [配合各种机器学习app](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=62) [好 让我们开始](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=67) [首先我们来说说性能API](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=69) [今年 我们重点在两个领域](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=71) [致力于提高性能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=74) [首先 我们新添了一些对插入](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=75) [中间缓冲区的控制](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=78) [我们将详细讨论这个问题](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=79) [第二 我们将谈谈](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=81) [你可以利用的
一些新CI内核语言功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=83) [我们先来谈谈中间缓冲区](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=88) [若你曾用过Core Image
那么你知道](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=93) [Core Image让你轻松地
将过滤器序列连接在一起](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=95) [Core Image中每个过滤器
都由一个或多个内核组成](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=100) [Core Image的一项重要的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=104) [提高性能的功能是连接内核](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=106) [以减少中间缓冲区的数量](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=109) [许多情况下
要获得你想要的最佳性能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=112) [你需要尽量减少缓冲区数](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=114) [但是 有一些情况](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=117) [你不希望最大量地连接](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=119) [你不希望最大量地连接](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=119) [例如 你的app里
可能有一个昂贵的过滤器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=123) [在过滤器链的早期](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=126) [你的app的用户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=129) [在某个时刻可能正在调整](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=130) [在图中跟随它的过滤器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=133) [这是一个经典的情况](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=135) [中间缓冲区是个好主意](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=136) [在介于两者之间的位置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=140) [通过设这个中间缓冲区](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=142) [调整辅助过滤器时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=146) [无需两次付出](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=148) [昂贵的过滤器的成本](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=150) [那么如何在app中操作？](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=154) [我们有一个新的API 顾名思义](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=156) [insertingIntermediate](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=158) [我们谈谈这会如何影响我们的结果](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=160) [我们所做的不是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=163) [尽可能多地连接](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=165) [我们会尊重中间缓冲区的位置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=166) [并尽可能多地连接它](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=169) [这里有几点说明](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=173) [要记住一件事](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=174) [默认情况下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=175) [Core Image
对所有中间缓冲区作缓存](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=177) [为后续生成作准备](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=179) [为后续生成作准备](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=179) [使之速度会更快](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=182) [但是 有些时候](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=184) [你会想关闭中间缓冲区的缓存](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=186) [例如 如果你的app将要批量导出](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=189) [100张图片](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=193) [缓存第一个无益](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=194) [因为后续生成的图像将完全不同](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=197) [所以 你可以在你的app中实现它](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=200) [使用上下文选项
cacheIntermediates](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=202) [并将该值设置为false](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=205) [但如果你也在使用这个我们刚谈到的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=208) [新API](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=211) [你仍然可以打开中间缓冲区的缓存](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=212) [即使此上下文选项是关闭的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=215) [所以 这可以让你真正确保](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=218) [缓存需要的 不缓存任何其它内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=220) [我想谈的下一个主题](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=225) [是我们添加到内核语言的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=227) [一些应用图像处理的新功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=231) [请记住 我们有两种方法](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=235) [在Core Image中编写内核](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=237) [传统的方法是CI内核语言](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=240) [在这种情况下
源文件中有一个字符串](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=243) [你的Swift代码
或你的objective C代码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=246) [在运行时 你调用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=249) [内核及源代码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=251) [稍后 当你基于该内核创建图像时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=254) [你可以生成任何类型的CI上下文](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=258) [不论该上下文是由Metal
还是Open GL支持](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=261) [然而 当生成时 需要翻译该源](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=266) [需要将其翻译为
Metal或GLSL](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=270) [并且这个步骤有成本](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=273) [最后 该代码被编译为GPU指令集](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=276) [然后执行](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=280) [从去年的iOS 11开始](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=282) [我们添加了一种
编写CI内核的新方法](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=284) [具有一些显著优势](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=287) [这就是基于
Metal着色语言的CI内核](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=289) [这种情况下 你的项目中有源代码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=292) [并且此源是在build时
而不是在运行时编译的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=295) [并且此源是在build时
而不是在运行时编译的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=295) [和以前一样
你可以根据此代码建内核](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=301) [使用带有Metal函数名
和二进制数据的内核](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=306) [其优势点是可以应用此数据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=312) [而无需耗用额外编译资源](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=316) [需要注意的是
它适用Metal支持的CI上下文](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=319) [但它带来了巨大的性能优势](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=324) [所以 从这个版本开始](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=327) [我们将把CI内核语言标为已弃用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=329) [因为 虽然我们会继续支持这种语言](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=333) [我们认为编写
Metal内核的新方法](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=337) [为作为开发人员的你提供了很多优势](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=339) [首先 你获得了
我之前概述的性能优势](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=342) [它同时还提供了
build时代码语法着色](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=345) [和优秀的调试工具的优势](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=350) [如果你使用Metal源的话](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=352) [好](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=357) [考虑到这一点 我想谈谈其它几个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=363) [我们添加到内核语言中的功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=366) [首先 我们增加了半浮动支持](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=369) [很多情况下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=372) [当你的CI内核可完全](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=374) [满足于半浮动带来的精度](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=378) [如果你使用RGB颜色值](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=380) [半浮点精度绰绰有余](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=382) [在内核中使用半浮点数的优点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=385) [是它使操作运行得更快](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=387) [尤其是在A11设备上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=389) [如iPhone 10](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=391) [在内核中用半浮点数的另一个优点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=393) [它允许更小的寄存器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=396) [增加了GPU的利用率](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=397) [这也有助于提高性能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=400) [今年我们在内核语言中
加了另一个精彩的功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=402) [即对组读取的支持](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=405) [只用一条指令
你的着色器能够执行](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=407) [来自输入图像的四个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=409) [单通道读取](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=412) [这真的有很大帮助](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=414) [作为补充](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=416) [我们还可以写像素组](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=418) [我们还可以写像素组](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=418) [即只需在着色器中一条指令
你就可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=421) [写入图像的四个像素](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=424) [所有这三个功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=428) [都可以用于着色器中极大地提高性能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=430) [我来谈一谈如何运作的例子](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=435) [想象一下你有一个简单的
3乘3卷积内核](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=438) [用于一个图像的一个通道](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=443) [这是一种相当常见的操作](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=446) [例如要锐化图像的亮度](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=448) [在这样的内核中
通常每次调用内核时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=451) [它负责产生一个输出像素](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=455) [但是因为这是一个三乘三的卷积](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=459) [你的内核需要读取9个像素](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=462) [以达到这个效果](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=465) [因此 我们每写一个像素
就需读取个像素](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=467) [但我们通过新的组写功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=471) [改进这一点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=472) [使用新的组写功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=476) [你的内核可以一次调用
写出二乘二的一组像素](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=478) [你的内核可以一次调用
写出二乘二的一组像素](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=478) [当然这二乘二小组有点大](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=483) [所以不再是三乘三](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=486) [而是四乘四像素读取](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=488) [以写出这四个像素](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=491) [我们算一下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=494) [这意味着我们有16像素读取
4像素写入](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=495) [所以我们已经看到了这方面的优势](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=499) [我们的另一个功能是收集](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=504) [在这个例子中
我们读取4乘4或16像素](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=509) [有了这个功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=513) [我们只需要四条指令
即可完成这16个红色像素](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=514) [如果你计算一下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=519) [这意味着我们每写入四个像素](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=521) [只进行了四次读取](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=523) [这确实有助于提高性能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=525) [我们通过实际内核代码
了解一下这个过程](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=527) [这是一个简单卷积的例子](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=531) [就像我刚才描述的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=535) [这里 我们从输入图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=537) [做九个样本](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=539) [做九个样本](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=539) [我们只用它的红色通道](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=541) [一旦我们得到这九个值](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=544) [我们将对这九个值进行平均](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=545) [并以传统方式写出来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=547) [返回单个vec4像素值](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=549) [加速的第一步
是将其转换为Metal](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=554) [这实际上很简单](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=557) [我们从像这样的代码开始](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=558) [这是我们传统的CI内核语言](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=560) [如果在代码中进行一些搜索和替换](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=562) [你可以将其更新为
基于Metal的CI内核语言](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=565) [这里请注意几件重要的事情](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=569) [我们为内核添加了一个目标参数](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=571) [这对我们很重要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=574) [如果我们要检查着色器中的目标坐标](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=575) [像这样的类似卷积的内核](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=579) [我们用新的、更现代的语法](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=582) [只需说s.sample和s.transform
即可从输入中进行采样](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=585) [我们在更新此代码时做的最后一件事](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=591) [是更改传统的vec4
和vec2参数类型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=593) [到float4和float2](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=597) [但我们看到 代码的整体架构](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=600) [内核的流程是一样的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=602) [好 第二步是使用半浮动](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=606) [这个例子我们可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=610) [只使用半浮点数的精度](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=612) [因为我们只是处理颜色值](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=614) [我们将再次对代码
进行一些非常简单的更改](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=616) [基本上代码中曾使用浮点精度的位置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=620) [我们将使用半浮点精度](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=625) [这表示sampler参数
和destination参数](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=627) [有一个_h后缀](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=630) [以及代码中的float4
全部变为half4](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=633) [这很简单易行](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=638) [还有一件事要注意
如果你的代码中有常数](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=640) [确保在它们的末尾加h](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=643) [比如除以9.0](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=645) [这也很简单](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=648) [为了获得此示例中的最佳性能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=651) [我们要做的最后一件事](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=652) [是利用组读取和组写入](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=655) [我们看看完成这个的代码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=657) [我们想写一个二乘二的像素组](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=660) [并且我们需要从四乘四像素组中读取](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=663) [首先我们想要指定一个组目的地](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=668) [我们看一下函数声明](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=671) [它现在有一个组目的地](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=673) [h数据类型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=676) [我们将像以前一样获得目标坐标](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=678) [指向像素的中心](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=680) [但该坐标实际上代表了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=682) [一组二乘二像素的坐标](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=685) [接下来为了填充这组](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=690) [二乘二像素 我们要做的是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=692) [从图像中作一堆读取](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=695) [所以 第一次收集读取](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=697) [将从二乘二像素组中读](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=700) [这里 我们16像素的左下角](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=703) [它将以half4数组
返回红色通道的值](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=707) [这四个参数将按此顺序存储](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=714) [即x、y、z、w
以逆时针方向运行](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=717) [即x、y、z、w
以逆时针方向运行](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=717) [如果你熟悉Metal中的收集操作](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=722) [这与Metal中使用的方向相同](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=724) [所以用一条指令](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=730) [我们完成了四次读取
我们将为其它四像素组](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=731) [重复此过程](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=734) [我们可以得到第二
第三和第四组](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=736) [现在我们完成了所有16次读取](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=740) [我们需要弄清楚哪些值在哪些位置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=742) [所以我们首先要做的是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=746) [得到这个三乘三子组的适当通道](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=747) [并将它们平均在一起](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=752) [然后我们把这些频道](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=754) [存入r1变量](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=756) [我们将重复这一过程](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=759) [写入其它四个结果像素：
r1、r2、r3和r4](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=761) [我们要做的最后一件事就是目标写入](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=767) [在一次操作中写入四个像素](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=771) [注意 这与传统的CI内核略有不同](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=774) [过去我们从内核返回一个值](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=777) [过去我们从内核返回一个值](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=777) [而现在我们将调用目标写入](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=780) [好 这一切的精彩之处是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=785) [只需很少的努力](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=788) [我们可以在同样的着色器中
获得两倍的性能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=790) [这是一个非常简单的着色器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=793) [你可获得类似的结果](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=794) [可在许多其它类型的着色器中实现](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=796) [尤其是作卷积的那些](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=798) [这是为内核提高性能的好方法](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=800) [我想告诉大家](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=805) [来看看这个很棒的内核语言新文档](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=807) [不论是传统的CI内核语言](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=811) [还是基于Metal的CI内核语言](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=813) [我强烈建议你阅读本文档](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=816) [现在我们讲过了为内核运行](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=819) [提高性能的问题](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=821) [我想请Emmanuel上台](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=823) [来讲如何使你的新算法的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=827) [开发过程更快](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=829) [谢谢 David](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=835) [大家下午好](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=839) [大家下午好](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=839) [很高兴来到这里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=840) [我叫Emmanuel
Core Image团队的工程师](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=841) [本场会议的下半场时间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=845) [我们将把注意力
从Core Image引擎移开](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=847) [转而探索用Core Image
作原型设计的新方法](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=850) [我们还会看看](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=854) [如何在机器学习app中
利用Core Image](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=856) [我们开始吧](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=859) [既然我们谈到原型设计](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=862) [我们先看看图像处理过滤器的
生命周期](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=864) [比如我们想做](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=870) [前景背景分割](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=873) [这意味着我们想得到一个掩码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=875) [前景为1.0
背景为0.0](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=880) [二者之间有连续值](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=883) [实现此类过滤器的难度](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=886) [很大程度上取决于数据的特性](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=889) [例如 如果你有一个
额外的深度缓冲区](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=891) [与你的RGB图像一起](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=896) [事情可以变得更容易](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=898) [事情可以变得更容易](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=898) [如果你有兴趣将RGB图像
与深度信息相结合](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=900) [我强烈建议你查看](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=904) [用深度创建照片和视频效果的演讲](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=907) [今天我不想专注于这些其它信息来源](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=910) [我想专注于一般的原型设计](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=914) [假设我们已经完成了这个过滤器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=918) [我们知道我们想要达到的效果](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=923) [在这种特殊情况下 前景和背景掩码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=925) [下一步我们自然而然想实现它](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=928) [选择你最喜欢的原型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=931) [然后就开始尝试了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=933) [并将不同的过滤器组合在一起并显示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=935) [以达到你寻找的过滤效果](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=938) [假设你这么做了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=943) [这里我们有一个
前景到背景掩码的例子](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=945) [如你在iOS或macOS环境中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=951) [下一个步骤自然而然是实施该算法](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=954) [你可以使用各种生成后端](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=957) [你可以使用各种生成后端](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=957) [如Core Image](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=961) [Metal及Metal性能着色器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=964) [及vImage
如果你想留在CPU上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=966) [从原型到产品的初始转换
可能非常耗时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=970) [第一次生成可能看起来
不像你期望的那样](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=974) [有各种各样的原因](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=979) [可能导致这些像素差异](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=981) [其中一个就是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=983) [过滤器在不同框架的实现方式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=985) [可能完全不同](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=988) [我们看左边这个例子](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=989) [我们有一个恒定的模糊
适用于这个漂亮的羽化](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=991) [从前台到背景](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=994) [这个过滤器的示例](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=996) [可以显示各种性能优化](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=999) [使其加速](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1002) [这些优化会引入数字误差](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1004) [而在过滤器堆栈中传播](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1007) [从而可能会对过滤器输出
产生重大变化](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1010) [当你写代码时
通常会出现的另一个问题](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1015) [是在原型环境中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1018) [是在原型环境中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1018) [很多内存管理都是自动发生的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1020) [因此你不会经常遇到内存压力](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1022) [直到开发的后期](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1025) [当然 另一个需要考虑的主题是性能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1030) [通常 原型已经在使用CPU代码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1036) [我们经常高估](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1039) [将CP代码指向GP代码的性能提高](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1043) [以为一切都会变得实时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1045) [如果我们能够尽早抓住这些问题呢？](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1048) [早到原型设计和工作流程中？](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1051) [我们相信有这个办法](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1055) [它叫PyCoreImage](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1057) [Core Image的
Python绑定](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1059) [这是结合Core Image的
高性能生成](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1062) [和Python编程语言的灵活性](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1066) [用Core Image时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1071) [你还继承了对iOS
和macOS的支持](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1072) [以及200多个内置过滤器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1075) [我们来看看
PyCoreImage的细节](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1078) [我们来看看
PyCoreImage的细节](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1078) [PyCoreImage
由三个主要部分组成](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1084) [它用Core Image
作为生成后端](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1087) [用Python作为编程接口](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1090) [它还有一层薄薄NumPy连接代码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1094) [以期与现有代码库互操作](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1098) [我们相信
PyCoreImage可以减少](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1103) [你的原型设计和产品代码之间的摩擦](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1105) [如你想留在
以Swift为中心的环境中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1109) [使用Swift Playground
也可以做很多事情](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1111) [我们鼓励你查看](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1113) [创建自己的
Swift Playground订阅的演讲](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1115) [我们来看看
PyCoreImage的主要组件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1121) [因此 PyCoreImage利用Python
绑定objective C和PyObjC](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1126) [而且有趣的是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1130) [我们自macOS 10.5
Leopard以来一直在发行PyObjC](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1132) [它最初是作为Python
和Objective C之间的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1136) [双向桥实现的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1139) [双向桥实现的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1139) [特别是在Coco app
开发的环境下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1140) [但从那以后扩展到
支持大多数Apple框架](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1143) [PyObjC的调用语法非常简单](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1149) [获取现有Objective C代码
并用_代替:](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1152) [还有一些细节](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1155) [如果你想了解更多
建议查看API](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1157) [我们以CIVector类为例](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1160) [这里有一些
Objective C代码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1164) [我们创建CIVector的实例](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1165) [调用CIVector](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1167) [带X、Y、Z、W的向量](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1169) [我们来看看PyObjC代码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1172) [这非常相似
我们从Quartz伞包](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1174) [导入CIVector](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1176) [我们可以直接调用带X、Y、Z、W
的向量和CIVector类](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1179) [你要注意的是这些代码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1184) [并不完全像Python一样](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1185) [我们将在几分钟内谈这个问题](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1187) [现在我们来看看
PyCoreImage的类图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1193) [生成后端用Core Image](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1196) [Core Image非常接近硬件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1198) [Core Image非常接近硬件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1198) [因此可以重定向过滤的方程](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1200) [到最合适的生成后端](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1202) [为你提供尽可能高的性能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1204) [PyObjC存在于
Core Image上层](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1207) [它可以通过Core Image的
Python绑定与它通信](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1209) [由Quartz伞包提供](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1213) [Quartz伞包同时包含](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1215) [各种其它图像处理框架
如Core Graphics](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1218) [以及使用
Core Image的所有类](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1221) [例如CIVector、CIImages
和CIContext](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1224) [PyCoreImage位于PyObjC之上
它本质上利用PyObjC](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1228) [与Core Image通信](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1235) [并为你做了很多简化](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1237) [以便你在用Core Image时
没有那么多设置代码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1240) [我们稍后会看一下这个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1244) [这里很多都是通过CIMG类完成的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1247) [你用它通过供应商方程
与NumPy解释](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1249) [你也可以包装NumPy缓冲区](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1253) [直接使用类构造函数](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1256) [让我们举一个例子](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1260) [看如何用
PyCoreImage应用过滤器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1261) [你会看到这个框架多么简单和强大](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1263) [你首先要做的是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1267) [从PyCoreImage包
导入你的CIMG类](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1268) [我们可以用它从文件加载图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1272) [注意 此时我们没有像素缓冲区](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1275) [Core Image
为图片创建配方](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1279) [在这种特殊情况下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1280) [这个配方只是提供
从文件加载图像的指令](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1282) [你可以用过滤器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1287) [创建更复杂的图表](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1289) [只需在其上调用CI过滤器名称](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1290) [并传递输入原色
在本例中为标准差](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1293) [可看到我们正组装一个更复杂的图形](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1295) [如果我们放大它](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1298) [我们可以看到模糊处理器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1299) [就在中间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1301) [如果你想获得像素缓冲区表示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1303) [你可以在CIMG实例上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1305) [调用生成](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1307) [你会得到一个合适的
NumPy缓冲区](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1308) [为了做到这一点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1315) [我们需要对Core Image的
调用方式进行简化](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1317) [我们需要对Core Image的
调用方式进行简化](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1317) [或为你做一些设置代码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1320) [对于已经熟悉
Core Image的人](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1322) [这不会让人感到意外](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1326) [但对于不熟悉它的人](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1328) [我们一起看看步骤](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1330) [你将看到我们作的一些简化
以更清楚地说明问题](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1332) [Core Image是一个
高性能的GPU图像处理框架](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1338) [同时支持iOS和macOS](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1342) [以及各种生成后端](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1344) [支持大多数像素格式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1347) [这当然意味着位图数据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1350) [以及来自各供应商的原始文件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1352) [支持大多数文件格式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1356) [就像刚才说的 来自各种供应商的
位图数据和原始数据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1360) [支持大多数像素格式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1364) [例如 你可以用无符号8位加载图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1366) [通过计算和半浮动](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1370) [并在最终生成期间
完全呈现32位浮点数](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1372) [Core Image可以为你
提取图像元数据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1376) [例如 捕获时间
EXIF标记以及嵌入的元数据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1378) [例如 捕获时间
EXIF标记以及嵌入的元数据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1378) [例如人像地图和人像深度信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1383) [Core Image
可以很好地处理色彩管理](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1389) [这是一个高难度的问题
很多框架都不作处理](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1391) [Core Image
支持许多电池状况](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1396) [无限图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1398) [并且有200多个内置过滤器供使用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1400) [你可以拿来即用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1402) [好 我不需要说服你](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1405) [那是很多信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1406) [并且如果你尝试
在原型和工作流程中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1408) [使用Core Image](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1410) [学习曲线可能相当陡峭](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1413) [所以我们所做的就是
在新功能列表中选出最好的一些](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1415) [进行了一些简化](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1418) [请记住 这些简化](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1419) [都可以随时被覆盖](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1421) [因为我们会给你加权代码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1423) [你其实可以对这些更改进行硬编码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1424) [如果这适合你的原型堆栈](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1426) [我们做的第一件事就是我们还有](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1429) [Core Image的高性能功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1431) [我们仍生成到Metal后端](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1434) [仍然支持几乎所有输入输出格式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1436) [我们仍然可以提取数据的捕获时间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1439) [我们仍然可以提取数据的捕获时间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1439) [以及纵向深度和褪光信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1441) [最后一个重点
你可以用200多个内置过滤器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1445) [我们做的第一个更改是 默认情况下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1449) [所有生成都用
完整的32位浮点数完成](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1452) [第二个更改
一切都用sRGB颜色空间完成](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1456) [第三 所有的边界条件都将
通过钳制和裁剪来处理](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1461) [这意味着 如果你正在应用卷积运算](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1465) [例如你的图片无限重复](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1469) [将应用过滤器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1472) [并将生成的图像裁剪回输入尺寸](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1473) [这也是一个可以一次覆盖的设置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1476) [最后 无限的图像变得有限](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1482) [这样我们可以获取其像素缓冲区表示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1484) [这就是为何PyCoreImage
在幕后细节里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1489) [所以…](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1494) [我们将作精彩演示
在实践中查看所有这些](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1495) [在此之前 我想快速过一下
PyCoreImage的备忘单](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1498) [在此之前 我想快速过一下
PyCoreImage的备忘单](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1498) [我们来看看API](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1502) [正如你之前看到的
我们从pycoreimage包](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1504) [导入了CIMG类](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1507) [我们可以调用fromFile
来用它加载文件中的图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1510) [你如果想知道的话
这是等同于Swift的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1514) [你可以用
CIImage(contentsOfFile:)](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1516) [你可以使用fromFile
直接加载纵向褪光信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1520) [以及肖像深度](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1523) [只需使用可选参数
useDepth和useMatte](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1525) [你可以通过把NumPy缓冲区
包裹CIImage于构造函数中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1531) [来解释NumPy](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1535) [或直接在CIImage实例下
调用生成](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1537) [此为另一个选择](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1540) [如果你用Swift](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1543) [还有一些代码要写](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1544) [你需要先创建一个
CIRenderDestination](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1545) [确保你预先分配了缓冲区](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1548) [和提供正确的缓冲区属性](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1551) [创建CIContext
的实例并提示测试生成](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1553) [这些都是在幕后处理的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1559) [这些都是在幕后处理的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1559) [Core Image
也支持过程图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1562) [例如从颜色创建图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1565) [或从生成器创建图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1567) [现在我们看一下如何应用过滤器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1571) [应用过滤器再简单不过了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1574) [拿一个CIImage实例](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1576) [直接在上调用过滤器名
称并传递输入原色列表](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1578) [每个CIImage实例都增加了
200多个lambda表达式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1582) [直接映射到
Core Image过滤器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1588) [如果你用Swift](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1591) [这是你之前看到的语法](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1592) [应用过滤器
传入过滤器名称以及输入参数列表](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1595) [以键值对的字典方式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1599) [要应用内核 可以在CIMG实例中
使用applyKernel](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1603) [传入包含内核代码的源字符串](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1607) [以及输入参数列表到该内核](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1611) [我们等会儿再看一看](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1613) [然后你只需指定应用该内核的范围](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1617) [以及你在缓冲区中采样的感兴趣区域](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1619) [以及你在缓冲区中采样的感兴趣区域](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1619) [采样源](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1624) [PyCoreImage
提供了一些有用的API](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1627) [如复合操作](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1631) [这是一个来源…](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1632) [以及翻译等几何操作](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1634) [缩放 旋转…](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1637) [和裁剪](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1640) [我想在GPU内核上再花一点时间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1643) [因为这是一个非常强大的功能
尤其对于原型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1648) [我们这里有一个字符串](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1651) [包含GPU片段着色器的代码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1653) [我们所拥有的基本上是一种方式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1656) [让你实时原型化那种效果](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1659) [这是5抽头拉普拉斯算子的一个例子](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1663) [我们将使用它进行锐化](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1665) [我们在每个像素的邻域中
制作五个样本](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1668) [以计算局部导数的方式组合它们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1671) [这将成为我们的细节](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1674) [我们添加回中心像素的顶部](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1675) [我不想太过关注过滤器本身
而是集中在如何调用它](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1678) [我不想太过关注过滤器本身
而是集中在如何调用它](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1678) [所以 我们称之为
CIMG实例上的黑色内核](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1682) [低音源代码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1686) [只是在那里的
用三引号python字符串](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1688) [传递我们将要应用内核的范围](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1692) [并定义感兴趣的区域](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1697) [和我们将要采样的表达式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1698) [如果你不熟悉目标域的概念](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1701) [以及感兴趣的地区](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1705) [我建议你查看
Core Image在线文档](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1706) [以及之前的WWDC演讲](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1709) [但这是卷积内核](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1712) [我们正在距离边界一个像素读取](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1714) [我们需要指示Core Image
我们是否要这样做](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1716) [以便它可以正确处理边界条件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1719) [好](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1723) [这里有很多信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1723) [并且看API总是有点枯燥](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1725) [所以我们来看一个演示
把所有这些付诸实践](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1728) [好 在演示期间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1741) [我将用
Jupiter Notebook](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1742) [这是一个基于浏览器的
实时Python解释器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1745) [你将看到的所有结果](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1749) [都是用后端的
Core Image实时生成的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1751) [而不是预先计算过](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1754) [这一切都是现场完成的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1756) [我想在这里做的第一件事](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1758) [导入我们将要用的实用程序类](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1759) [这里最重要的是CIMG类](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1763) [用于我的PyCoreImage包](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1765) [然后我们只需一些设置代码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1767) [以便我们可视化该笔记本中的图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1769) [我们开始](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1772) [第一是如何加载图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1775) [在此用fromFile](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1778) [我们看到我的对象类型是
PyCoreImage CIMG](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1780) [我们可以看到它后面的支持](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1786) [是一个正确的
Core Image对象](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1787) [我们可以对图像进行生成并
用Matplotlib](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1791) [查看实际的像素表示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1796) [这是我们的输入图片](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1800) [现在我想在其上应用过滤器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1802) [我们来看看这200多个
Core Image支持的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1805) [过滤器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1807) [比如说我想在这里应用高斯模糊](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1813) [我想知道哪些参数](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1816) [被该过滤器支持](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1817) [所以我在我的CIMG类上调用输入](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1818) [我看到它支持输入图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1821) [不奇怪的是 还有标准差](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1824) [所以 我将在这里做](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1827) [拍摄输入图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1829) [在其上应用高斯模糊过滤器
标准差为100像素](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1831) [然后并排显示两个图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1835) [非常简单 对吧？](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1838) [好 我们继续吧](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1842) [如我之前提到 你可以生成过程图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1845) [用Core Image](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1847) [我们来看看
Core Image生成器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1848) [第一件事是我们调用
fromGenerator](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1851) [指定生成器的名称](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1854) [在这里CIQRCode](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1856) [并在我们尝试编码的消息中传递它们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1858) [并在我们尝试编码的消息中传递它们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1858) [这是实时的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1862) [所以我可以对该消息进行更改](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1863) [并查看它如何影响正在生成的QR码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1866) [Core Image
还支持标记图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1871) [你可以用
CI文本图像生成器来做到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1874) [这里有个例子](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1876) [WWDC并使用SFLO字体](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1878) [好 我们继续](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1883) [刚才提到过
我们支持与NumPy间的互操作性](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1885) [这是我们要做的第一件事](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1889) [我们将从图像开始并应用一些有趣的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1892) [且有明显影响的变化](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1895) [这种情况下 是一个涡旋畸变](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1896) [接下来我们要做的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1899) [我们将生成该缓冲区](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1900) [从中获取NumPy区域](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1904) [这里我们看到它的类型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1906) [和它的形状](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1907) [它的深度](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1909) [以及一些统计数据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1911) [这是最小值 中值](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1912) [以及它的最大值](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1914) [我们也可以走另一条路](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1918) [我们也可以走另一条路](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1918) [从NumPy到CoreImage](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1920) [让我们从NumPy数组开始](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1923) [这不是件小事情](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1925) [这里 一个随机缓冲区](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1926) [其中75%的值已经渐变为黑色](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1928) [我首先将我的NuPy数组
包装到我的CIMG构造函数中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1933) [可以看到我们又有了
一个CIMG类实例](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1937) [和支持它的CIImage](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1940) [现在我有了CIImage](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1944) [我可以在其上应用各种过滤器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1946) [我首先应用这个模糊化](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1948) [我将使用电线滤波器
一条光隧道](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1951) [改变图像的对比度](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1954) [调整曝光及伽玛值](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1955) [我们一起看看这些过滤器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1959) [在模糊化、光隧道
曝光调整、伽玛调整后](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1962) [这是我们的最终效果](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1966) [非常有趣 非常易用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1968) [我们把它们放在一起](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1972) [这里我开始一个新的图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1973) [我在下面这个演示中向你展示的是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1976) [如何做弯曲处理](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1979) [如何做弯曲处理](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1979) [如果你熟悉Python的切片操作](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1981) [这正是我们要做的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1983) [我们将在图像中定义带或切片
水平切片](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1985) [我们只对这些切片应用过滤器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1989) [让我们先来看一下代码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1992) [这是我们的添加带功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1995) [我们可以看到它的最底层](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=1997) [我们用两种复合材料生成图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2000) [这是实际的NumPy缓冲区](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2002) [但右边是CIImage](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2003) [通过使用这样的切片](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2006) [我们强制Core Image
只在该带进行生成](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2007) [而不是整个图片](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2010) [因此效率更高](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2012) [我们这样做并在我们的图像中
创建五个不同的带](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2017) [并显示最终的合成](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2020) [非常棒
在顶上还有其它标签](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2025) [对应于应用的过滤器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2028) [使用PyCoreImage
真的很简单](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2031) [好的
我之前提到过性能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2034) [所以让我们快速看看这个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2036) [我想给你看的第一个是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2039) [我想给你看的第一个是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2039) [每当你在CIImage实例上
调用生成时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2040) [NumPy被预处理并缓存](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2043) [例如 我们在这里创建一个图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2047) [我们按比例缩小
并应用GaussianBlur](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2048) [第一次调用历时56毫秒](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2051) [第二次只需两毫秒](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2053) [让我们来看看大卷积](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2055) [Core Image非常快](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2058) [并且能够处理大型卷积](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2060) [轻松搞定](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2063) [这里我们用CIBlur](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2064) [一个CIGaussianBlur
西格玛值为200](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2066) [这很大](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2072) [这里给大家一个概念](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2073) [我向你展示这个图像时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2074) [我实际用scikit-image
执行equivalent](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2076) [我们的运行时间是16秒](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2080) [但这次使用
CoreImage做同样的事](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2082) [一百三十毫秒](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2085) [是的 就是这么快](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2087) [200倍 耶](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2088) [谢谢](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2090) [好吧 我们继续](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2092) [PyCoreImage
最强大的功能之一](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2093) [是内联创建自定义GP内核的能力](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2096) [是内联创建自定义GP内核的能力](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2096) [并在动态中执行](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2100) [并动态修改](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2101) [我们来看看](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2103) [好](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2108) [我首先想要展示的是
如何使用颜色内核](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2110) [因此颜色内核是仅输入一个像素](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2113) [并输出一个像素的内核](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2116) [并且不围绕该像素制作任何其它样本](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2117) [这是我们的输入图像
这是我们的内核](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2121) [所以我们实际得到的是一种颜色
我们将颜色显示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2123) [我们来看看这个效果](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2128) [我要把我的红色和蓝色通道](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2131) [与我的蓝色和红色频道互换](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2133) [我要反转它们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2134) [不是太令人兴奋的效果](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2136) [但我要告诉你的是我可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2138) [开始打字 然后说
也许我想扩展红色频道](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2142) [用蓝色频道](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2145) [我想尝试这里的缩放量](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2147) [我们可以从.25开始](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2151) [随意提到相当高的值](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2153) [并生成有趣的效果](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2156) [它非常强大
而这一切都是实时完成的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2159) [它非常强大
而这一切都是实时完成的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2159) [所以你可通过这种方式
对过滤器进行微调](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2161) [并确保达到你正在寻找的效果](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2163) [我们来看一个更复杂的内核](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2168) [我们来看一下通用内核](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2171) [这有点像我之前展示的
拉普拉斯锐化](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2172) [这是一个在每个像素附近
进行额外点击的内核](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2175) [所以从文件中的图像开始](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2179) [这是我们之前看到的同一图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2181) [这里有我们的内核代码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2183) [我们略去细节](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2185) [这是一个双边过滤器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2186) [是模糊滤镜的边缘](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2187) [我们把代码放进去](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2190) [并带有一些参数调用
applyKernel](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2193) [可以获得非常好的效果](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2196) [我们在这里做的 基本上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2202) [是剪切图像中的无冗余高频](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2204) [如果我们看看…](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2208) [我们更仔细地看一下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2210) [看看这里的剪切](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2213) [我们可以看到强边缘还存在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2214) [但是非冗余的精细频率](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2216) [被冲走了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2218) [被冲走了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2218) [双边滤波器可用于许多不同目的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2220) [在这种情况下
我们将用它来进行锐化](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2224) [并使用此过滤器实现锐化](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2226) [我们可以简单地拿左边的图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2229) [并减去右边的图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2231) [为我们提供了图像中
高频或细节的地图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2232) [我们这样做](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2235) [我在这里做的是生成我的图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2237) [它是一个NumPy缓冲区](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2240) [生成我过滤后的图片](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2241) [并且用运算符重载将它们一起减去](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2246) [这是随NumPy提供的操作](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2249) [让我们来看一下细节层](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2251) [如果你的左侧有整个图像的细节](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2254) [和图像中心的裁剪](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2257) [现在 我们可以做的就是将它添加到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2260) [原始图像的顶部](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2263) [这正是我们要做的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2265) [我们将两次加它](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2267) [通过这样做 我们实现了形成锐化](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2270) [就是这么简单](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2272) [如果我想
我可以回到我的过滤器内核字符串](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2274) [并开始任意实时进行更改](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2278) [并开始任意实时进行更改](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2278) [我还想演示如何从图像中加载元数据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2283) [这里我有一张图片](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2287) [加载了人像效果褪光](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2289) [以及纵向深度数据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2291) [以下是并排的l图片](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2294) [左侧的图像是RGB图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2296) [中心是深度数据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2298) [右侧是高质量的人像效果图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2300) [我们今天在另一个演讲上介绍了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2302) [我们还可以查看EXIF标记](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2306) [直接通过查看下层的CIImage](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2307) [来自相同的G实例和调用属性](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2311) [这里 我们获得有关捕获本身的信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2315) [像我说的 我们介绍了人像效果褪光](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2319) [在另一个演讲 演讲503](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2322) [我强烈建议你去看看那个演讲](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2324) [所以这里我们略去细节](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2326) [我将要实现这个过滤器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2328) [如果你有兴趣了解如何做到的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2330) [我强烈建议你查看本次演讲](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2333) [非常有意思的东西](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2337) [谢谢](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2340) [好](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2345) [让我们回到本次演讲](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2347) [我想在这里稍微换档](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2348) [谈谈将CoreImage
和CoreML结合在一起](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2351) [如果你想获得
有关使用人像褪光的更多信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2363) [和人像深度信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2368) [我鼓励你仔细查看有关
创建照片和视频效果的演讲](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2370) [我们看看将Core Image
和CoreML结合在一起](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2375) [今年 我们非常高兴地宣布](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2378) [我们推出了一个新的过滤器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2381) [CICoreMLModelFilter](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2383) [这是一个非常简单
但非常强大的过滤器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2385) [需要两个输入](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2388) [第一个输入是带有滤镜的图像本身](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2389) [并输入CoreML模型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2394) [并且你获得了一个输出](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2398) [并且你获得了一个输出](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2398) [已被潜在神经网络处理的输出](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2400) [这真的很简单 很强大](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2401) [为了展示代码有多简单
让我们来看看Swift](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2404) [我们在左侧有一个输入图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2409) [你要做的就是调用过滤器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2411) [传入我们今年推出的新过滤器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2413) [并提供预编译的ML模型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2416) [就是这么简单](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2418) [如果你想看看其它方式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2420) [在图像处理app中利用机器学习](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2421) [我鼓励你看看其它演讲](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2424) [关于Turi Create指南
和Visionwith CoreML](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2427) [一个相关的话题](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2433) [我们在训练数据集中的常见操作之一](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2434) [是机器学习中的数据增强](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2437) [而数据增强](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2440) [可以显着提高神经网络的稳健性](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2442) [在这种情况下
假设我们正在进行对象分类](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2446) [我们正在努力确定](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2450) [该图像是桥还是有水](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2451) [对原始趋势数据集进行扩充](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2456) [对原始趋势数据集进行扩充](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2456) [将增加该数据集中的图像数量](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2461) [而无需收集新图片](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2464) [你基本上可以免费得到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2467) [所以 你可以携带很多操作](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2469) [其中一个只是改变它的外观](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2471) [例如 色调 温度](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2473) [和图像的白点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2474) [通过添加噪声改变图像的光谱属性](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2477) [或通过应用变换
改变图像的几何图形](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2481) [事实证明 用Core Image
实现所有这些都是易如反掌](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2484) [让我们来看几个过滤器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2488) [以及如何将它们用于数据增强](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2490) [我们在左侧有输入图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2494) [我们可以改变温度和色调](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2497) [用CITemperatureAndTint](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2499) [我们可以调整亮度 对比度](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2501) [及用CIColorControls
调整的图像饱和度](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2503) [用CIDither更改图像的频谱](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2508) [还有CIGaussianBlur](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2511) [还有用仿射变换更改图像的几何图形](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2514) [我们来看看实践中的所有这些](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2519) [我们来看看实践中的所有这些](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2519) [好 我们回到
Jupiter Notebook](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2528) [与之前相同的设置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2531) [我想向你展示的是
如何用Core Image](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2533) [作批量增强](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2535) [我们正在加载图片](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2537) [我们将在这里定义我们的增强功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2539) [我们要做的主要是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2541) [来自随机空间的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2543) [为我在这里定义的每个过滤器的抽样](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2544) [我们将用GaussianBlur
缩放旋转](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2547) [一些调整 曝光调整](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2551) [纤维以及噪音抖动](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2553) [好了？让我们缓存该功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2557) [再来看看](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2560) [对该增强的一些实现](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2561) [所以我的滑块在这里控制](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2566) [我在后端使用的数字生成器种子](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2568) [好 非常酷](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2572) [我不确定效率如何](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2573) [所以这里我将实时处理
200个这样的增强](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2575) [我们将在这里看看它们如何](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2578) [我们将在这里看看它们如何](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2578) [实时保存到硬盘](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2581) [我们来试试吧](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2583) [让你了解它有多快](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2584) [这真的很厉害](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2590) [好](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2595) [下面我想展示的是如何通过
Core Image来使用CoreML](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2596) [首先是加载Core ML模型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2601) [我们在这里做的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2605) [我们有一个玻璃模型
我们将要用它](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2607) [产生一个有趣的效果](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2610) [让我们从过程图像开始](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2612) [我们之前见过这个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2614) [然后让它变得更有趣](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2616) [我们为它添加一些纹理](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2618) [我们在上面添加多频段噪音](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2620) [以及一些羽化](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2625) [和一些小插图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2627) [好 这是输入图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2630) [我们把它喂给我们的神经网络](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2631) [和另一个我们预先训练过的
CoreML模型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2633) [好吗？让我们来运行吧](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2639) [好吗？让我们来运行吧](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2639) [和…](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2645) [就这样
2018年WWDC是为你而举办的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2649) [好 说到这儿](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2653) [我要感谢大家今天参加这个会议](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2656) [我希望你们喜欢这个演讲](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2659) [就像我们享受为你准备演讲的过程](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2662) [我强烈建议你明天来和我们谈谈](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2664) [下午三点
在Core Image技术实验室](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2666) [非常感谢](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/719/?time=2670)