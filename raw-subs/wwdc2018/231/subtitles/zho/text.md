# HomeKit Deep Dive

## Summary
Get a fresh look at the HomeKit APIs. Understand how Siri and the Apple Home App use Action Sets and Accessory Services & Characteristics to provide a great home automation experience.

## Info
* Frameworks
* WWDC 2018 - Session 231 - iOS, tvOS, watchOS
* https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/

## Text
 [[ 音乐 ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=7) [[ 掌声 ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=23) [&gt;&gt; 早上好](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=31) [我的名字是 Keith Rauenbuehler](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=32) [我来自 HomeKit Engineering 团队](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=34) [现在 我们要重点谈一谈](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=36) [HomeKit 的三个具体领域](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=37) [首先 我们将概述一下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=42) [HomeKit 和 Home App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=44) [然后我们会讲讲](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=47) [如何设置 HomeKit 配件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=48) [最后 我们会谈谈](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=51) [HomeKit API 以及如何使用它们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=53) [让我们直奔主题](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=56) [最好的去真正了解](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=58) [最好的去真正了解](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=58) [HomeKit 功能的方式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=62) [就是打开 Home App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=64) [仅仅一页 App 界面](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=67) [便连接了你所有的 HomeKit 配件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=69) [现在 有数不清的功能被设计进](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=72) [Home App 我们利用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=74) [今天的大会来谈谈](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=76) [其中比较重要的功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=77) [Home App 现在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=79) [支持 iPad iPhone 和 Apple Watch](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=81) [Home App 有三个基本的选项](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=86) [这是 Home 选项 用来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=90) [寻找你喜欢的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=92) [HomeKit 配件和场景](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=94) [这是 Rooms 选项 这是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=97) [一个很棒的选项 用来设置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=99) [特定的房间和浏览](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=101) [其所有的配件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=103) [只要是这个房间里的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=104) [最后是 Automations 选项](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=107) [你可以在这里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=109) [设置和管理你的智能家居](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=110) [自动设备](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=112) [现在 控制配件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=113) [对于 Home App 来说非常简单](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=117) [想要切换状态 只需点击屏幕上的块](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=119) [想要切换状态 只需点击屏幕上的块](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=119) [所以如果你想打开](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=122) [一盏灯 你只需点击这个块](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=124) [现在 如果你想要进行更加精细的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=131) [控制 你可以使用三维触控](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=133) [来打开我们的快速控制](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=136) [所以我们回到刚才](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=137) [同一盏灯的问题上 如果我们想调节](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=138) [它整体的亮度 看这是一个变光开关 我们可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=140) [在屏幕上使用三维触控 然后我们就能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=143) [打开快速控制栏](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=146) [现在 我们也加入了场景](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=152) [在这个 Home App 里面 场景是一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=153) [非常有效的途径来实现你的控制](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=155) [它可以让你控制多种](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=157) [配件 只需一次简单的点击即可完成](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=158) [一个场景就是一个简单的界面](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=161) [它将多种配件组合](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=163) [在一起 不论是开始](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=165) [你清晨的一天还是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=166) [将你的卧室设置成](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=169) [完美的观赏电影场所](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=170) [在一天里 你的家时刻在变化](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=172) [人们来来往往](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=175) [灯也许开了又关](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=177) [百叶窗开开合合](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=179) [百叶窗开开合合](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=179) [而场景功能则将帮助你](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=181) [基本上制定一个理想的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=182) [状态 所有这些附件都可以实现](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=183) [让你可以拥有一个美好的夜晚](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=186) [场景关闭了灯盏](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=187) [合上了百叶窗 锁上了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=189) [门 并且设定了恒温器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=191) [然后当你准备上床睡觉时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=194) [你只需点击屏幕上的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=196) ["晚安" 而 HomeKit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=197) [则会为你在夜间管理你的房子](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=199) [现在 在 iOS 上 我们也拥有了快速](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=209) [进入 Home 快捷指令的方法 即通过控制中心](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=212) [这是一个极棒的方式来浏览和](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=215) [控制你喜欢的 HomeKit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=217) [配件 它甚至](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=218) [可以提供进入场景的方式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=220) [现在 这的确非常 真的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=222) [方便 但是更棒的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=224) [方式来控制 HomeKit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=226) [配件是通过 Siri](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=227) [你可以对 Siri 说早上好](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=229) [这将激活你美好的清晨场景](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=232) [你也可以通过 Siri 来控制](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=235) [个人的 HomeKit 配件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=237) [所以你可以用 Siri 打开](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=240) [你厨房的灯或者](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=241) [确认你的门是否已经锁了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=243) [你甚至可以使用 Siri 打开](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=245) [你喜欢的 HomeKit 相机流](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=246) [现在 截至目前 HomeKit 仅支持](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=249) [iOS watchOS 和 tvOS](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=253) [但是今年 我们激动地](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=258) [宣布我们的 Home App 将支持 Mac](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=260) [[ 掌声 ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=264) [现在 我们非常激动](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=269) [这是一个极棒的途径](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=270) [来控制你的家](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=272) [仅需电脑 甚至不用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=274) [从口袋中掏出你的手机](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=276) [这也是一个极好的方式来控制](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=278) [你的家 因为你将收到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=281) [你的 HomeKit 通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=282) [它会出现在你的 Mac 上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=284) [并且我们甚至还打造了 HomeKit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=285) [Siri 集成在 Mac 上面](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=287) [所以你可以使用所有你](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=289) [喜欢的 Siri 激活方式来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=291) [管理你的配件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=293) [这可以直接在电脑上实现](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=294) [现在苹果最新的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=295) [产品 HomePod 是我](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=297) [最喜欢的方式来控制我的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=299) [最喜欢的方式来控制我的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=299) [HomeKit 配件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=300) [它不仅仅是一个优秀的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=302) [音响 更是一种绝佳的方式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=303) [来管理你的 HomeKit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=306) [配件 因为任何人在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=307) [你的家都可以使用它 仅仅通过](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=309) [他们的语音即可](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=311) [这种解放双手的 Siri 界面](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=313) [允许你快速便捷地](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=315) [在你的家中 管理这些配件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=317) [非常容易上手](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=319) [我特别喜欢用我的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=321) [HomePod 来控制家里的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=323) [那些灯光](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=324) [这变得尤其方便](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=326) [当我走进厨房](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=327) [扛着大包小包 我只需要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=329) [用我的声音告诉 Siri 打开灯即可](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=331) [目前我们也收到了很多](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=335) [用户反馈 他们说自己](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=337) [非常喜欢使用他们的 HomePod](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=339) [打开晚安场景](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=341) [他们只需仅仅告诉 Siri 晚安这个词](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=343) [当他们想要睡觉的时候](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=344) [目前 HomePod 已经充当了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=346) [比以往更重要的角色](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=350) [在我们的家中 因为它可以实现远程控制](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=353) [和自动化操作](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=356) [目前 远程控制是我在 HomeKit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=359) [目前 远程控制是我在 HomeKit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=359) [上最喜欢的功能之一 因为](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=361) [它可以让你在并不在家的时候](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=363) [控制你的家](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=365) [当你不在家的时候 可以放宽心来检查](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=368) [车库的门是否锁好或者](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=371) [你的恒温器有没有关好](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=374) [并且 你可以在任何距离家较远的情况下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=377) [实现这个功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=378) [目前 这个功能需要配备](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=379) [家庭控制中心 但 HomePod Apple TV](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=381) [和 iPad 都有内置家庭控制中心的功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=385) [所以通过远程遥控 你可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=392) [在你出门之后](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=393) [密切关注家里的情况](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=395) [也许你想要分享](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=396) [控制支持](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=398) [给其他的用户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=399) [在 HomeKit 上 你可以管理](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=402) [其他用户的远程控制](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=403) [权限 并且指定](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=405) [其他用户仅能在本地控制部分配件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=407) [让我们来谈谈](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=409) [远程控制如何工作的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=413) [当你在家时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=415) [你的 Apple 装置直接同](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=417) [你的配件进行交流](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=419) [你的配件进行交流](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=419) [但是当你离开家的时候](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=422) [你就需要一个家庭控制中心了 再说一次](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=425) [它可以是一个 HomePod 或者 Apple TV](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=427) [再或者是 iPad 然后你的手机](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=429) [将直接同你的家庭](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=432) [控制中心沟通 然后控制中心再将](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=433) [同配件进行沟通](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=435) [你可以检查这些配件的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=437) [最新状态](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=440) [你也可以浏览相机中的照片流](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=442) [你甚至可以锁上你的门](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=444) [如果你出门](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=446) [开始新的一天之前](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=447) [忘记了锁门](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=449) [现在 我们已经见识了多简单易行](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=449) [来利用场景功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=451) [让设备一起工作](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=452) [场景功能的确非常出色 但是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=454) [自动操作能让你切换](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=455) [场景更加自动化](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=457) [所以你可以完成这件事却不用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=459) [打开 Home App 或者使用你的语音](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=461) [自动操作让你可以控制](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=466) [单独配件或者是整个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=467) [场景 它是基于一些关键性](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=470) [驱动来实现的 例如](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=471) [某人回到家 或者在某个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=473) [特定的时间点运行它](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=476) [你甚至可以用其他](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=478) [你甚至可以用其他](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=478) [在房间的配件来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=480) [激活自动操作](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=481) [自动操作可以便捷地](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=483) [在后门打开时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=485) [打开后阳台的灯 或者](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=486) [当有人出门时关闭空调](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=490) [现在 我们也支持更多](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=495) [复杂的自动操作 所以你可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=496) [打开车库门 打开你的灯](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=501) [打开百叶窗](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=503) [将恒温器设定到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=505) [适宜的温度 这些都能在你已经达到车道时做到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=507) [现在 这是我最喜欢的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=510) [自动操作之一 因为我经常](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=511) [要应付一些杂货 或者孩子们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=514) [或者当我到家的时候 正要结束一通电话](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=517) [这就让我可以进入](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=520) [家中而不用笨拙地摸索](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=521) [我的钥匙](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=523) [现在 其中一件重要的事是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=527) [HomeKit 提供给顾客的是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=529) [难以置信的便捷方式来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=530) [将配件添加到你的家中或者](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=533) [你的家居网络中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=534) [其他的服务经常会要求](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=536) [你下载 App 根据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=538) [你下载 App 根据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=538) [用户指示 并且历经](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=540) [一连串复杂的过程来添加](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=543) [一款配件到你的网络中去](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=544) [现在如果你曾经设置过](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=546) [没有 HomeKit 的配件 你就会明白](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=548) [这样的体验能是多么的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=550) [令人沮丧和厌烦](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=551) [有了 HomeKit 添加配件变得](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=553) [易如反掌](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=555) [你只需下载 Home](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=557) [App 并扫描配件码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=559) [剩下的交给 HomeKit 就好了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=562) [就是这么简单](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=564) [并且如果配件具备 NFC 功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=566) [则会让这个设置过程更简单](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=569) [你可以下载 Home App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=572) [在你手机上点击配件 然后就大功告成](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=574) [关于 HomeKit 还有一件很棒的事](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=580) [那就是它既安全又私密](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=582) [所有配件之间的交流都是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=585) [加密的 我们针对每次会话](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=587) [发明出一种全新的共享密钥](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=590) [数据也是非公开的 所以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=592) [Apple 没有可以进入](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=596) [你相机流的权限](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=598) [Apple 也不能窃听你们的对话](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=599) [Apple 也不能窃听你们的对话](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=599) [Apple 甚至不能分辨出](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=602) [你刚刚是开了灯 还是关了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=603) [我们知道你的家是私密空间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=606) [所以我们要保持这个状态](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=607) [所以当你控制你的家](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=609) [以及各种配件 执行](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=612) [场景功能 甚至全权使用 Siri](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=614) [支持时 所有的这些都是基于一种安全](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=616) [和私人的方式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=617) [我们希望这样的交流](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=618) [可以变得非常安全 并且所有信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=622) [都是直接](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=624) [在 Apple 设备和配件之间进行](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=626) [所以你的配件永远不需要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=629) [链接到云端](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=632) [这种方式除了安全 它还很快](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=635) [因为所有的信息都](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=638) [是在本地中完成 没必要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=640) [再去经过服务器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=642) [我们的 HomeKit Accessory](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=648) [Protocol 是一个交流](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=651) [频道 用来保护信息的安全性](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=653) [信息在配件和你的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=655) [Apple 设备中传递](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=656) [这些信息都已被加密因此](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=658) [这些信息都已被加密因此](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=658) [只有被信任的设备](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=660) [才能阅读它们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=661) [这就意味着即使其他人](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=663) [通过某些方式截获了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=664) [信息 他们也不能解码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=666) [或者看懂内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=667) [HomeKit Accessory](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=669) [Protocol 可在 Wi-Fi 和](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=671) [低功耗蓝牙环境下工作](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=673) [按照 IP 分类 即 Wi-Fi 和以太网](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=675) [Wi-Fi 很棒 因为它](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=678) [能够提供可靠 快速](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=680) [远程的支持 所以你可以将 Wi-Fi 配件放在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=682) [家里的任何位置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=685) [我们还支持低功耗蓝牙](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=687) [这也很棒 因为尤其对于那些](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=690) [电池供电的配件来说](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=694) [比如感应器一类的东西 你可以使用低功耗蓝牙](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=696) [并且将这些感应器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=699) [放置在方便的位置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=701) [因为它们不需要电源线](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=702) [现在我们希望每个人

00:11:48.936 --> 00:11:50.556 A:middle
都能体验家庭自动操作](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=705) [因此我们提供了很多配件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=710) [条目 并且针对每个条目](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=711) [我们拥有顶级的制造商](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=713) [并且这个配件名单](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=716) [在不断增加 我们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=719) [在不断增加 我们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=719) [针对每个配件类别](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=720) [支持多家制造商](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=722) [所以你总能找到一款适合你的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=724) [有了 HomeKit 你甚至可以把同种类型的配件组合](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=727) [在一起 即使它们来自于](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=730) [不同的制造商 让它们一起工作](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=732) [HomeKit 让你更加简单地](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=734) [选择一款适合你家的配件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=736) [有了 AirPlay 2 我们已经](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=738) [将音响加入了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=741) [Home App 的支持范围中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=743) [在 iOS 12 中 我们还](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=745) [发布了远程遥控系统](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=747) [你可以设置一款远程](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=750) [遥控的配件 这样你可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=752) [控制你的 Apple TV](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=753) [甚至包括 Siri](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=756) [既然我们已经简明扼要地](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=757) [介绍了一下使用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=761) [HomeKit 的好处 让我们来深入看看](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=763) [什么资源可以用来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=765) [制造一款 HomeKit 配件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=767) [所以最简单的来开始](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=768) [使用 HomeKit 和](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=771) [制造一款配件的方法就是 变成 MFI licensee](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=773) [这是一个极佳的项目 里面有](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=777) [各种有价值的工具 我已经迫不及待想和你们分享了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=778) [各种有价值的工具 我已经迫不及待想和你们分享了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=778) [当然如果你只想了解](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=780) [关于 HomeKit Accessory](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=783) [Protocol 我们也为各位开发人员](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=784) [提供了资源](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=786) [它的目的是为了非盈利的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=788) [开发和探索](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=789) [HomeKit Accessory Protocol](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=791) [所以这对了解](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=794) [HomeKit Accessory](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=796) [Protocol 是很好的 但是如果你是认真的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=797) [考虑制造一款 HomeKit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=798) [配件 我们真诚地鼓励](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=799) [你加入 MFI 项目](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=802) [因为这是绝佳的方式 来快速开始工作](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=804) [所以现在开始谈谈](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=806) [成为 MFI 项目的一部分 你将](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=810) [得到什么好处](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=812) [加入 MFI 其实非常](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=816) [简单 而且你将得到非常多的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=817) [工具和资源](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=819) [其中一个最新的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=820) [也是我们最为此激动的工具就是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=822) [HomeKit 配件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=824) [开发工具包](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=825) [这是一个便捷的方式来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=827) [打造一款 HomeKit 配件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=828) [这个 Dis 是一系列代码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=831) [运行于配件中 来帮助](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=833) [抽象大量](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=835) [实施细节 这些都是你](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=836) [之前不得不担心的东西](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=838) [现在我们还提供工具来帮助](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=839) [现在我们还提供工具来帮助](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=839) [处理许可问题 并且我们还会](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=842) [提供文件帮助你](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=844) [开始工作](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=845) [你还将得到一份](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=849) [说明书 里面囊括了所有](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=850) [商业支持 包括](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=851) [如何在配件中 设置身份验证权](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=854) [现在 配件工具开发包](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=856) [让打造配件的过程 变得十分简单](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=861) [之前你可能需要担心如何构建](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=864) [配件逻辑 采用协议 进行加密](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=866) [应用 WAC 所有这些其他的步骤](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=871) [而有了配件工具开发包](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=874) [我们将把这些琐事都为你办好](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=875) [我们为你的特殊配件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=878) [提供平台逻辑 并且](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=880) [HomeKit 配件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=882) [工具开发包为你摆平所有的细节](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=883) [这就意味着 你只需要考虑配件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=886) [逻辑 这是你的配件独一无二的部分](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=888) [也是你真正关心的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=891) [代码的一部分](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=892) [[ 掌声 ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=895) [[ 掌声 ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=895) [现在 HomeKit 配件工具开发包虽然刚刚起步](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=901) [但是我们已经收集了众多](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=903) [良好的反馈 我们的合作伙伴](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=904) [都在夸奖它有多么便捷](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=906) [MFI licensee 会发现](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=908) [它有多么容易上手](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=910) [并且我们也目睹了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=912) [新的伙伴数量正在随着时间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=913) [以前所未有的速度增加](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=915) [当然了 配件工具开发包是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=917) [可靠和安全的 因为我们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=918) [内部已经做了无数次测试](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=920) [并且我们安全部门的同事已经进行了审核](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=922) [而最美妙的事情在于](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=925) [配件工具开发包将得到我们持续的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=926) [升级 这个过程是全年进行的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=929) [因此只要有 iOS 更新 例如有了对配件的新支持](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=929) [或者是参数的调整](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=934) [我们就会相应更新配件工具开发包](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=935) [使之可以保持同步更新](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=937) [所以使用配件工具开发包](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=939) [到底有多快呢](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=943) [这么说吧 有了它 你可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=945) [构建一个功能模型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=946) [完成并运行它 只需要不到一周时间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=948) [但是我们看看这如何](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=951) [影响整个时间线](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=952) [所以之前我们的伙伴](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=954) [花费了大约六个月来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=958) [花费了大约六个月来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=958) [做开发 然后他们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=960) [不得不去做集成](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=961) [认证 然后才能上传他们的产品](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=963) [我们发现这经常](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=966) [需要一年的时间来完成](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=967) [而有了配件工具开发包 我们发现](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=971) [整个时间周期被大幅度缩短](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=973) [基于我们伙伴的反馈](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=976) [目前已经可以实现](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=977) [在三个月的时间内](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=979) [完成 HomeKit 配件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=980) [[ 掌声 ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=984) [配件工具开发包让制作配件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=988) [的过程变得比以往更容易](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=990) [想要了解更多 请加入 MFI 项目](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=992) [你将得到关于](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=995) [配件工具开发包的所有信息 而](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=996) [MFI licensee 已经在利用它们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=997) [打造优秀的配件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=998) [现在我想讲一下刚才提到的认证问题](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1001) [下面我们就此问题](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1003) [谈一谈](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1005) [这是 MFI 项目重要的一部分](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1006) [现在我们的客户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1009) [看到 Apple 标志会放心](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1011) [他们相信购买的产品是高质量的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1013) [所以当他们购买了一款](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1015) [可以和 Apple HomeKit 配合工作的配件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1018) [他们相信配件已经](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1021) [经过了彻底的测试并且](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1022) [由 Apple 进行了审核](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1024) [现在这个过程也和](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1026) [App Store 的审核流程类似 所以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1028) [在 HomeKit 方面 我们有一个审核配件的流程](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1030) [通过这个流程 来确保](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1034) [它们已经达到了我们对于](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1035) [品质的高要求 然后它们才算是为](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1036) [提供给客户做好准备](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1038) [现在一旦配件通过](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1040) [认证 它就可以使用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1043) [认证栈来启动](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1046) [这可以提供保证](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1048) [确保我们的顾客得到的是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1050) [高质量产品](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1051) [现在 认证本身](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1053) [可以通过我们的硬件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1054) [芯片或者通过我们全新的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1056) [基于软件的认证来完成](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1058) [作为一个 MFI licensee 你也可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1059) [接触到制造商伙伴 他们会](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1063) [对你的产品打入市场有所帮助](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1066) [所以只要今天坐在下面的你](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1068) [对于 HomeKit 有一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1069) [很棒的想法 这就是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1071) [你将它带回家的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1073) [千载难逢的好机会](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1076) [我们随时支持基于硬件的认证](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1077) [我们随时支持基于硬件的认证](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1077) [但是最近我们也开始](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1081) [支持基于软件的认证](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1084) [现在 顾客可以得到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1087) [同水平的质量和](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1090) [信任感 而这种合成](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1092) [支持将通过我们的固件升级来完成](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1094) [这很棒 因为它](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1096) [意味着你可以将 HomeKit 平铺运行在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1099) [那些已经向用户提供的配件上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1101) [目前还有其他三种特别棒的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1103) [工具 我还想借今天上午这个机会介绍一下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1107) [第一个是为配件开发人员](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1110) [提供的资源 它是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1112) [为 MFI licensee 准备的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1114) [而这就是 HomeKit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1116) [Accessory Tester](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1117) [这是一款 App 它有着](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1118) [简易的界面 来帮助你](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1121) [测试你的配件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1123) [这是一个有效验证方式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1126) [检测你的配件是否做好了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1128) [接受审核程序的准备](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1129) [第二个工具我想](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1131) [介绍的是 HomeKit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1134) [Certification Assistant](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1135) [这也是为 MFI licensee 提供的资源](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1139) [这也是为 MFI licensee 提供的资源](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1139) [也是加入这个项目的好处之一](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1142) [这是建立在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1145) [HomeKit Accessory Tester 之上的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1147) [它可以帮助你来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1149) [检测你的配件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1150) [甚至支持部分](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1153) [自动检测功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1156) [第三个工具我想](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1157) [说的是 HomeKit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1161) [Accessory Simulator](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1163) [这是专门为开发人员](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1165) [设计的一个工具 并且](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1167) [可以模仿不同类别的配件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1169) [允许你测试](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1172) [你的 App 确保它对](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1174) [所有 HomeKit 配件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1176) [类别都有效](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1177) [最好的地方在于](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1179) [这意味着你不用出门购买每个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1180) [配件来做你的测试](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1182) [你可以在 Xcode 和](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1184) [MFI 项目中找到它](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1190) [并且这其实也是一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1191) [我们内部在使用的工具 因为](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1194) [它是一种快速设置复杂的家居环境的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1195) [极其简便的方法](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1196) [而其中包含许多配件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1199) [而其中包含许多配件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1199) [当然你也可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1201) [在真实的配件上进行测试](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1202) [我们已经讨论了许多关于](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1205) [如何打造一个 HomeKit 配件的内容 但是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1208) [如何制作一个 HomeKit App 呢](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1211) [让我们换个话题 谈一谈](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1214) [如果想要制作一款 HomeKit App 需要做些什么](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1217) [现在有大量的 App 上架 App Store](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1219) [如何使你的 App 更加突出](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1225) [对于 HomeKit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1228) [思考谁是你的目标用户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1229) [至关重要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1231) [也许这延伸了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1233) [用户的功能性 比如](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1235) [调教或者矫正一款](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1237) [配件 或者也许你住在这样一个地区](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1238) [这个地区有某些功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1242) [而它们对于这个区域是具有特定性的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1244) [因而可能未存在于 App Store 中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1246) [如果你是一个 MFI licensee](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1250) [正在为你的配件打造](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1253) [一款 App 你也许想要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1255) [支持自主定制特性的服务](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1257) [支持自主定制特性的服务](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1257) [而在 HomeKit 上 有许多](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1261) [我今天即将谈到的 API](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1264) [但是在开始讨论](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1265) [细节之前 我认为还是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1267) [先看看针对对象的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1269) [高水平的分级制度](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1270) [所以我想谈到的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1274) [第一级叫做核心](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1276) [对象 即 HMHome](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1278) [它相当于一个整体的家 而在 HMHome 中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1280) [你可以有选择地拥有 HMZone](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1288) [现在可以有的东西 比如](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1291) [上下楼层](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1292) [你还可以拥有 HMRoom 这些房间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1295) [通常和房子相](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1298) [连接 例如厨房](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1299) [客厅 餐室 卧室](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1301) [而在这些房间里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1305) [你可以拥有 HMAccessorie](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1307) [这些灯光 电扇 摄像机 门锁](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1309) [都是我们所支持的常规配件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1312) [所以你的 home 和 HMHome](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1316) [包含 HMZone](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1317) [而 HMZone 包含 HMRoom](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1319) [而 HMZone 包含 HMRoom](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1319) [HMRoom 又包含 HMAccessorie](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1322) [目前 home 具备一些这样的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1329) [属性 但是 home](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1330) [真正的功能是作为中央](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1332) [组织对象来为 HomeKit 工作](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1334) [所以 home 就是用来添加](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1336) [附件 设置房间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1338) [制定场景 构造](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1341) [自动化的场所](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1343) [但是有的用户可能拥有](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1346) [不只一个家 因此你](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1347) [需要使用 HMHomeManager 来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1349) [帮助管理这些 home](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1352) [如果你想添加一个新的 home](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1354) [或者删除已经存在的 home](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1356) [都可以通过](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1358) [HMHomeManager API 来完成](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1359) [HomeKit 最棒的事情就是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1365) [你可以将 home 的控制权](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1366) [延伸给其他用户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1368) [同时我们还有访问控制的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1371) [功能 所以你可以给](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1373) [一对情侣或者是舍友全权的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1375) [管理权](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1377) [作为管理人 他们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1378) [作为管理人 他们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1378) [即这些用户们可以添加配件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1381) [编辑场景](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1383) [他们基本上拥有管理 home 的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1384) [所有权限](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1386) [但有时也许你只想分享给](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1389) [一些用户基本权限](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1391) [只允许他们来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1392) [控制配件而不是编辑它们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1395) [那他们就非管理者](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1397) [最重要的就是 如果你在设计](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1401) [这个 App 你就需要确保](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1403) [你的 HM 用户不是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1405) [那些被你剥夺了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1407) [一些关键性功能使用权的管理者](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1409) [App 应在他们尝试](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1411) [并使用时正常工作](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1413) [再次说明 所有用户管理](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1416) [都可以通过 HMHome](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1418) [对象完成 并且你将很快看到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1419) [这是一个普遍的设计模式 这在 HMHome](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1422) [上面已经显示了很多基本功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1426) [所以让我们来看看](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1428) [一些示例代码 看看它们什么样子](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1431) [所以这里我们做一个实例来说明](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1433) [HMHomeManager](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1438) [HMHomeManager](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1438) [现在我们想添加一个 home](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1441) [在 home 管理上面 所以我们要用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1444) [addHome API 并且设置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1446) [新 home 的名称](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1448) [我们要确保把自己设定为](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1450) [委托身份 这样才能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1452) [得到正确的委托回调](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1453) [最终 如果我们想要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1456) [为 home 设置用户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1458) [我们将使用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1459) [HMHome 完成设置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1462) [既然我提过 HMZone](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1467) [那么就花费点时间来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1469) [介绍一下它](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1470) [这是一个集成](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1471) [多种房间在一起的方式 就像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1472) [上下楼层 你可以将所有卧室放在一组](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1475) [并将它们归在一个区域](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1480) [所以它在上面有一些基本属性](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1482) [比如名称以及](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1484) [房间权限等 但是它仍然拥有](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1487) [唯一的标识符属性](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1488) [虽然这通常被](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1490) [忽略 但是这是追踪你所在的区域](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1492) [或者你关心的区域的方法](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1494) [所以当名称改变](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1496) [房间改变时 你仍然拥有](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1498) [访问这个特殊区域的权限](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1499) [访问这个特殊区域的权限](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1499) [在 HMRoom 对象上 我们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1504) [支持显示名称以及配件列表](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1506) [也包括这个唯一的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1510) [标识符属性 所以你可以与房间进行联系](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1512) [房间和区域](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1517) [通过 HMHome API 进行管理](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1519) [所以你想要添加或者删除](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1522) [一个房间 或者添加](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1524) [删除一个区域时 你可以通过](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1526) [HMHome API 完成](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1528) [所以如果我们回到一些简单的示例](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1531) [代码 让我们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1534) [[ 音质不清晰 ] 实际看一看](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1537) [我们在 home 中添加一个房间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1540) [并给它设置好名称](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1542) [然后我们再添加一个区域](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1544) [也给它设好区域名称](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1547) [然后我们把房间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1549) [和区域连接](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1552) [下一级的等级](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1558) [则是非常重要的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1559) [则是非常重要的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1559) [它是一种关系 存在于配件 服务和](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1561) [特性之间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1564) [也许这听起来很困惑](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1566) [因为配件包含服务](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1568) [而服务包含特性](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1570) [所以我们最好看看](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1573) [真实世界的例子 来给你们展示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1574) [这个观点 是如何将它们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1575) [组合在一起的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1576) [假设你有一个吊扇装置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1577) [这是一个简单的配件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1582) [它有灯 也有扇叶](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1586) [这个便映射出灯光服务](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1592) [和电扇服务](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1598) [现在 这些服务具备](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1601) [共同特性](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1603) [而这是所有服务都拥有的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1605) [但是它们同时还拥有](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1607) [对于它们的服务来说](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1609) [独一无二的特性](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1610) [比如灯光服务有电源](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1612) [亮度和色饱和度的特性](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1616) [而电扇服务则拥有电源](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1618) [而电扇服务则拥有电源](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1618) [转速和转向的特性](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1622) [其中的一些特性](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1625) [是可以选择的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1627) [因为正如你所知道的 并不是所有的灯都](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1629) [但是 HomeKit API 将](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1633) [展示这些特性 作为一种](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1637) [提升你的用户服务的方式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1639) [现在我们回头看](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1641) [我们的这个电风扇](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1642) [属于 HMAccessory](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1645) [我们有灯光服务和电扇服务 这属于](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1647) [HMService](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1652) [我们还有相应的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1654) [特性 这就是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1655) [HMCharacteristic](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1657) [所以我们来看 如果你在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1658) [API 上面寻找这些 你可以看到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1663) [我们拥有 HMAccessory 而它](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1665) [可以帮助你了解你正在控制的配件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1668) [这也可以显示一些属性 例如](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1671) [名称以及它支持的服务列表](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1673) [还有它正在运行的固件版本](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1677) [还有它正在运行的固件版本](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1677) [这仅仅是一个子样品](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1681) [它是配件上许多属性的其中之一](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1684) [我仅仅是想为你们展示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1686) [这个基本的概念 有什么类型的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1687) [属性显示在上面](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1689) [如果我们看一下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1692) [HMService 我们可以看到它显示了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1693) [一个特性列表](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1696) [这是一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1697) [设定的方法](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1700) [用来更新名称](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1704) [更新名称其实](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1704) [非常重要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1705) [为什么重要呢](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1709) [它重要是因为](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1711) [它是 Siri 和 Home App 与你的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1712) [配件交互的方式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1715) [所以你应该选择一个合适的默认名称](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1717) [你不会想用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1720) [序列号 或者 MAC](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1722) [地址或者是产品型号](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1724) [作为你的服务名称 因为这会带来麻烦](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1727) [让用户通过 Siri 来控制你的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1729) [配件更加困难](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1731) [你也不会想](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1732) [用一些特殊的符号或者数字](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1736) [甚至是 emoji 表情 标点符号等类似的东西](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1738) [因为这也会让](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1739) [因为这也会让](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1739) [你的用户在想要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1742) [同他们的配件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1743) [进行沟通时感到困惑](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1749) [现在我们支持超过四十种](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1749) [预先定义的服务类型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1752) [例如电灯泡](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1754) [恒温器 车库门](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1756) [电源插座 和所有类型的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1757) [感应器 这仅仅是在举例](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1759) [我们也同样支持](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1761) [指定的自定义服务](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1763) [当添加附件到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1765) [home 时 你可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1769) [回到 HMHome](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1771) [辅助方法](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1773) [这些 API 用起来十分简单](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1775) [但是我们还是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1776) [通过例子演示一下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1778) [addAccessory API 是一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1780) [调用 Home UI](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1784) [的服务 它和](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1786) [addAccessory 流有些类似](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1788) [这个我之前提到过](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1790) [你可以通过快速扫描二维码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1792) [或者使用 NFC 功能来添加](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1794) [配件到 home 的功能中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1796) [现在我想特别介绍最后一个方法](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1800) [就是使用载荷调用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1803) [addAndSetupAccessorie](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1805) [现在你可以使用载荷来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1806) [传输一个 HomeKit 配件码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1810) [用于 In-field 激活的情况](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1813) [所以这个 API 非常有用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1815) [尤其对于软件认证来说](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1817) [这就是当你](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1819) [的配件已经离开工厂](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1822) [但是没有 HomeKit 码在上边的情况](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1824) [你已经通过固件升级](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1827) [更新了你的配件 来提供](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1830) [HomeKit 支持 你不希望](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1831) [用户不得不通过](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1833) [记忆或者手动](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1835) [把 HomeKit 码记下来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1837) [这个 API 允许你](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1838) [传输 HomeKit 码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1840) [这样这个配件才能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1842) [无缝添加到 home 之中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1844) [现在这个 API 已经向](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1846) [MFI licensee 开放](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1850) [想得到更多的信息 请联系](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1852) [你的 MFI 代表](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1853) [所以我们看一些示例代码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1858) [所以我们看一些示例代码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1858) [即我们如何添加附件到 home 上 你只需要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1860) [调用 addAnd](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1863) [addAndSetupAccessories 在 home](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1865) [对象上即可 而 HomeKit 负责](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1867) [剩下的部分](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1868) [我之前提到过场景功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1871) [但是它是一个非常巨大的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1874) [概念 因此我想再花点时间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1875) [说得深一点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1877) [这就是你如何用来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1878) [整合不同类型的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1879) [配件以达到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1881) [可为用户提供综合体验的目的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1882) [我们有一些建议场景](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1884) [但是我们仍然支持](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1889) [用户的完全自定义](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1890) [关于场景最好的一件事在于](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1897) [Siri 能够理解场景的含义](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1897) [因此向 Siri 说出名称](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1901) [说出一个场景的名称](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1904) [Siri 就会立刻执行所说的场景](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1906) [现在我们在 HomeKit 上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1908) [不称它们为场景](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1913) [我们叫它们 HMActionSet](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1914) [当你想去建立一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1917) [HMActionSet 例如](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1918) [到家 你需要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1919) [到家 你需要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1919) [建造一个 HMAction 列表然后](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1922) [你才能将它们连接到操作集](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1927) [所以操作集 还有](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1930) [HMActionSet 包含所有](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1933) [单独的 HMAction](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1936) [我们支持一些预先设定的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1940) [场景 例如起床 睡觉](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1943) [离开房间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1946) [和回家](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1953) [这不仅给了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1954) [用户一些关于可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1956) [设定什么类型指令的概念](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1958) [同时我们也](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1959) [认为这些场景最有用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1961) [当然 我们支持](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1963) [用户自定义操作集](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1967) [最棒的事情就是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1969) [可以建造适合你的最佳观影场景灯光](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1970) [所以我想再说一次 想添加它们到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1975) [home 我们可以使用 HMHome](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1978) [API 因为它帮助你](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1979) [API 因为它帮助你](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1979) [添加操作集 执行](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1981) [操作集 HMHome](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1984) [API 也可以显示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1988) [访问嵌入式指令](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1991) [集的方式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1998) [所以我们看这个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1998) [示例代码 我们将看到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=1999) [如果想要建立一个操作集](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2001) [我们在 home 上调用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2004) [addActionSet withName 我们输入](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2006) [操作集的名称 然后让它](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2007) [循环访问我们的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2010) [指令列表并把每个都添加进操作集中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2012) [然后接下来如果我们想要执行这个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2017) [场景 你只需调用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2019) [在 home 上的 executeActionSet](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2022) [通过 UI](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2028) [或者 Siri 使用场景非常便捷](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2030) [但是有时你想让这件事](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2032) [更加自动化](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2033) [我们有几种](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2035) [选择可以用来激活场景](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2037) [并自动控制配件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2039) [并自动控制配件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2039) [这是基于地理围栏的功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2041) [你可以打开家里的灯](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2044) [当你到家时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2046) [或者是基于时间触发 比如](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2048) [你可以在起床之前](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2049) [打开暖气](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2051) [它们也可以基于配件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2053) [你可以利用一个运动传感器开灯](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2055) [它们也能基于存在触发](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2058) [因此在你出门上班时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2061) [灯会自动关闭](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2064) [甚至一些激活指令本身](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2070) [也是由操作集组成](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2071) [在 HMEvent 上的 API 或者](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2073) [HMTrigger 多数都涉及](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2075) [命名 添加和许可](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2077) [现在有了自动化操作 你可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2083) [设定它们执行一次指令或者](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2088) [你也可以让它们重复运行](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2091) [你能让它们发生一次](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2093) [也可以让它们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2095) [每天都发生 再或者](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2097) [每天都发生 再或者](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2097) [你只想让它们在工作日发生 或者是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2100) [只在每个周五发生](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2103) [有了自动化 你有了控制权来控制运行](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2105) [频率并且可以设置你想](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2107) [让自动操作运行多少次](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2109) [现在我们看看](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2112) [如何制作 HMTrigger 以及](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2114) [如何把它添加进 home](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2116) [就比如说我们想要创造](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2118) [一个自动操作 它将在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2119) [每晚的七点开始工作](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2120) [首先我们建立我们的日期](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2123) [部分然后我们把时间设定到晚上七点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2125) [然后我们在建立一个日历](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2129) [事件 并且使用那个部件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2130) [然后我们就生成了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2134) [基于时间事件的激活指令](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2136) [现在 我们需要添加这个激活指令](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2137) [到 home 上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2140) [然后我们还需要把指令](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2141) [集加入到激活指令中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2144) [这就允许你运行](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2145) [自动操作了 它发生在每晚的七点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2148) [就比如说我们设定](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2150) [每天晚上七点开灯](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2152) [现在就非常棒了 除了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2155) [有时一年的某个时间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2156) [晚上七点太阳还没落山](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2159) [晚上七点太阳还没落山](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2159) [也可能有时候 一年的某些时候](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2161) [在晚上七点之前就变暗了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2162) [有时又在七点之后才天黑](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2164) [所以在每天晚上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2167) [七点开灯并不是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2168) [你真正想要的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2169) [所以我们为此还支持所谓的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2172) [重要时间事件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2174) [这就是日出和日落](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2176) [回顾一下之前的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2179) [例子 我们可以把指令变成](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2181) [每天晚上七点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2183) [开灯](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2186) [我们也支持相对时间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2188) [偏移设定 所以你可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2190) [设置开灯指令 让它在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2192) [日落之前的三十分钟前运行](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2194) [所以回到之前所说的代码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2195) [然后做一些调整](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2198) [这样我们可以让这个指令](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2202) [在每晚的日落三十分钟前进行](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2204) [所以第一件我们要做的事](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2206) [就是改变我们的日期部件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2209) [使它变成三十分钟](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2211) [现在你看到这是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2213) [负三十分钟 这是因为我们想](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2214) [让它在日落之前](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2215) [提前三十分钟运行](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2217) [然后我们要为日落建造一个重要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2219) [然后我们要为日落建造一个重要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2219) [时间事件 然后再把偏移设定好

00:37:04.396 --> 00:37:06.836 A:middle
然后 我们就完成了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2220) [激活指令 我们把它放进日落事件中去](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2226) [我们执行之前的这个代码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2231) [这个代码将](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2233) [激活指令加入了 home](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2234) [也把操作集加入了激活指令](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2236) [但是有时你并不想](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2242) [让这些自动操作运行](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2243) [你也许不想让暖气](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2246) [在清晨没人的情况下被打开](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2247) [你也不想在白天 门被打开的时候](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2249) [灯自动亮起](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2252) [所以我们支持条件设定](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2257) [这可以基于时间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2261) [也可以基于存在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2264) [基于配件状态](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2267) [也可以是基于重要事件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2271) [我在我的家里的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2275) [我在我的家里的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2275) [有一个自动操作](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2280) [有人离开时灯就会自动关闭](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2283) [这非常棒 除了我和我妻子一起住](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2285) [所以当她离开家的时候](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2290) [所有的灯光就被关闭了 而我就陷入了黑暗里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2292) [而有了基于存在的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2296) [条件设定 你可以更新这个指令](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2298) [这样灯光只会在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2300) [最后一个人离开的情况下关闭](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2302) [现在 为了设置这些条件 我们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2304) [要用到判断功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2307) [让我们再看看示例代码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2308) [我们可以看到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2314) [我们使用了和之前相同的落日时间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2317) [偏移设定](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2321) [我们要制造一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2321) [存在事件 即当用户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2324) [在家的时候](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2328) [我们会利用这个存在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2330) [事件来做一个预测设定](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2332) [我们将预测放进](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2336) [激活指令中去](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2337) [然后我们再看之前相同的这个示例](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2339) [然后我们再看之前相同的这个示例](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2339) [代码 我们已经将](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2342) [激活指令放进了 home 并且](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2344) [将操作集放进了激活指令中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2347) [所以现在 我们已经完成了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2353) [从每天晚上七点自动运行的指令](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2354) [到一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2356) [每天晚上日落之前三十分钟才触发](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2358) [的指令过渡 而且是在家里有人的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2362) [情况下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2365) [现在 我们还支持](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2371) [HomeKit 摄像机](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2373) [有一些 HomeKit API](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2374) [可以让你展示 live 流 静止图像和](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2378) [进行摄像机的一些设置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2384) [这种支持也包括控制](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2387) [音响和麦克风声音的大小](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2391) [让我们也同样快速浏览一下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2392) [关于这点的示例代码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2396) [你可以看到我们有一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2402) [功能 就是开启配件的相机流](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2403) [我们要确保设置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2407) [了自己作为委托人 这样才能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2411) [得到正确的委托回调](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2413) [现在我们用这个开始流的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2416) [API 去打开流 然后我们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2418) [也需要确保创造了一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2421) [摄像机视图 并添加到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2423) [我们的等级视图里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2426) [这就可以让我们播放](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2428) [我们 App 中的相机流](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2429) [然后我们就会得到委托回调](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2433) [这是 HMCameraStream ControlDelegate](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2437) [我们将得到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2441) [cameraStreamControl](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2442) [DidStartStream 委托回调](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2445) [而我们只需要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2448) [给相机流](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2449) [设置一个相机来源](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2451) [这就是今天示例代码的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2452) [全部内容 但是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2455) [还有许多在线的文件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2457) [可以供这些 API 使用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2459) [可以供这些 API 使用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2459) [我们希望这给你一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2461) [全新的视角来看待和了解](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2466) [HomeKit 如何工作的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2468) [我们鼓励你们参加 MFI 项目](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2469) [利用所有这些出色的资源和](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2471) [强大的工具](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2474) [变成 MFI licensee 真的是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2476) [超乎想象的容易](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2478) [来我们的实验室](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2480) [了解更多内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2481) [如果你已经是 MFI](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2483) [licensee 那么请联系你的 MFI](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2484) [代表来获取](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2486) [最新的工具](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2489) [有了全新的配件工具开发包 我们让](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2493) [配件走向市场的过程变得](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2495) [比以往更加容易](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2497) [不论你是针对 HomeKit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2499) [打造自己的配件 使用固件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2502) [升级或者是第一次创造一款全新的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2504) [HomeKit 配件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2506) [使用这些工具并](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2508) [结合 HomeKit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2510) [你就可以得到原生系列的支持](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2512) [来同其他的 HomeKit 配件相组合](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2514) [我们已经迫不及待地想要见证](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2516) [你们制造出来的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2519) [你们制造出来的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2519) [优秀配件了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2521) [同时我们也鼓励你们使用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2523) [这些 API 来提供独一无二的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2524) [用户体验](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2526) [更好的利用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2529) [HomeKit 所提供的支持](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2531) [如果你想得到更多的信息或者了解](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2537) [今天我们讨论的任何内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2539) [请打开这个链接](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2541) [或者来我们的实验室参观](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2544) [我们将在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2545) [科技实验室 12 区 它将马上开始](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2547) [谢谢你们的到来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2551) [希望你们有个美好的 WWDC](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2553) [[ 掌声 ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/231/?time=2557)