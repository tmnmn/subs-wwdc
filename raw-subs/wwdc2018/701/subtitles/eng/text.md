# Using Accelerate and simd

## Summary
Learn how to use sophisticated Signal and Image Processing techniques to bring higher performance to your apps while lowering battery consumption.  See compelling use cases for the Accelerate framework with interactive demos. Explore using simdâ€”a valuable addition that effortlessly brings vector programming to your apps.

## Info
* Frameworks
* WWDC 2018 - Session 701 - iOS, macOS, tvOS, watchOS
* https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/

## Text
 [[ Music ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=6) [&gt;&gt; Good morning.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=22) [How is everybody?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=23) [&gt;&gt; Good.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=24) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=25) [&gt;&gt; My name is Matthew Badin, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=29) [I'm an engineer at Apple.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=30) [Welcome to the Using Accelerate](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=32) [and simd session.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=33) [So my colleague Luke Chang and I](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=37) [are pretty excited today.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=38) [We get to talk to you about all](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=39) [the great APIs that are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=40) [available in Accelerate and its](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=41) [associated frameworks, and we're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=43) [going to start by taking a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=45) [high-level overview of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=46) [Accelerate and some of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=47) [high-performance libraries that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=48) [are contained inside it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=49) [We're then going to take a deep](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=51) [dive into a few of libraries,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=52) [and we're going to start by](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=54) [taking a look at vDSP.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=56) [We have two examples for you.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=57) [The first one, we're going to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=60) [show you how to extract signal](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=61) [from noise, and then we're going](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=63) [to show you how you can remove](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=64) [certain types of artifacts from](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=66) [an image.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=67) [We're then going to take a look](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=69) [at simd, and we're going to show](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=70) [you how you can use quaternions](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=72) [to represent rotations in three](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=73) [dimensions.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=74) [I'm then going to pass off the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=76) [presentation to my colleague,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=79) [Luke Cheng, who's going to show](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=80) [you some of the interesting](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=81) [things that you can do with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=82) [vImage.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=83) [So with that, let's get started.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=85) [So you're probably asking](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=87) [yourself exactly this.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=90) [What on Earth is Accelerate?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=91) [So the primary purpose of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=93) [Accelerate is to provide](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=97) [thousands of low-level math](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=98) [primitives, and we provide these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=100) [primitives across all of Apple's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=102) [platforms.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=103) [So this includes not only iOS](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=104) [and macOS but watchOS and tvOS](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=106) [as well.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=108) [Most of these primitives are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=111) [hand-tuned to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=112) [microarchitecture of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=113) [processor.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=114) [So this means we get excellent](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=116) [performance.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=117) [And this performance translates](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=118) [And this performance translates](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=118) [directly into energy savings.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=121) [So if you're an app developer](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=123) [and you use the Accelerate](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=125) [framework, not only will your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=126) [application run faster, but](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=128) [you'll also use less battery](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=129) [life.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=130) [This means your users are going](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=131) [to have an overall better](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=132) [experience.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=133) [Now, because we provide so many](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=138) [primitives, we find it useful to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=140) [organize or group them into](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=142) [domain-specific libraries.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=144) [So, for instance, we group all](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=146) [the signal processing primitives](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=148) [under vDSP.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=149) [So, for instance, this would be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=152) [your FFTs or your DFTs and your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=153) [DCTs, your fast Fourier](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=155) [transforms, your discrete cosine](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=156) [transforms.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=157) [VImage contains the image](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=160) [processing primitives.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=162) [If you're doing color space](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=164) [conversions, this is the library](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=165) [for you.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=168) [VForce contains vector versions](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=169) [of the transcendental functions.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=171) [So for instance sine and cosine.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=172) [We also have support for dense](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=176) [linear algebra as well as sparse](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=177) [linear algebra as well as sparse](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=177) [linear algebra, and we have a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=180) [specialized library for neural](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=183) [networks called BNNS.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=185) [It stands for Basic Neural](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=186) [Network Subroutines.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=187) [Not strictly part of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=189) [Accelerate framework but very](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=190) [closely related, and we find](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=192) [these libraries very useful,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=193) [include libraries like simd,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=195) [which is a vector programming](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=197) [aid for the CPU, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=198) [Compression, which contains](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=200) [several different lossless data](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=202) [compression algorithms.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=203) [So let's take a look at our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=204) [first library.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=207) [We're going to take a look at](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=208) [vDSP.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=211) [VDSP is a state-of-the-art](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=211) [signal processing library, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=213) [it contains a wide range of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=214) [signal processing primitives.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=215) [These range from basic](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=217) [arithmetic operations on arrays](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=219) [such as add and subtract as well](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=220) [as more complicated operations](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=223) [like convolution and FFTs.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=224) [If you're a successful app](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=227) [developer and maybe in the past](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=230) [you have avoided FFTs, I want to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=231) [show you how we make that easy](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=234) [with Accelerate.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=235) [With just a few lines of code,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=236) [you can make that work.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=237) [And I have an example.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=239) [I'm going to show you how to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=239) [I'm going to show you how to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=239) [extract signal from noise.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=240) [So what we have here is an audio](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=255) [signal.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=255) [This is the base signal.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=256) [We haven't added any noise to it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=258) [yet, and you'll notice I have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=259) [two sliders at the bottom.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=260) [In the lower left I have a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=262) [slider that lets me add noise,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=264) [and you can see that.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=267) [And I also have a second slider](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=270) [that let's me remove this noise](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=271) [called Threshold.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=274) [You'll also notice I have a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=277) [toggle switch in the lower](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=278) [right.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=279) [This lets me look at this under](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=280) [a different domain.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=282) [So currently we're looking at](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=283) [this signal under the time](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=285) [domain.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=286) [We're going to do some analysis](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=287) [and see this signal in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=289) [frequency domain.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=290) [You can see all the spikes on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=291) [the left.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=294) [Those are the frequency](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=295) [components of the signal.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=296) [You'll also notice the blue bar.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=299) [You'll also notice the blue bar.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=299) [The blue bar is the threshold](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=302) [slider, so you can see I can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=304) [move it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=305) [So what I'm going to do now is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=307) [add some more noise to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=310) [signal.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=311) [Actually, let's add quite a bit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=312) [of noise.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=313) [So you can see the signal that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=318) [I'm still interested in is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=319) [represented by the spikes on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=321) [left or another way of looking](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=322) [at it is the spikes with the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=324) [tallest height, and what we've](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=326) [added, the type of noise we're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=328) [adding to this, is background](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=329) [noise.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=330) [So it's kind of evenly](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=331) [distributed spikes everywhere,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=332) [but they're low-level spikes.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=334) [So now I'm going to remove this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=337) [noise, and the way I'm going to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=338) [do this is I'm going to move](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=340) [this threshold slightly higher.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=341) [As I do this, what's happening](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=344) [is, behind the scenes, is we're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=345) [identifying any frequency](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=347) [component less than this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=350) [threshold and removing it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=351) [We're saying effectively if](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=352) [there is any spike with a height](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=354) [less than this blue bar, we're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=355) [going to pretend it's noise and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=357) [remove it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=358) [So if I keep sliding this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=360) [higher,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=362) [eventually I've removed all the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=365) [noise.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=367) [And if I go back to the time](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=367) [domain, you can see that I](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=372) [removed the noise.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=372) [And in case you don't believe](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=374) [me, we can remove the threshold,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=374) [and this is what this looks like](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=377) [with all the noise still added.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=379) [So let me show you how we do](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=381) [that.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=383) [At a high level what we're going](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=390) [to do is first perform an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=390) [analysis on a signal.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=392) [That's what the switch let me](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=393) [do.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=394) [We're then going to identify the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=396) [frequency components that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=397) [represent the noise and remove](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=398) [them.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=400) [After we have done that, we're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=401) [going to reconstruct the audio](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=403) [signal.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=404) [So let me show you some code.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=404) [What we're going to use here is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=410) [a discrete cosine transform or a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=411) [DCT.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=413) [You can see here the DCT](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=415) [CreateSetup.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=416) [This context is going to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=418) [This context is going to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=418) [describe the type of work we're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=421) [going to do as well as give us](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=422) [space to perform this work.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=423) [In this case, we're going to use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=426) [a type 2 DCT.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=428) [We're then going to pass this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=430) [context to an execute function.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=431) [This will actually perform the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=436) [work.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=438) [Once we've performed the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=441) [analysis, we want to remove the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=442) [noise.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=443) [This right here is where the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=444) [magic happens.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=445) [This routine is going to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=447) [identify any frequency component](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=448) [less than that threshold and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=450) [make it zero.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=452) [It's going to zero it out.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=453) [After we've done that, we want](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=456) [to reconstruct the audio signal.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=457) [Again, we're going to need to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=463) [use CreateSetup to create](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=464) [context.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=465) [In this case, we're going to use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=467) [a type 3 DCT to reconstruct the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=469) [signal.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=472) [We're then going to pass this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=476) [context DCT execute, and this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=478) [context DCT execute, and this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=478) [will actually perform the work](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=480) [of reconstructing the audio](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=482) [signal.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=482) [So what we've shown you is an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=485) [example of how you can remove](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=488) [certain types of noise from an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=489) [audio signal using vDSP.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=491) [I want to show you an example of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=491) [how we can remove certain types](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=494) [of noise from an image also](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=495) [using vDSP.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=497) [In this case, we're going to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=498) [restore an old newspaper](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=502) [photograph.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=503) [So what we've done is we've](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=512) [taken this image, and we've](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=512) [applied a two-tone screen to it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=516) [So this could represent an old](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=519) [newspaper photograph.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=520) [And what we're going to try to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=521) [do is remove this screen.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=522) [We're going to try to remove the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=525) [artifacts that you see.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=526) [Currently, we're in off, so](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=528) [we're not doing anything.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=529) [What we're going to do is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=531) [actually take a sample of this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=532) [screen, and we're going to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=533) [create a mask from that sample](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=535) [and then apply that to the image](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=536) [to try to remove it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=538) [So let me show you the first](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=538) [So let me show you the first](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=538) [attempt.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=540) [So what we're doing is we are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=545) [identifying a frequency](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=546) [component at a certain](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=548) [threshold, and any frequency](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=549) [component higher than that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=551) [threshold we're going to remove.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=553) [And you see, if we set the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=557) [threshold too low, not only do](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=557) [we remove the artifacts, but we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=560) [also remove quite a bit of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=562) [image as well.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=563) [If we set it too high, you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=567) [see that we didn't do much of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=569) [anything.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=577) [Medium seems about right.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=578) [Medium seems too correctly](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=580) [identify the artifacts in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=582) [image without damaging too much](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=585) [of the image.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=587) [So let me show you how we do](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=588) [that.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=589) [At a high level what we're going](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=595) [to do is we're going to perform](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=596) [an FFT on the image and the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=597) [sample.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=599) [We're then going to create a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=601) [mask from that sample and apply](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=602) [it to the image.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=604) [Once we've done that, we're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=607) [going to reconstruct the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=608) [original image.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=609) [So let me walk you through some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=610) [code.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=611) [We're going to do an FFT.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=614) [This means it needs to be a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=618) [power of 2.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=619) [That's why you see the log2](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=620) [call.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=621) [The 1024 x 1024 is the size of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=621) [the image.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=624) [We're then going to pass it to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=628) [fft2d zrop.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=630) [This is quite a mouthful.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=631) [The important part here is the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=632) [op stands for out of place.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=633) [So we're going to have to create](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=635) [some temporary space just for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=636) [the result.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=638) [We're going to store in this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=639) [complex structure, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=642) [effectively this says we're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=644) [going to store the complex](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=645) [number in two arrays with the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=646) [real component in one array and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=648) [the imaginary component in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=649) [second.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=651) [We also need to specify a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=652) [direction.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=653) [In this case we're going to do a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=654) [forward FFT.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=655) [Now the artifact removal is a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=661) [little bit more advanced, so I'm](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=664) [only going to go through this at](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=666) [a very high level.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=667) [I recommend you download the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=669) [sample application that's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=670) [available online right now, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=671) [each one of these routines is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=673) [also documented under vDSP, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=674) [we have excellent online](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=676) [documentation.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=677) [A high level what we're going to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=678) [do is we're going to identify](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=681) [the magnitude of the frequency](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=682) [components, in this case with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=684) [the sample.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=685) [We're then going to identify the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=687) [components we want to remove.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=688) [We're then going to create a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=691) [mask from that.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=693) [And once we've done that, we're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=696) [going to apply that mask to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=697) [image.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=699) [Effectively what we're doing is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=700) [we're multiplying by 0 the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=702) [components we want to remove and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=704) [by 1 the components we want to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=705) [keep.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=706) [We're going to use zrop again to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=712) [reconstruct the image.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=713) [Because this is an FFT, we get](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=715) [to reuse the context.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=716) [In this case, one key detail is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=721) [we're going to store the image](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=723) [in two arrays because this is a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=725) [complex structure.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=726) [So the even pixels are going to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=728) [be in the real array, and the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=729) [odd pixels are going to be in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=730) [the imaginary.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=731) [And again we're going to specify](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=732) [a direction.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=736) [In this case, we're going to use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=736) [an inverse FFT.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=737) [So now I want to shift gears for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=738) [a moment.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=741) [Previously we showed you two](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=742) [examples, and we had two working](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=743) [examples for vDSP, and then we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=747) [worked backwards, and we showed](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=749) [you how we constructed these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=750) [examples.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=754) [We worked backwards and showed](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=754) [you the moving pieces.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=755) [For this next library, what I](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=757) [want to do is start at the basic](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=759) [components.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=760) [I want to build up to a result.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=761) [So we're going to take a look at](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=762) [simd, and we're going to start](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=764) [at the basic low-level](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=766) [primitives, and we're going to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=766) [build up to rotations.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=768) [In this case, rotations of 3D](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=770) [objects.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=771) [At a high level, simd is an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=772) [abstraction for the vector](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=777) [processing unit.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=778) [So what this lets you do is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=780) [declare vector and matrix](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=782) [objects, and you get to perform](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=784) [operations on these objects, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=786) [this will map directly to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=788) [vector hardware of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=789) [processor.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=790) [So let me show you a coding](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=791) [example.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=792) [So what we're going to do here](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=793) [is we're going to take two](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=796) [arrays, and we're going to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=797) [average the components.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=798) [So we're going to iteratively go](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=799) [through each of the scaler](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=801) [components, add them together,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=803) [and divide by 2.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=804) [This is going to be really slow.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=805) [Instead, you can declare these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=810) [arrays as simd float4 vector](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=812) [types.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=814) [So then we can perform basic](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=816) [arithmetic operations on these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=818) [objects.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=820) [So not only can you express the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=822) [computation more naturally, but](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=824) [this will also run about as fast](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=825) [as it can.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=827) [And this will work across all of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=829) [Apple's platforms.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=831) [Simd has a tremendous amount of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=836) [functionality.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=837) [In addition to vector and matrix](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=838) [In addition to vector and matrix](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=838) [objects and allowing you to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=840) [perform arithmetic operations on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=843) [these objects.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=846) [It has extensions.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=847) [So for instance, dot products](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=849) [and clamp.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=852) [It also has support for the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=854) [transcendental functions, so for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=855) [instance sine and cosine as well](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=856) [as quaternions.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=860) [Quaternions are very useful for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=861) [representing rotations in three](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=863) [dimensions, and I actually want](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=864) [to talk a little bit more about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=865) [those.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=867) [So I'm going to walk you through](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=867) [a coding example.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=870) [There's quite a bit to unpack](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=872) [here.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=874) [So we're going to start on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=875) [right.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=876) [We have a unit sphere.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=877) [That's what this gray sphere is.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=878) [And you'll notice this red dot.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=879) [And that's actually the tip of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=882) [this vector.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=884) [We've declared a simd float3](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=885) [vector.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=887) [We've set the x and y components](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=888) [to 0 and the z component to 1.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=889) [So it's coming out at us.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=892) [And that red dot is represented](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=893) [by the tip of that vector.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=895) [We're now going to perform a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=898) [rotation on this vector using a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=899) [rotation on this vector using a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=899) [quaternion.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=901) [Technically, we're rotating the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=903) [entire scene, but for purposes](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=904) [of illustration, we're going to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=906) [say we're rotating this vector.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=907) [When using a quaternion for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=910) [rotations, you need to specify](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=911) [an axis and angle of rotation.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=912) [Or to put it another way, what](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=914) [are you rotating about and by](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=917) [how much.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=918) [So we're going to rotate about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=919) [the x axis, and we're going to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=921) [rotate pi over 3 radians up.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=922) [You apply the rotation by](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=927) [calling the simd act function.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=928) [This applies the action of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=931) [quaternion on that vector and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=933) [returns a rotated vector.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=934) [So let's take a look at that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=936) [now.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=937) [So normally you're not](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=947) [interested in rotating along a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=948) [single axis.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=949) [You usually want to rotate along](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=950) [multiple axes, and if you're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=951) [already familiar with rotation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=954) [matrices, this is going to seem](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=955) [very natural.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=956) [Like rotation matrices, you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=960) [combine the rotations using](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=961) [multiplication, and also like](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=962) [rotation matrices, the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=963) [multiplication is not](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=964) [commutative.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=965) [So this means if you change the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=966) [order of the operands, you will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=968) [change the order of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=969) [rotations.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=970) [So effectively what we're going](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=971) [to do here is rotate pi over 3](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=974) [radians up, and then pi over 3](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=975) [radians to the right.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=977) [And we're going to combine that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=979) [into a single rotation.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=979) [Some of the more interesting](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=986) [things you can actually do with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=987) [quaternions and simd is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=988) [interpolation, and we support](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=990) [two types of interpolation.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=991) [The first is Slerp.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=994) [It stands for Spherical Linear](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=996) [Interpolation, and there are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=999) [actually two variants of it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1002) [We have simd slerp, which will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1005) [find the shortest arc between](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1008) [these two points, in this case](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1009) [between the blue and the green,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1011) [and we have simd slerp longest,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1013) [which will find the longest arc.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1015) [So you'll actually see it go](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1016) [behind the unit sphere.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1017) [The second variant is Spline.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1027) [Spline is really more useful if](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1029) [you have more than two](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1031) [rotations.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1032) [So, for instance, here we're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1033) [going to interpolate between an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1034) [array of rotations, and there's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1036) [quite a bit of boilerplate code](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1038) [here, so I want you to focus](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1039) [just on the Spline call.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1040) [Effectively what we're doing is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1043) [just iterating through all the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1045) [individual rotations and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1047) [applying Spline.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1048) [So the thing you have to specify](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1054) [with Spline is not only the two](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1055) [rotations that you wish to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1058) [interpolate between but also the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1059) [previous and the next as well.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1060) [And this is what this looks](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1062) [like.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1064) [So if you're a game developer,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1072) [you're probably not interested](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1073) [in rotating individual vectors.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1074) [You're probably interested in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1075) [rotating objects.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1076) [So we have that for you.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1077) [We have a cube.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1078) [It's represented by multiple](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1080) [vectors, and it's going to go](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1082) [through a series of eight](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1083) [rotations.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1084) [On the left, we're going to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1085) [trace those rotations using](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1086) [Slerp, and on the right we're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1087) [going to use Spline.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1089) [So let me show you what Slerp](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1090) [looks like.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1091) [And you can see because it's a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1100) [linear interpolation, every](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1100) [single time it changes direction](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1101) [you get these sharp corners.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1103) [Whereas if we look at Spline --](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1105) [Because it's aware of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1115) [previous and next rotation as](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1115) [well, you end up with these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1117) [rounded corners.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1118) [So let's see that again.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1119) [So now I went through all those](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1132) [topics pretty quickly, so as a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1133) [quick recap, we started by](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1135) [taking a look at vDSP, and we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1138) [taking a look at vDSP, and we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1138) [showed you two examples.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1140) [The first was how to extract a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1141) [signal from noise, and the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1142) [second was how to remove certain](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1144) [types of artifacts from an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1146) [image.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1147) [We then took a look at simd, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1148) [I showed you how you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1150) [represent rotations in three](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1151) [dimensions using quaternions.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1152) [I'm now going to pass off the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1154) [presentation to my colleague,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1156) [Luke Chang, who's going to show](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1157) [you some of the interesting](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1158) [things you can do with vImage.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1159) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1161) [&gt;&gt; Thank you, Matthew.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1166) [Hello everyone.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1170) [My name is Luke Chang.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1171) [I'm an engineer in Vector and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1172) [Numerics group.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1173) [Today, I'm going to talk about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1175) [vImage, what vImage offers, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1176) [how easy it is to use vImage in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1179) [your apps.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1181) [With just a few lines of code,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1181) [you can create engaging video](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1183) [effects in your app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1185) [Let's get right to it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1187) [VImage is our image processing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1190) [library.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1192) [It has several components.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1193) [The first component is the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1196) [conversion function.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1198) [Conversion function help you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1200) [move image between different](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1202) [image formats.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1204) [Different image formats have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1206) [different advantages.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1208) [For example, RGV format matches](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1210) [the pixels on your display, so](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1213) [it's best for the display.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1215) [On the other hand, we have YCbCr](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1217) [image, which is similar to how](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1219) [human perceive the image.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1221) [Human eyes recognize brightness,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1224) [which is the luminance channel.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1226) [Also, the color, which is the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1228) [chrominance channel.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1230) [Also, camera uses YCbCr format](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1232) [to capture images.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1235) [So converging function helps you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1237) [easily move images between these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1239) [formats.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1241) [Next, we have geometry function.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1243) [Geometry function changes the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1246) [size or orientation of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1248) [image.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1250) [We have vImage scale that can do](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1252) [enlarge or shrink the image.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1254) [We use Lanczos algorithm, so](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1257) [we'll have high-quality output](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1259) [we'll have high-quality output](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1259) [after the operation.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1261) [We also have vImage rotate that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1263) [can rotate image clockwise or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1266) [counterclockwise.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1267) [Next, convolution function.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1269) [The most notable effect of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1273) [convolution function is the blur](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1275) [effect.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1277) [You see blur effect all the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1278) [time, in UI, in photography.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1280) [If you want to phase something](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1283) [into the background, you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1285) [apply the blur function, blur](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1286) [effect.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1289) [Next, transform function.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1291) [Transform function is basically](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1293) [a matrix multiply.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1295) [It lets you operate on the data](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1297) [channel of each pixel.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1299) [Let's say you want to increase](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1301) [red or increase green, you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1302) [do that with transform](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1304) [functions.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1306) [Morphology.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1308) [Morphology changes the size or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1310) [shape of the objects in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1312) [image, not the image itself.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1314) [We have vImage erode, vImage](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1317) [We have vImage erode, vImage](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1317) [dilate to make the object](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1320) [smaller and bigger.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1322) [If you're feeling adventurous,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1324) [you can actually provide a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1326) [custom shape of kernels to these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1328) [functions, and vImage erode and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1330) [dilate will make the object](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1333) [smaller or bigger according to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1335) [the kernel you provided.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1337) [Those are the five things in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1340) [vImage.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1341) [Now, I want to show you a demo](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1342) [app that we wrote based on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1344) [vImage and show you what kind of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1346) [effect you can get from vImage.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1348) [What I have here is a lab that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1354) [captures images using the back](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1355) [camera and put the image onto](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1357) [the screen.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1360) [And we're doing in real-time.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1362) [This is a live stream, so you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1364) [can see the drinking bird doing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1365) [its motion next to the roses.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1367) [All right, the first effect I](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1370) [want to show you is the color](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1371) [saturation effect.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1373) [You can see this effect in a lot](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1374) [of photo editing software.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1377) [So I want to bring out the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1380) [color.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1381) [What I can do is move this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1382) [slider to the right to make the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1384) [red really red and green really](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1389) [green.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1391) [And on the other side, I have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1393) [white roses.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1395) [I feel that the color of white](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1397) [roses is not that interesting to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1400) [me.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1401) [I would like to direct the focus](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1401) [of my audience to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1403) [composition and the contrast of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1404) [this image.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1407) [I can slide to the left to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1408) [desaturate the image to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1412) [point that this becomes a black](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1416) [and white image.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1418) [So now color is no more](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1419) [distraction in this image, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1421) [the viewer can focus on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1423) [composition and contrast.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1425) [Okay. So, how do we do this?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1428) [There are several steps we need](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1436) [to take.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1437) [First, of course, we have to get](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1437) [First, of course, we have to get](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1437) [the image from the camera, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1440) [then we want to use vImage to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1443) [process, to apply the effect, so](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1445) [we have to prepare the input and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1448) [output buffer for vImage.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1450) [Then we actually calling vImage](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1453) [functions to apply these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1455) [effects, and we display the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1456) [output to the screen.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1459) [Let me jump ahead and talk about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1462) [how do we apply effects using](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1465) [vImage functions.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1467) [The effect I show you is a color](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1469) [saturation effect, and here is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1472) [the formula to do color](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1474) [saturation.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1475) [Basically, we want to remove the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1477) [bias from the pixel, and using](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1478) [multiplication to apply the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1481) [saturation effects, and then we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1483) [put the bias back to the pixel.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1486) [VImage has exactly the function](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1489) [to do this operation, which is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1491) [vImage matrix multiply.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1494) [VImage matrix multiply takes the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1498) [VImage matrix multiply takes the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1498) [preBias, in this case minus 128,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1500) [to remove the bias, and because](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1503) [the saturation is [inaudible]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1506) [point and the image is an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1508) [integer, we want to convert this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1510) [saturation value first into](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1513) [fixed point format.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1514) [We chose Q12 as the fixed point](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1516) [format, hence a divisor of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1518) [0x100.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1520) [And then we have the postBias](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1521) [128 times the divisor, just to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1524) [put the bias back to the pixel.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1526) [And the matrix itself is really,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1528) [really simple.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1532) [All we want to do is just doing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1533) [a scaling of CbCr channel.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1535) [So the matrix itself is just a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1537) [scaler, want to multiply CbCr](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1539) [channel with this scaler.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1542) [We have all the information, so](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1544) [let's call vImageMatrixMultiply,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1547) [and with just one line of code,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1549) [one function call, you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1551) [achieve the saturation effect.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1553) [Now let me come back to other](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1556) [steps that we need to take.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1558) [We need to take the image from](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1561) [the camera.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1563) [How do we do that?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1564) [We need to write a delegate](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1566) [method, and what camera gives us](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1567) [is a CV image buffer.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1570) [So we get the buffer.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1573) [We have to make sure this buffer](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1574) [is accessible to CPU.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1577) [That's where vImage lives.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1579) [After we apply the effects,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1581) [whatever effects that may be,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1584) [and we have to unlock the base](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1586) [address of this pixel buffer so](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1588) [that the camera can reuse this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1591) [piece of memory.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1592) [The second step, we have to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1596) [prepare the vImage input and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1598) [output buffer.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1600) [We already have this image in CV](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1603) [image buffer.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1605) [All we need to do is just get](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1606) [the information such as height](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1608) [and width, and then we can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1611) [package this into a vImage](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1614) [buffer object so it can be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1615) [consumed by vImage library.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1617) [We do this for luminance and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1619) [We do this for luminance and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1619) [chrominance channel.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1621) [Now we need to prepare an output](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1623) [buffer.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1625) [Remember, we don't have a piece](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1626) [of memory allocated to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1628) [output image yet, so we need to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1629) [do that, and vImage has a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1631) [convenience function, vImage](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1633) [buffer in it, to do just that.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1635) [Given this height, width, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1638) [bits per pixel, vImage buffer in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1641) [it will allocate a memory that's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1644) [large enough to hold this image](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1646) [and then also create a vImage](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1648) [buffer object so it can be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1649) [consumed by the vImage library.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1651) [Last step is put this process](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1653) [image to the screen.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1658) [Like I said before, RGB is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1660) [really the best format for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1666) [display, so let's use the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1667) [conversion function to convert](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1669) [YCbCr image into a RGB image.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1671) [And then because the UI expect](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1674) [the cgImage object, we have to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1676) [create one.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1679) [There is a convenience function](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1680) [in vImage.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1682) [vImageCreatesCGImage FromBuffer](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1683) [that helps you to create a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1687) [cgImage based on the buffer you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1689) [already have in vImage.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1691) [One thing to note is that we're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1693) [not actually copying the large](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1695) [data buffer in the image from](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1697) [one place to another.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1699) [We're simply creating a cgImage](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1701) [object that adds a container to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1703) [this image buffer.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1705) [So we are only filling in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1708) [information that cgImage needs,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1709) [create a cgImage objects,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1711) [instead of copying data around.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1713) [Once we have that, we can send](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1716) [the cgImage object to the image](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1719) [view, and it will be displayed](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1721) [on the screen.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1723) [So it's that simple.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1725) [Four steps and you can create](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1726) [your own effects, we show you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1728) [the saturation effects.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1730) [Now, there are other effects we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1732) [can do with vImage.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1734) [We can do a rotation, like I](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1736) [said before, rotate the image](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1739) [said before, rotate the image](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1739) [clockwise, counterclockwise.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1740) [We can do blur or phase](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1743) [something into the background.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1745) [And you feel, if you feel like](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1747) [you want to add some retro](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1750) [feeling to your images, you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1752) [do dithering for black and white](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1753) [images, and color quantization](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1755) [for color images.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1758) [Let me show you how they look](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1760) [like in the app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1761) [So, again, I have the slider](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1776) [here to control the rotation.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1778) [I can do rotate counterclockwise](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1780) [or rotate clockwise.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1785) [Now I want to try the blurring](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1789) [effect.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1792) [Let me click on the one here.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1793) [And I can apply more blurring or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1796) [And I can apply more blurring or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1796) [slide to the left, bring the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1801) [roses back to the foreground.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1804) [For black and white, I can use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1807) [dithering.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1811) [Now this black and white image,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1812) [the gray scale is represented](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1815) [now by the density of the dots,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1816) [that's the dithering effect.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1818) [And we use the accents and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1820) [dithering algorithm for this,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1821) [and I will show you how to do it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1824) [later, and for color](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1825) [quantization, we have lookup](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1828) [table.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1829) [And I can move this slider to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1830) [increase the quantization level.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1832) [As I move the slider to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1834) [right, fewer and fewer color is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1835) [available in this image.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1839) [That's sort of creative, that's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1841) [how your computer screen looks](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1844) [like in the '90's or in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1846) ['80's.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1849) [All right.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1850) [So let me show you how we do](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1851) [that.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1854) [For rotation effect, you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1858) [call vImageRotate and given the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1859) [call vImageRotate and given the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1859) [angle of rotation, it will do](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1863) [counterclockwise or clockwise to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1865) [better align your images.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1866) [For the blur effect, we use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1869) [TentConvolve.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1871) [The blur effect is controlled by](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1873) [the size of the kernel.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1875) [The larger the kernel, the more](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1876) [blur you'll get.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1878) [Dither effect is basically](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1880) [converting an 8-bit image into a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1882) [1-bit image.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1885) [At the same time, you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1886) [specify a dithering algorithm.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1887) [In this case, we used the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1889) [Atkinson dithering algorithm.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1890) [Color quantization, we used the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1893) [quantization level to create a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1897) [lookup table for the RGB](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1899) [channel, and we call](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1901) [vImageTableLookUp to apply this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1904) [table lookup to RGB channels to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1906) [limit the number of colors on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1908) [the screen.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1910) [Those are the four additional](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1912) [effects I wanted to show you,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1915) [and I think now is a good time](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1917) [to move onto the next topic.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1919) [to move onto the next topic.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1919) [LINPACK Benchmark.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1921) [We talked about the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1926) [functionality of Accelerate.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1927) [We talk about how easy it is to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1929) [use in Accelerate in your apps.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1932) [We haven't talked about how fast](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1934) [Accelerate really is.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1936) [And LINPACK Benchmark is a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1938) [perfect tool to do that.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1940) [What is LINPACK Benchmark?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1943) [Basically, it's trying to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1945) [measure how fast you can solve a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1946) [linear system on your machine.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1948) [There are actually three](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1951) [different LINPACK Benchmarks.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1952) [The first one is solving a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1954) [100-by-100 linear system.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1956) [The second one is solving a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1958) [1000-by-1000.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1960) [The last one, which is the most](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1961) [interesting one, that's the one](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1964) [we're going to use today, is no](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1966) [holds barred.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1968) [You can solve as large a system](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1969) [you want to fully utilize every](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1970) [last bit of the computational](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1973) [power on your machine.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1974) [Let's see the performance of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1976) [iPhone X using Accelerate.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1979) [iPhone X using Accelerate.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1979) [The performance is measured in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1982) [gigaflops, for double precisions](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1984) [catch up with iPhone 5S, iPhone](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1988) [6, iPhone 6S, iPhone 7, iPhone X](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1991) [comes in around 28.7 gigaflops.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=1998) [That's double precision.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2002) [Let's look at single precision.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2003) [Again, we run out of space, we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2006) [have to shrink to try to make it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2012) [come closer.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2013) [IPhone X comes in at 68](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2016) [gigaflops.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2020) [Now you might be thinking, this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2022) [is not that surprising.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2024) [However, it improves over time,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2027) [so the performance improves over](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2028) [time as well, but in fact,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2030) [that's only half of the story.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2033) [When there is a micro](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2035) [architecture change to have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2037) [additional computational power](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2038) [additional computational power](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2038) [into a machine, you need the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2040) [matching [inaudible] to fully](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2042) [utilize this additional](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2043) [computational power.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2045) [And that is where we come in.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2046) [Remember, this is the same](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2049) [LINPACK Benchmark executable](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2051) [running on all five generations](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2053) [of iPhones.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2055) [They all got the best](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2056) [performance using Accelerate](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2057) [without changing a bit.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2060) [The same is also true for your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2063) [apps.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2064) [If you use Accelerate in your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2065) [apps, you'll get the best](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2067) [performance automatically on all](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2069) [the architectures we support.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2072) [Moreover, Accelerate supports](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2075) [across platforms.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2079) [Accelerate works on macOS, iOS,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2081) [tvOS, watchOS.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2083) [So let's say if tomorrow Apple](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2087) [comes out with a new](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2088) [architecture or new platform,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2089) [you don't have to worry about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2092) [it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2093) [All you need to do, the most](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2094) [you'll ever need to do is just](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2096) [to rebuild your apps, link](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2098) [to rebuild your apps, link](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2098) [against Accelerate.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2100) [You will automatically get the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2101) [best performance on the latest](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2103) [release platform or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2105) [architecture.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2107) [Just as a summary, we talk about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2108) [Accelerate supports a wide](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2114) [variety of functionalities.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2116) [More than likely, you will find](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2118) [something you need in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2120) [Accelerate.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2121) [If you need something that's not](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2122) [available, please feel free to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2123) [file feature requests.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2125) [We constantly look at this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2127) [feature request, evaluate them,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2129) [and then put into builds.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2131) [Actually, some of our best](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2132) [features come from feature](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2134) [requests.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2136) [Accelerate is easy to use.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2138) [Most of the time it's just one](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2140) [function call and the job is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2142) [done.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2143) [It's fast and energy efficient,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2145) [so your app is more responsive](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2148) [and the battery life is longer.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2150) [Accelerate is portable across](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2153) [platforms and architectures.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2155) [You get the best performance on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2157) [all the platforms we support and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2159) [all the platforms we support and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2159) [all the architectures we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2161) [support, and the best part is,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2162) [you don't have to change your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2165) [code.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2168) [For more information, you can go](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2169) [to our online documentation at](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2170) [developer.apple.com, and all our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2172) [demo apps, simple code, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2175) [session material will be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2177) [available online.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2178) [We have a lab session tomorrow](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2180) [afternoon at 2.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2182) [I look forward to seeing you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2184) [guys there.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2185) [If you have any questions or you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2186) [want to learn more about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2187) [Accelerate, I'd love to see you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2188) [there.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2191) [That's all for our presentation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2193) [today.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2194) [Thank you all for coming.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2195) [Have a great day.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2196) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/701/?time=2197)