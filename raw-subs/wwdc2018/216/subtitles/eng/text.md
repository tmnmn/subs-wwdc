# Managing Documents In Your iOS Apps

## Summary
Last year we introduced the Files App and an easy way to view, edit, and share documents within your application. Learn best practices for implementing this technology, how to effectively manage documents in your app, and how to avoid common document manager pitfalls. Hear about the difference between a Document Browser and a Document Picker and when to use them. Gain a better understanding into how this technology works in a sandbox. Learn how to give your customers a great experience, beginning at sign-in and continuing throughout your app!

## Info
* Frameworks
* WWDC 2018 - Session 216 - iOS
* https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/

## Text
 [[ Music ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=7) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=21) [&gt;&gt; Good morning.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=23) [Good morning, and welcome to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=25) [Managing Documents In Your iOS](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=27) [Apps.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=29) [I'm Brandon Tennant, a software](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=30) [engineer here at Apple and the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=32) [Document Management team.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=33) [And, later I'll be joined by my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=35) [colleagues Thomas Deniau and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=36) [Rony Fadel.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=38) [So, today we're going to give](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=39) [you an overview of what document](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=41) [management on iOS is.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=43) [And, then we'll share a few new](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=45) [things in this area.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=46) [Then, Thomas will come up on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=48) [stage to show you how to use the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=49) [Document Management API in your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=51) [apps.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=53) [And, finally, Rony will join us](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=55) [onstage to show you a few tips](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=56) [and tricks for raising the bar](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=58) [and tricks for raising the bar](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=58) [in your application.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=60) [So, let's get started with a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=62) [refresher about what document](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=64) [management on iOS is.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=65) [It's a collection of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=68) [technologies.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=69) [First, there's an API for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=70) [application developers.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=71) [For cloud vendors, there's also](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=73) [the File Provider API.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=75) [And, there's also the Files app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=76) [In iOS 11, we introduced](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=80) [UIDocumentBrowserViewController.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=83) [And, also significantly revamped](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=85) [UIDocumentPickerViewController.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=86) [Using this new controller in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=90) [your app, your customers will be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=91) [able to manage and browse their](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=93) [files from all of their favorite](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=95) [cloud vendors.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=96) [There's also powerful Search](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=98) [that searches across all of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=99) [these cloud vendors.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=101) [They'll be able to favorite](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=103) [Folders, and those favorite](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=105) [Folders will appear in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=106) [sidebar.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=107) [And, they'll be able to organize](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=108) [their files using Tags.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=109) [Recently used files also appear](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=113) [in the Recents tab.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=115) [So, by using](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=120) [UIDocumentBrowserViewController](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=121) [in your app, you'll be giving](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=122) [your customers a consistent](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=124) [experience, by bringing all of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=125) [the power of Files into your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=127) [app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=128) [It eliminates the need for you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=129) [to write your own document](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=131) [browser.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=132) [This allows you to focus on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=134) [perfecting the experience your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=135) [customers will have when viewing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=136) [or editing documents in your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=138) [app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=140) [To get started with this, see](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=141) [last year's session, "Building](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=143) [Great Document-based Apps in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=144) [iOS."](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=148) [There's also API for cloud](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=149) [vendors.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=151) [This is called the File Provider](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=153) [API.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=155) [You use this to write file](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=156) [provider extensions, and also](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=157) [custom UI actions, including the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=159) [account sign-in screen.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=162) [For application developers, you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=165) [don't need to use this API for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=167) [people to access your files.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=168) [So, when you write a file](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=170) [provider extension, it will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=173) [appear in the Files app, and in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=176) [UIDocumentBrowserView](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=177) [Controllers, under the Locations](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=178) [Controllers, under the Locations](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=178) [tab-- under the Locations](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=180) [section.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=181) [Also, because sign-in is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=183) [implemented using FPUI](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=186) [ActionExtensionViewController,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=187) [you'll want to use this so you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=190) [can reduce friction for your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=191) [customers by making logging into](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=192) [your service easier.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=194) [Let's go through a few examples](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=196) [of that.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=198) [First, in this example, what you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=199) [can do-- or, what the user is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=203) [able to do, is sign into their](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=204) [service, without being](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=205) [interrupted from their workflow.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=207) [They don't have to leave the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=208) [app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=209) [They can just sign in and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=209) [continue going along their](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=210) [business.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=211) [An example of what to try and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=212) [avoid, would be something like](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=215) [this, where there's redundant UI](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=217) [elements or branding onscreen.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=219) [You can see the example of two](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=220) [nav bars, or two Cancel buttons.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=221) [And, another example to try and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=224) [avoid, is having a simple Sign](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=226) [In button, where all it does is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=228) [launch to your application.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=230) [This interrupts the customer's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=233) [workflow.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=234) [So, try to avoid doing that.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=235) [Lastly, we've seen great](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=238) [Lastly, we've seen great](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=238) [adoption from all of you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=240) [developers and cloud vendors](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=241) [over the course of the last](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=242) [year.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=244) [So, there's a lot of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=245) [applications that use this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=245) [technology already.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=246) [So, now is a great time to try](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=248) [adopting](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=250) [UIDocumentBrowserViewController](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=250) [in your application today.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=252) [And, if you're a cloud vendor](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=254) [that hasn't yet already provided](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=255) [a file provider extension, now's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=257) [the time to do so.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=258) [So, let's talk about a few new](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=260) [things.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=263) [First, for cloud vendors, we've](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=264) [seen some of the difficulties in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=266) [making a file provider](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=268) [extension.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=269) [And, what we're happy to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=271) [announce today is there's a new](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=272) [tool for you.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=273) [It's called the File](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=274) [Provider-Validation tool.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=275) [This tool will guide you-- will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=277) [help-- will run tests, and show](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=279) [you the issues with your file](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=281) [provider extension, and guide](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=282) [you towards fixing those.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=283) [It's available for download](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=285) [today from developer.apple.com.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=286) [And, when you download it,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=288) [you'll get a couple of things.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=290) [You're going to get a set of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=292) [source files that you'll need to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=293) [add to your file provider](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=295) [extension project, and an iOS](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=296) [application to install and run](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=298) [application to install and run](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=298) [on your iPad.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=300) [Once you've modified your file](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=303) [provider project, installed the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=304) [app on your iPad, and run it,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=307) [you'll be greeted with a screen](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=308) [that looks like this.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=309) [Your file provider will be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=311) [listed-- will be shown on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=313) [left side, and when you tap](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=314) [that, there'a Run button that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=315) [you can press to run our full](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=316) [suite of tests against your file](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=318) [provider extension.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=320) [When you've done that, you'll](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=322) [see a list of successes and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=323) [failures.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=324) [You'll want to tap on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=326) [failure to dig deeper, and find](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=326) [the issues in your code.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=329) [We'll be able to help you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=331) [through this at the labs on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=332) [Thursday and Friday.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=333) [Also, an exciting new thing this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=338) [year announced was Siri](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=340) [shortcuts.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=342) [And, we're happy to say that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=343) [Siri shortcuts are coming to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=343) [file provider extensions.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=345) [What this does, is it surfaces](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=348) [recently used documents that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=350) [were opened or created, and it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=352) [makes them visible either in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=354) [Search or on the Lock Screen.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=355) [You'll also be able to-- your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=358) [You'll also be able to-- your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=358) [customer will also be able to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=360) [make shortcuts that are synced](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=361) [across devices.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=364) [And, it's important to note that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=365) [they're synced across devices,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=366) [because in order to support](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=368) [this, your file provider will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=370) [need to use unique identifiers](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=372) [for each file across all of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=374) [devices for a given customer.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=376) [If this is true, or you can make](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=379) [this happen, all you need to do](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=381) [to support Siri shortcuts in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=382) [your file provider extension is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=384) [to add NSFileProvider](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=386) [UsesUniqueItemIdentifiers](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=388) [AcrossDevices to your file](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=390) [provider extension's info.plist](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=392) [file.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=394) [Once you've done that, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=395) [submitted to the Store, you're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=396) [done.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=397) [For application developers,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=398) [there's nothing you need to do.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=400) [For information about Siri](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=402) [shortcuts, check out yesterday's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=404) [session, "Introduction to Siri](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=405) [Shortcuts."](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=407) [Also this year, we're happy to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=410) [announce that we're releasing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=414) [the Particle Sample app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=415) [This was sample code that we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=417) [used in last year's session to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=418) [demonstrate how to use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=419) [demonstrate how to use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=419) [UIDocumentBrowserViewController](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=420) [in your app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=421) [It looks like this, and it uses](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=423) [UIDocumentBrowserViewController](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=426) [as its main viewController.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=428) [It defines a file format.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=429) [It implements state restoration,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=433) [and imports assets using](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=437) [UIDocumentPickerViewController.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=440) [You'll be able to download this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=443) [today.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=444) [The link is available in the WW](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=445) [app, and you'll also be able to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=447) [search for it online.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=448) [And, that's Particles.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=449) [So, with that, I'd like to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=453) [introduce Thomas onto the stage.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=454) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=456) [&gt;&gt; Hello, everyone.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=462) [I'm Thomas, a software engineer](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=463) [on the Documents Management](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=464) [team.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=465) [And, I'm going to take you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=466) [through how you can leverage the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=467) [document management features of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=469) [iOS in your app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=471) [Together, we're going to discuss](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=474) [what the Document Picker and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=476) [Document Browser are, when and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=478) [Document Browser are, when and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=478) [how to use them.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=481) [Then, we'll add a document](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=483) [picker to our demo app,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=485) [Particles.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=487) [And, finally, we talk about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=488) [document types, and how to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=491) [configure them properly in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=493) [Xcode.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=494) [So, what does interacting with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=497) [documents mean nowadays?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=498) [Of course, it means that you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=501) [need to provide UI to let your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=504) [customers organize their](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=506) [documents.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=508) [Starting with the ones in your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=509) [app container.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=511) [But, because most documents are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=512) [in the cloud nowadays, it means](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=515) [that you need to let them access](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=518) [documents stored in the cloud,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=519) [and in other apps.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=521) [How do you do this?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=524) [Well, we have two solutions for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=527) [you.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=530) [The Document Picker and the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=530) [Document Browser.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=533) [What are the differences between](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=535) [these two?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=536) [Well, both let you browse files](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=539) [Well, both let you browse files](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=539) [stored locally on your iOS](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=542) [device, and in various cloud](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=544) [services.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=546) [And, both let you access files](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=547) [from other apps.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=550) [However, they have different use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=553) [cases.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=555) [You [inaudible] Document Picker](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=556) [shortly, for a short period of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=559) [time, for a quick user](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=561) [interaction with the files you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=563) [want to reach.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=565) [The Document Browser, on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=567) [other hand, is supposed to be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=569) [the main document browsing UI of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=572) [your app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=574) [Let's start with the Document](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=578) [Browser.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=580) [As Brandon mentioned, the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=584) [document browser is what you see](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=586) [when you launch any of the UI](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=588) [applications.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=589) [If your app is document-based,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=590) [you should probably use a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=594) [document browser to display](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=596) [these documents.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=598) [And, if you choose to do so,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=600) [this is what your customers will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=602) [see when they launch your app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=604) [They immediately get to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=606) [files, which is what matters.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=608) [The Document Browser is full](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=613) [screen, and it lets your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=614) [customers open and organize the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=617) [documents that your app handles.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=619) [As Brandon mentioned, it has all](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=625) [the features of the Files app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=626) [So, Search, Tags, Favorites,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=629) [Recents, all of this comes for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=632) [free, and we do all of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=634) [editing for you.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=636) [It can be customized with your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=641) [own buttons, such as the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=643) [[inaudible] button in the top](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=646) [right corner, or to match your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=647) [application's look.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=650) [As you can see, numbers and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=652) [keynote look very different, yet](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=653) [both are based on the Document](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=656) [Browser controller.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=658) [Of course, once your customer](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=660) [opens a document, you get to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=662) [present your own UI on top of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=665) [the browser to present your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=668) [documentation UI for example.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=670) [Now, because the Document](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=672) [Browser is the entry point of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=673) [your app, it is best to make it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=675) [the root view controller.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=678) [However, we got a lot of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=678) [feedback over the last year from](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=681) [you, saying it was not always](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=683) [easy to make it the root view](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=685) [controller.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=687) [If that is the case, we want to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=688) [clarify the guideline we gave](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=691) [last year.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=692) [The Document Browser can also be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=693) [presented [inaudible] full](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=696) [screen, likely shortly after](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=698) [launch.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=701) [However, it is still meant to be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=703) [the starting point of your app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=705) [In document-based apps, what we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=708) [should see first are the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=710) [documents.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=712) [So, we do not recommend making](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=715) [it possible to get out of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=718) [it possible to get out of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=718) [browser.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=721) [If you think you need to hide](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=722) [the browser, maybe what you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=724) [might be looking for is Document](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=727) [Picker, which we are going to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=729) [discuss next.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=730) [How to get started with a new](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=734) [Document Browser controller.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=736) [You can start a new app in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=738) [Xcode, and use the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=739) [document-based app template.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=741) [And, this template gives you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=744) [Document Browser [inaudible]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=746) [based app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=747) [If you have an existing app, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=749) [want to add a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=751) [DocumentBrowserViewController to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=752) [it, you can drag a Document](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=754) [Browser to your storyboard, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=756) [use the Initial View Controller](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=759) [checkbox in Xcode.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=761) [Once you have the Document](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=767) [Browser controller, you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=768) [customize it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=770) [You can add your own buttons to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=772) [the bars and menus.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=774) [And, you can set your own colors](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=776) [and themes to match your app's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=778) [look.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=779) [You can also customize the open](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=784) [and close document animations so](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=787) [that you get a nice zoom-in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=789) [transition from your document's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=790) [[inaudible] to your own document](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=792) [addition UI.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=793) [To learn all about this, please](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=794) [watch last year's session, where](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=796) [we have covered this in detail.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=798) [And, as Brandon mentioned, we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=802) [have made the sample app that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=804) [session last year, available as](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=806) [sample code today.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=808) [Now, the Document Picker is a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=812) [different thing.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=814) [You use it to let your customers](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=816) [open documents or assets stored](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=821) [in the cloud, or stored in other](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=823) [apps, but it is only shown to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=825) [let them choose a file, and then](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=827) [it goes away.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=829) [The Document Picker is what we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=831) [use in Mail.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=833) [When you want to attach a file](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=835) [to an email, you tap the Add](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=837) [to an email, you tap the Add](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=837) [Attachment button, and this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=840) [sheet pops up.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=842) [This is a document picker.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=844) [You choose a file to attach, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=846) [the sheet goes away.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=850) [Same thing in iWork.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=851) [If you want to attach a PDF,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=855) [insert the PDF in your Pages](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=858) [document.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=860) [You're going to tap this Insert](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=862) [From button, and the same sheet](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=863) [pops up.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=865) [You choose a file, it goes away.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=866) [So, if you need to display user](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=869) [interface to let your customers](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=871) [open-- view things from the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=874) [cloud, and then hide it once the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=876) [file is chosen, the Document](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=879) [Picker is a great option for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=881) [you.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=882) [Why do we need to give you the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=885) [Document Picker?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=888) [Because as we have said,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=890) [documents might be in multiple](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=892) [locations.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=894) [They can be in the cloud, or in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=895) [other app containers.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=897) [And, by default, you do not add](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=899) [And, by default, you do not add](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=899) [access to these.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=901) [So, you need something to let](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=903) [you access, copy, and move](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=906) [documents between these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=908) [locations, and this is what the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=910) [Document Picker does.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=913) [It goes away once the files get](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=917) [chosen, so if you want something](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=919) [which stays onscreen for a long](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=921) [time, you should check out](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=923) [Document Browser instead.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=924) [What can you do with Document](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=931) [Picker?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=932) [You can use it for multiple](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=933) [things.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=935) [You can use it to access files](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=936) [in the cloud directly.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=938) [Now, creating copies, you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=942) [use it to move files to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=945) [cloud to implement a safety](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=950) [cloud feature.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=952) [And, getting copies of documents](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=953) [is often confusing, but if you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=956) [really want to, you can use it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=959) [really want to, you can use it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=959) [to copy things from and to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=961) [cloud.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=964) [So, let's say we want to let our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=969) [customers access a movie they've](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=972) [stored in the cloud.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=974) [This is a great use of Document](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=976) [Picker controller.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=978) [You create a Document Picker](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=980) [controller, and you specify the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=981) [types of file you want your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=983) [users to choose as a first](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=985) [document.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=986) [And, the second document is one](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=988) [of the constants we have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=989) [described on the previous slide.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=990) [Then, you set the Document](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=994) [Picker delegate, because this is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=996) [how we get notified that your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=998) [customer has chosen their file,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1001) [and you present it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1003) [Once the file is chosen, you're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1007) [going to get called back at this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1009) [delegate method.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1011) [You get [inaudible] of your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1014) [files in this method.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1015) [You can use them directly.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1017) [And, [inaudible] single URL,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1020) [because there's a property you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1023) [can set in the Picker to let](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1025) [your customer choose multiple](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1027) [files at once.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1029) [So, let's go ahead and add a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1035) [Document Picker to our demo app,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1037) [Particles, from last year.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1040) [This is the app [inaudible] last](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1046) [year.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1048) [It is based on the Document](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1048) [Browser to let me choose a file](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1050) [to open.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1052) [As you can see, I have Recents,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1053) [I have Tags, I have Search, I](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1055) [have Browse to list all my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1056) [sources.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1058) [All of this comes for free.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1059) [Now, I can go ahead and open](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1062) [this file, and I can tweak this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1064) [nice particle system.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1068) [Now, my customers love this app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1070) [But, they would like to make the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1074) [particles a little nicer.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1076) [So, they've asked the designers](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1080) [to design some better-looking](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1082) [particle images, and the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1083) [designers have shared these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1085) [images over iCloud.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1087) [So, how do we get these images](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1089) [to customize them?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1091) [What we're going to do, is add a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1093) [Choose Image button in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1095) [navigation bar here to pick a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1097) [file from iCloud, and customize](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1099) [these particles.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1102) [So, you can open your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1105) [storyboard, and here I am](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1106) [[inaudible] the controller.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1109) [I'm going to drag a new bar](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1110) [button item to that editor.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1112) [And, I'm going to animate Choose](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1120) [Image.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1124) [[inaudible] Choose Image.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1131) [OK. Now, I get to write some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1131) [code to present to the document](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1135) [picker of the controller.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1139) [picker of the controller.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1139) [So, I can drag an action from my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1141) [button to the source code, and I](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1146) [agree to call it Choose Image,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1150) [and [inaudible].](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1152) [Connect.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1154) [And, now I have twice my code.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1156) [So, let me display this in a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1157) [bigger window.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1161) [Here I am in my chooseImage](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1166) [method.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1168) [I'm going first to create a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1168) [Document Picker controller.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1171) [And, I specify the type of files](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1172) [I want my customers to choose.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1174) [So, here this is UTTypeImage,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1176) [and the mode.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1178) [I'm using .import here because I](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1180) [want to embed the particle image](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1182) [in my document.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1184) [But, in many cases, you will use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1186) [[inaudible] here instead.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1188) [You set your document picker](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1191) [delegate, and you present it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1194) [When the Document Picker gets](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1197) [invoked, and the file is chosen,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1199) [invoked, and the file is chosen,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1199) [it going to call you back.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1202) [So, we need to implement the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1204) [document picker [inaudible] at](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1206) [method.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1207) [I don't know if you noticed, but](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1208) [I have not set a property to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1210) [choose document files.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1214) [So, I'm going to check I have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1217) [only one URL here.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1220) [Get the first URL, and create an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1224) [image from it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1227) [And, set it in our particle](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1229) [system, which is [inaudible].](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1231) [Let's run this again.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1234) [It [inaudible] my app and will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1237) [open my simulator shortly.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1239) [So, here I am.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1247) [I am in my simulator.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1248) [I can open my file.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1250) [And, I have this new Choose](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1251) [Image button in my navigation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1252) [bar.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1255) [I can tap it, and my Document](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1255) [Picker comes up.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1258) [And, as you see, again, we have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1259) [And, as you see, again, we have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1259) [all the pictures of the Files](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1261) [app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1262) [We can search our files, you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1262) [have Tags.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1263) [You can browse.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1264) [All of this comes for free.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1266) [Now, my particle image is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1269) [[inaudible] shared to me over](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1272) [iCloud, so they show up in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1273) [[inaudible].](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1274) [And, again, use this little star](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1275) [image here.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1277) [Pick it, and my particles are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1278) [little stars.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1281) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1282) [This was easy.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1289) [And, when you are back at work,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1290) [you will be able to add a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1292) [Document Picker to your app in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1293) [no time.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1296) [It simply has very little code,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1297) [and does not depend on any](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1299) [third-party library.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1301) [Your customers simply get access](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1303) [to their files, no matter where](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1305) [they are stored.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1307) [Now, you noticed that during the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1308) [demo, we have again talked about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1311) [file types.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1312) [And, many among you probably](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1313) [don't know what these are.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1315) [So, let's talk about file types.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1317) [So, let's talk about file types.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1317) [Document Types let the system](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1322) [know which files your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1324) [application knows how to handle.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1325) [And, they're important because](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1328) [they let iOS open your app when](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1332) [the file is tapped in the Files](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1336) [app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1337) [They also let it show your app](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1339) [in the Share sheet.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1341) [And, finally it lets iOS choose](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1343) [the proper icon for your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1346) [documents.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1347) [So, if I configure my types](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1349) [properly, and if I want to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1350) [[inaudible] extension, I'm going](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1352) [to see this when browsing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1354) [particles files in the Files](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1355) [app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1357) [If I don't, I'm going to see](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1357) [this instead, which is not too](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1360) [good, and my customers won't be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1362) [able to open my files from the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1364) [Files app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1365) [So, let's configure this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1367) [together.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1368) [There are two steps when you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1371) [want to configure document](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1373) [types.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1374) [You need to declare the type](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1375) [first, if it is not declared by](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1377) [iOS already, and then you need](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1378) [iOS already, and then you need](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1378) [to claim it to tell iOS you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1380) [view or edit files of this type.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1384) [Let's start with type](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1387) [declaration.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1389) [The first question you need to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1390) [ask yourself is, do you need to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1393) [declare it?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1395) [Because in most cases, you'll be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1396) [dealing with common file types,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1399) [such as videos, images, PDFs,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1401) [presentations, spreadsheets.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1403) [If that is the case, iOS most](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1405) [likely already declared this for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1408) [you.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1410) [And, to know if this is the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1411) [case, you can check out the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1412) [documentation at this short URL.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1415) [If that is the case, great, you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1420) [do not have anything to do, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1422) [you can jump to claiming the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1425) [type.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1427) [The other common case, is when](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1430) [you wrote an app which defines](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1433) [its own file format.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1435) [You invented your own file](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1437) [format, and you get to define](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1438) [format, and you get to define](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1438) [what that type is.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1440) [Then you should declare your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1442) [type as exported, which tells](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1443) [iOS you are the authority for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1446) [this file type.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1448) [This is a situation I'm in, in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1452) [the Files app-- in the Particles](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1454) [app, sorry.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1458) [My particles file format is my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1459) [own.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1461) [So, I can open Xcode to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1461) [configure this type.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1465) [And, in this exported UI](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1469) [section, which lets me edit my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1471) [info.plist, I specify the type](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1474) [identifier, which is a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1477) [[inaudible] string that I](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1479) [choose.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1480) [So, [inaudible] comes the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1481) [example that [inaudible] sample](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1482) [code, the particles, and I need](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1484) [to declare a list of parent](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1490) [types in the Conforms To field.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1491) [What are parent types?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1494) [Well, types form a tree, which](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1498) [Well, types form a tree, which](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1498) [we call the [inaudible] tree,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1501) [and you can think of it like a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1503) [[inaudible], like Swift.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1508) [For example, JPEG images and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1510) [HEIF images are both kinds of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1514) [images.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1517) [And, .image conforms to our root](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1518) [type for user-created, or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1521) [user-visible, documents, which](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1523) [is called public.content.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1526) [Now, public.content has other](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1530) [children, like, for example,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1531) [public.spreadsheet.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1533) [You can find this list of types](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1535) [in the documentation I pointed](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1538) [to earlier.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1542) [Now, we need to find a spot in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1542) [this tree for my type,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1543) [Particles.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1545) [Since the particle system is not](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1546) [a common file category, there is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1549) [no [inaudible] category for me.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1551) [So, I can't just make it conform](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1554) [to public.content directly.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1555) [And, I need to conform to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1558) [And, I need to conform to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1558) [public.content either directly,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1560) [or indirectly through](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1562) [public.spreadsheet or .image if](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1563) [I want my files to show up in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1566) [Recents and in Search.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1567) [Then you have a second tree,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1572) [which we call the physical tree,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1574) [which lets iOS know how the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1576) [files are represented on-disk.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1577) [And, here this is much simpler,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1580) [because you only have two](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1582) [choices.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1583) [In most cases, you will be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1585) [dealing with a single file on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1587) [disk for your document.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1589) [If you need to group multiple](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1592) [resources together, and you have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1595) [the file package, you're going](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1598) [to use com.apple.package.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1600) [But, in most cases, you have a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1602) [single file disk, so it's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1603) [public.data.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1604) [This is because I am in with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1607) [particles, so I'm going to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1609) [conform to public.data.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1610) [Now, because this is a tree,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1612) [.data and .package both iterate](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1616) [from our root type from the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1618) [from our root type from the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1618) [physical hierarchy, which is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1620) [public.item.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1623) [But, you don't care about this,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1624) [you just need to choose between](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1626) [.data and .package.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1628) [Therefore, you have two parents,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1631) [public.data and public.content.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1632) [So, in my Xcode UI, I'm going to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1635) [write, Conforms To public.data,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1637) [public.content.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1640) [The last thing I need to do is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1642) [tell iOS which file extensions](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1646) [are associated with my type.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1649) [This is how iOS will know that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1653) [.particles files are of the type](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1655) [[inaudible] defined.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1657) [To do this, I add a UTType](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1658) [classification property to my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1661) [[inaudible] properties.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1664) [In this dictionary, I add a key](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1666) [called](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1670) [public.filename-extension, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1670) [[inaudible] file extension that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1673) [you want to associate with your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1675) [type.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1678) [So, here I have a new item, of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1679) [So, here I have a new item, of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1679) [particles.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1681) [And, with this, our declaration](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1682) [is done.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1686) [There's just one more thing I](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1688) [didn't mention.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1691) [It is if you-- if this was the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1692) [case where we were declaring our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1695) [own type.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1698) [But, you might also want to use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1699) [type defined by another](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1701) [application.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1702) [If that is the case, you also](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1703) [need to declare the type so that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1706) [iOS knows about it, in case that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1708) [app is not [inaudible].](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1710) [And, because this is an imported](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1712) [type declaration, this means](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1714) [that if iOS finds an extra](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1719) [definition of that type](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1721) [somewhere else, it will prefer](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1723) [that definition over yours.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1724) [This is also what you need to do](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1727) [if you want to use a common file](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1729) [type which is not declared by](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1730) [iOS yet.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1732) [Now, do not freak out, it is the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1734) [same UI as what we've just went](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1735) [through, except that it is in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1738) [through, except that it is in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1738) [the imported section instead of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1742) [exported.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1743) [Once you have your type defined,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1748) [you can claim support for it,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1750) [still in your info.plist, or the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1752) [Xcode UI.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1754) [To do this, you specify the type](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1755) [identifier that you have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1759) [defined, and the only other](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1761) [thing that you need to do is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1763) [define a rank.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1766) [And, this lets iOS know what to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1768) [do when you tap on the file and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1770) [multiple apps can open this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1772) [file.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1774) [For this, you have three](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1776) [choices.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1778) [The first is if it is your own](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1782) [file type.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1784) [You choose "owner."](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1785) [And, to be clear, this should](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1787) [only be used if you happen to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1788) [have invented your own file](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1790) [type.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1792) [In most cases, you want to use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1793) ["default," if you can edit files](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1796) ["default," if you can edit files](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1796) [of this type, or "alternate" if](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1800) [you can read files of this type,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1802) [but not edit them.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1803) [And a list of [inaudible], rules](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1805) [are different on macOS, so if](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1809) [[inaudible] macOS up, please](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1812) [check out this other short link.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1814) [When claiming support for a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1820) [type, please be as specific as](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1821) [possible.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1823) [We have just claimed support for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1825) [a very specific file type, so](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1826) [.particles file type.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1828) [But you can also claim support](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1829) [for categories, such as any](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1830) [image using public.image.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1832) [This is fine, but you need to be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1835) [as specific as possible to make](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1837) [your app show up exactly what it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1839) [needs to show up.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1841) [Do not claim support for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1842) [[inaudible] types such as](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1844) [public.data or public.content,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1846) [because this will make your app](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1849) [show up in places where your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1851) [customers do not expect to see](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1852) [it, and it will confuse them.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1854) [So, what can you do with all of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1860) [this information?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1861) [Well, first, if you have a need](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1862) [to access files in the cloud,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1865) [you should use the Document](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1867) [Browser or Document Picker to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1869) [access these documents.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1870) [Most cloud vendors have adopted](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1872) [our API's, so if you use one of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1875) [these viewControllers, your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1878) [customers will be able to access](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1880) [their files no matter where they](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1881) [are.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1883) [And, you do not have to write](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1884) [code for each cloud vendor.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1886) [If you wrote your own custom](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1889) [document browsing UI before iOS](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1892) [11, now's a great time to switch](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1895) [to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1897) [UIDocumentBrowserViewController.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1898) [It is packed with features--](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1900) [it's packed with features, so](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1903) [please let us do the hard work,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1907) [and just get all the features in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1909) [your app for free.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1910) [Finally, please make sure your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1914) [document types are configured in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1915) [Xcode properly so that your app](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1917) [shows up exactly where it needs](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1919) [shows up exactly where it needs](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1919) [to be, and help customers find](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1922) [it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1925) [And with this, I'm going to hand](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1925) [the stage over to my colleague](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1928) [Ronny.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1929) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1930) [&gt;&gt; Thank you, Thomas.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1936) [Hello, everyone.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1937) [I am Rony Fadel, a software](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1938) [engineer on the Documents](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1940) [Management team.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1941) [So, Thomas has explained how](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1943) [easy it is to adopt a document](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1945) [browser and document picker](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1947) [API's in your app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1949) [Now, that you've adopted these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1951) [API's, we'd like to cover some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1952) [best practices to make sure that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1954) [your app is a well-behaved](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1956) [citizen on the iOS ecosystem,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1958) [the day you submit it to the App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1961) [Store.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1964) [So, now that we've implemented a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1964) [document browser-based app, or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1966) [added picker support, now we're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1968) [ready finally to pick some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1971) [documents.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1972) [Your app might want to access](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1974) [documents directly, avoiding the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1976) [copies in import mode that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1978) [copies in import mode that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1978) [Thomas has described, or if you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1980) [want to edit your document](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1983) [directly.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1984) [For this you'd need to invoke](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1985) [the Picker in Open Mode.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1986) [In this example, we're in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1989) [Particles app, and we've created](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1991) [and presented a Picker in Open](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1993) [Mode.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1995) [We're going to pick an image](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1996) [file to change our particle](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1997) [system's image.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1999) [Once we've picked a document, we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2001) [receive a callback at one of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2003) [these two delegate methods.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2005) [The first one, if we're picking](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2007) [our document in the Browser, or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2009) [the second one if we're picking](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2012) [it in the Picker, like our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2014) [example.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2015) [We see the document here, and we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2016) [see actually the Document Picker](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2020) [here, serving our app the URL](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2023) [that we've just picked.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2026) [If we attempt to access the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2028) [document directly, we risk](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2030) [running into a permissions](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2032) [error.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2033) [Let's try to understand why this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2035) [could happen.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2037) [As you may know, your apps on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2038) [As you may know, your apps on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2038) [iOS are Sandbox.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2040) [The App Sandbox is a security](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2042) [feature, whereas every app has](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2044) [unrestricted access to documents](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2047) [in its own app container, and by](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2049) [default, access is restricted to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2052) [documents in other containers,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2054) [namely in other app containers](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2057) [and in cloud service containers.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2058) [So, this is a security feature](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2061) [that guarantees that other apps](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2063) [and processes don't just go](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2065) [snooping around in your app](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2067) [container, accessing your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2069) [documents.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2070) [And, always make sure that if](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2071) [they do access them, access](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2073) [these documents, that is done](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2075) [with user consent.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2077) [So, since access to documents in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2080) [other containers is restricted,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2083) [how can your app gain access to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2086) [these documents that your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2088) [customer has picked?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2089) [What we have to do, is to extend](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2091) [our App Sandbox to include these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2093) [documents.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2095) [Here's again the URL returned by](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2096) [the Browser or the Picker.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2099) [the Browser or the Picker.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2099) [This URL has a security scoped](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2101) [resource attached to it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2103) [You can think of this resource](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2106) [as a permissions token granted](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2107) [to you by the system, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2109) [accessing this token would allow](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2111) [your app to access this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2113) [document.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2115) [We can start accessing this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2116) [document using the following URL](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2119) [API's.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2121) [When we call](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2122) [startAccessingSecurityScoped](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2123) [Resource, your app gets access](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2125) [to this document, and so you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2128) [start displaying or editing the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2130) [document.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2131) [And, once you're done using it,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2132) [the document, you should call](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2134) [the stopAccessingSecurityScoped](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2136) [Resource API on that URL.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2138) [And, as you can see here, access](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2141) [is again restricted to that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2142) [document.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2144) [So, here's a simple recipe to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2147) [guarantee that you will always](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2150) [interact successfully with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2151) [Sandbox documents.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2153) [We walked through this example](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2155) [where we make these calls.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2157) [First, we make the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2159) [First, we make the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2159) [startAccessing call on that URL,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2161) [and so we can start interacting](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2164) [with that document.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2165) [And, you notice in the defer](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2167) [block, we make the stopAccessing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2169) [call once we're done using the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2170) [document.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2172) [You notice that these calls are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2174) [balanced, and that we only call](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2176) [stopAccessing if startAccessing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2179) [returns "true."](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2181) [We keep resource access time as](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2185) [small as possible, because when](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2187) [we make this startAccessing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2189) [call, we consume limited system](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2190) [resources, reserved just for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2193) [your app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2194) [And so, we need to relinquish](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2195) [these resources once we're done](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2197) [using that document to make sure](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2199) [that we can access additional](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2200) [documents within our process.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2203) [If you know for sure that this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2207) [document exists inside of your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2209) [app container, you do not need](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2210) [to make these calls.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2212) [But, in case of doubt, make](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2214) [these calls.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2216) [If they're not actually needed,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2217) [they'll simply be a no-op.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2219) [they'll simply be a no-op.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2219) [Great. Now, we know how to gain](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2223) [access to our documents.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2225) [We can go ahead and pick that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2226) [document, like the particle](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2228) [image in our example.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2230) [And, start accessing it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2231) [As you can see here, the cloud](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2234) [service that is hosting this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2236) [document, as well as other apps](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2237) [also can access this document,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2240) [and sometimes concurrently with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2241) [your app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2243) [What we need here is a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2245) [system-wide mechanism to make](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2246) [sure that access to this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2249) [document is always coordinated,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2250) [so that processes don't go](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2252) [stepping on each other's feet,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2254) [accessing, reading, and writing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2256) [to this document.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2258) [On iOS, this mechanism is called](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2260) [file coordination, and it is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2263) [exposed via the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2266) [NSFileCoordinator and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2267) [NSFilePresenter API's.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2269) [It acts as a system-wide](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2271) [multiple reader/single writer](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2273) [lock, and it's also the way for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2275) [your app to instruct the system](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2278) [your app to instruct the system](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2278) [to download this document if](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2280) [it's not available locally.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2282) [Because as you may know, a lot](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2284) [of these documents could be in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2285) [the cloud, and not on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2287) [device.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2288) [So, you might find yourself](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2290) [writing a lot of boilerplate and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2292) [error-prone code to handle](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2294) [sandboxing, to handle file](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2296) [coordination.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2297) [If you're simply interested in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2299) [displaying and editing your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2301) [documents, the solution is much](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2303) [simpler.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2305) [And, on iOS, it comes in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2306) [form of UIDocument.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2307) [UIDocument has been available](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2310) [since iOS 5.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2312) [It is the recommended way for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2313) [your app to display and edit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2316) [documents.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2317) [It handles sandboxing for you,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2319) [so there's no need to make the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2321) [start- and stopAccessing calls.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2322) [And, it handles file](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2325) [coordination for you.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2326) [So, there's no need for you to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2327) [manually coordinate access to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2329) [these documents.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2330) [For more information on file](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2333) [coordination and UIDocument, we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2335) [invite you to check out the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2338) ["Building Document-Based Apps"](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2339) ["Building Document-Based Apps"](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2339) [session from WWDC 2015, which](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2342) [covers these topics in great](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2346) [detail.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2349) [Alright. We can now access our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2350) [documents, and we are sure to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2351) [read and write to them in a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2353) [consistent state.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2354) [We can edit our particle system.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2356) [And now, what we're going to do](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2358) [is just switch apps for just a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2359) [second, check out the WWDC](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2361) [webpage, and just jump back to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2362) [our app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2364) [Hmm. As you can see here, we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2366) [were in the editor, but now we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2368) [went back to the browser.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2370) [Your customer always expects to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2372) [be brought back to where they](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2374) [were when they were using your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2375) [app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2378) [Let's try to understand what](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2379) [happened in our previous](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2380) [example.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2381) [Here's a diagram of our app's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2382) [lifecycle.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2385) [We started off in the foreground](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2387) [while we were editing the app](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2388) [particle system, and we then](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2389) [were taken to the background](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2392) [when we used the App Switcher to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2394) [switch to Safari.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2396) [The system suspended our app](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2399) [The system suspended our app](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2399) [while it was in the background.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2400) [It turns out that at the time,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2402) [our system was under some memory](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2404) [pressure, and so the system](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2406) [terminated our app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2408) [When we used the App Switcher to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2410) [switch back to our app, our app](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2412) [was relaunched.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2414) [What we failed to do here was](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2416) [restore the UI state.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2418) [And, that time was a good time](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2419) [to restore the UI state, to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2421) [bring back our customer to where](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2422) [they were.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2424) [So, how do we implement state](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2426) [restoration?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2428) [A simple and easy way would be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2429) [to persist the URL we've](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2431) [received from the Document](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2432) [Browser, or the Document Picker,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2434) [and restore it at app relaunch.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2436) [That wouldn't work though, for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2439) [two reasons.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2440) [First, the document that the URL](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2442) [points to could have been moved](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2444) [or renamed.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2446) [And so, we'd end up with a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2447) [broken link at app relaunch.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2448) [And second, the security scoped](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2451) [resource that is attached to our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2453) [URL is not encoded when that URL](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2455) [is persistent.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2458) [And so, when we relaunch our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2459) [And so, when we relaunch our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2459) [app, we again lose access to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2461) [this document, even if that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2463) [document wasn't moved or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2465) [renamed.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2467) [The correct solution is to use a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2468) [security scoped bookmark, that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2472) [we get from our URL.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2473) [And, as you can see, the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2475) [bookmark correctly references](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2477) [the document, even if it has](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2478) [been moved or renamed.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2480) [To save the security scoped](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2487) [bookmark, we must first get it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2489) [from the URL, using the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2491) [bookmarkData API on the URL.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2493) [And, we will then persist it to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2495) [disk.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2497) [Once our app is relaunched, we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2498) [can restore the original URL](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2500) [using the URL resulting](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2502) [bookmarkData call.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2504) [Alright. Now that we have all](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2507) [the ingredients to save and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2509) [restore UI state, let's jump to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2511) [a quick demo to see it in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2513) [action.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2513) [So, here we are in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2522) [simulator, running the Particles](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2524) [app as seen previously.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2527) [And, what we're going to do is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2530) [just take our app to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2531) [background.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2532) [And now, we are going to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2533) [simulate the fact that the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2534) [system is killing our app, by](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2535) [killing it in Xcode.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2537) [If we launch our app again, we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2543) [see that we jump back to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2545) [browser.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2546) [So, now what we're going to do](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2548) [is implement state preservation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2549) [and restoration, to be able to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2551) [jump back to where we were.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2553) [So, I'll move to Xcode.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2555) [First of all, in our app](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2558) [delegate, we'll declare to our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2559) [app that we're interested in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2561) [state preservation, and then](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2562) [restoration.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2564) [And, to do that we first return](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2565) ["true" in application](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2568) [shouldSaveApplicationState.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2569) [And also, return "true" in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2572) [application](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2573) [shouldRestoreApplicationState.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2574) [Second, we'll go to our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2577) [storyboard, and give our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2579) [storyboard, and give our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2579) [DocumentBrowserViewController](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2581) [subclass a restoration ID, so](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2582) [that the system restores this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2585) [object.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2588) [And in this example, we'll](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2589) [simply use the storyboard ID.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2591) [Next, we're going to implement](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2596) [state preservation and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2598) [restoration in this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2599) [documentBrowserViewController](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2601) [subclass.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2602) [So, first I start by](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2605) [implementing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2608) [encodeRestorableState.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2608) [We get the editorViewController,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2611) [if it exists, and get the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2615) [document URL from it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2616) [Once we have that URL-- I'm](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2619) [going to make this a bit bigger.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2620) [Once we have this URL, we start](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2623) [accessing it to extend our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2625) [Sandbox as described previously.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2627) [And, the defer block, we stop](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2630) [accessing once we are done using](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2632) [it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2638) [If we can start accessing this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2639) [If we can start accessing this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2639) [document, we simply create a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2641) [bookmarkData block from this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2644) [document, and encode it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2646) [And, finally, we don't forget to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2648) [call super.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2651) [Alright. Now that we know how to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2653) [encode our restorable state,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2656) [we'll implement restorable state](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2657) [decoding.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2659) [And, to do this, we start](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2661) [implementing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2663) [decodeRestorableState.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2663) [And, we'll do the inverse steps.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2665) [So, first we get the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2668) [bookmarkData from the coder.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2669) [And, if it exists, create that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2671) [document URL using the URL](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2674) [resolvingBookmarkData call.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2676) [And, we simply present the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2678) [document at that URL.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2682) [And, last but not least, we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2685) [don't forget to call super.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2687) [Alright. So, let's run our app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2690) [And so, our app will now be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2697) [launched in the simulator.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2699) [launched in the simulator.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2699) [As you can see, we can start](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2702) [using our document.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2704) [And, again, going to take our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2706) [app to the background.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2708) [Simulate the system killing our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2709) [app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2711) [And, we're going to relaunch our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2716) [app, and as you can see here,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2718) [we're back to our editor.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2720) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2721) [Awesome. We can now access](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2729) [documents, read and write to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2731) [them without risking data](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2732) [corruption, and we can now even](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2734) [restore state and bring our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2736) [customer back to where they were](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2737) [when they were using our app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2739) [Even if our app was killed in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2741) [the background.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2743) [So, if you open the files up,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2745) [and we tap on Share in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2747) [callout menu, on documents that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2748) [your app can handle, you notice](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2750) [that our app is now available in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2752) [the Share sheet.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2754) [However, it says "Copy to"](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2756) [instead of "Open in."](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2758) [What this means is as soon as we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2760) [tap on our app icon in the Share](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2763) [sheet, the system will make a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2764) [copy of this document, and serve](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2766) [this copy to our app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2769) [And, practically this means that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2770) [the customer would start editing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2772) [a copy of the document.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2774) [To allow your customers to open](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2777) [and edit the original document](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2779) [that we wish to access in your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2781) [app, you need to adopt an iOS](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2783) [feature called Open in Place.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2786) [If you do adopt Open in Place,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2788) [you see the "Open in" your app](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2792) [in the Share sheet, instead of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2794) [the previous "Copy to."](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2795) [Adopting Open in Place is very](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2798) [simple.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2800) [If you use the document-based](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2801) [app Xcode template, you'll get](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2803) [this behavior for free, as Open](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2805) [in Place is already enabled by](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2807) [default there.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2809) [Otherwise, you'll need to add](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2810) [the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2812) [LSSupportsOpeningDocumentInPlace](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2812) [to your info.plist.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2815) [Once you've declared to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2817) [system that your app handles](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2818) [system that your app handles](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2818) [Open in Place, we must access](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2820) [the document in the following UI](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2823) [application delegate method.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2825) [Again, if your app is document](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2828) [browser-based, typically in this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2829) [method, you make the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2832) [revealDocument call on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2834) [documentBrowserViewController.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2836) [Once the completion handler is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2839) [called in this method, you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2841) [present the document in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2842) [completion handler.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2843) [This is already done for you in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2845) [the Xcode template.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2846) [We can now tap on our app icon](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2848) [in the Share sheet, and go](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2851) [straight to our app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2852) [As you see here, we report](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2854) [progress in the UI, since the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2856) [document could be in the cloud.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2858) [And, since that download could](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2861) [take awhile, we also support](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2862) [user cancellation, so we can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2864) [cancel opening this document,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2866) [and jump back to the browser.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2868) [Here's how you can implement](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2871) [progress supporting in your app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2872) [If you call the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2876) [documentBrowserViewController](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2877) [revealDocument API that's been](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2878) [revealDocument API that's been](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2878) [described previously, you get](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2880) [that UI for free.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2882) [So, you'll see a loading UI on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2884) [top of the icon in the browser.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2886) [Otherwise, you may opt to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2889) [display your own progress UI.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2891) [If your app uses UIDocument, you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2894) [should know that UIDocument](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2896) [conforms to progressReporting.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2898) [And so, to display your own](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2900) [progress UI, you simply access](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2902) [the progress property to display](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2904) [your own progress.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2906) [Alright. Our app is now awesome.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2910) [And, we're finally ready to ship](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2912) [it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2916) [So, what's the takeaway today to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2916) [make your apps excellent at](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2918) [managing documents on iOS?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2921) [Adopt UIDocument when displaying](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2925) [and editing documents, as it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2927) [eliminates a lot of boilerplate](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2929) [and error-prone code.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2931) [However, if you already have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2934) [document editing code that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2936) [doesn't use UIDocument, adopt](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2937) [the start- and stopAccessing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2939) [the start- and stopAccessing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2939) [best practices to make sure that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2941) [you interact successfully with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2943) [Sandbox documents, or Sandbox--](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2945) [with the app Sandbox.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2948) [And also, coordinate accesses to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2951) [your documents to make sure that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2953) [you read and write to them in a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2955) [consistent state.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2957) [Implement state restoration to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2959) [always bring back your customer](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2961) [to where they were, when they](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2962) [were using your app, even if](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2964) [your app is killed in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2966) [background.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2968) [Adopt Open in Place, so that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2969) [your customer always edits the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2971) [original document, and doesn't](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2972) [need to start editing copies of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2974) [that document.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2977) [And, also report progress,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2979) [especially in a world where most](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2980) [of these documents could be in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2982) [the cloud, and not available](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2983) [locally.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2984) [So, what did we cover today?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2986) [We have shown you how easy it is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2989) [to adopt the Document Browser](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2992) [and Document Picker API's.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2993) [Give them a try in your app](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2995) [today.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2998) [We learned about best practices](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2999) [We learned about best practices](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2999) [so that our apps become](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=3002) [excellent at managing documents,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=3003) [and for you cloud vendors, we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=3006) [talked about the new Siri](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=3009) [shortcuts, and how they allow](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=3010) [your app-- sorry, your documents](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=3012) [that are frequently accessed to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=3015) [be available throughout the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=3017) [system for your customers.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=3018) [And, we talked about the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=3020) [fileProvider validation tool,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=3023) [and gave guidelines on how to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=3026) [implement an effective](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=3028) [authentication flow in your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=3029) [fileProviderUI extensions.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=3031) [For more information about this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=3034) [session, check out the session](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=3036) [webpage at the following URL.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=3037) [Also make sure to check out this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=3040) [year's "Introduction to Siri](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=3041) [Shortcuts" session.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=3042) [Thank you for your time.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=3044) [Have a great afternoon, and see](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=3045) [you at the labs.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=3047) [Thank you.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=3047) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=3048)