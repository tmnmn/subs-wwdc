# Managing Documents In Your iOS Apps

## Summary
Last year we introduced the Files App and an easy way to view, edit, and share documents within your application. Learn best practices for implementing this technology, how to effectively manage documents in your app, and how to avoid common document manager pitfalls. Hear about the difference between a Document Browser and a Document Picker and when to use them. Gain a better understanding into how this technology works in a sandbox. Learn how to give your customers a great experience, beginning at sign-in and continuing throughout your app!

## Info
* Frameworks
* WWDC 2018 - Session 216 - iOS
* https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/

## Text
 [［ 音乐 ］](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=7) [［ 掌声 ］](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=21) [&gt;&gt; 早上好](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=23) [早上好 欢迎来到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=25) [管理你的 iOS App 上的文稿](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=27) [我是 Brandon Tennant 一名](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=30) [Apple 和文稿管理团队的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=32) [软件工程师](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=33) [稍后 一起加入我的还有](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=35) [我的同事 Thomas Deniau 和 Rony Fadel](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=36) [今天我们将](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=39) [为你简单描述](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=41) [iOS 上的文稿管理是什么](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=43) [接下来我们将分享一些](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=45) [这个领域的新发现](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=46) [Thomas 将上台](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=48) [展示如何在你的 App 上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=49) [使用文稿管理 API](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=51) [最后 Rony 将加入我们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=55) [上台展示几个小建议](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=56) [和小窍门来提升](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=58) [和小窍门来提升](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=58) [App 的性能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=60) [让我们先开始](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=62) [复习一下 iOS 上的文稿](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=64) [管理是什么](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=65) [它是一个多种技术的集合](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=68) [首先 为 App 开发人员提供一个 API](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=70) [为云服务供应商也提供](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=73) [File Provider API](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=75) [还有 Files App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=76) [在 iOS 11 中 我们引入了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=80) [UIDocumentBrowserViewController](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=83) [也显著地改进了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=85) [UIDocumentPickerViewController](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=86) [在你的 App 中使用这个新的控制器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=90) [你的顾客将](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=91) [能够从所有最喜欢的云服务](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=93) [供应商中 管理和浏览](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=95) [他们的文件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=96) [搜索功能也很强大](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=98) [可以搜索所有的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=99) [云服务供应商](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=101) [能够发现你喜欢用的文件夹](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=103) [这些你最喜欢的文件夹](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=105) [将会出现在侧边栏](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=106) [也能够用标签来管理文件夹](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=108) [最近项目使用的文件夹也会出现在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=113) [最近项目标签中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=115) [所以 通过在你的 App 中使用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=120) [UIDocumentBrowserViewController](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=121) [你将为顾客提供](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=122) [一种连贯的体验](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=124) [把文件中的所有优势](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=125) [都聚集到你的 App 中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=127) [它也使得你](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=129) [不需要编写自己的文稿浏览器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=131) [这也允许你将精力放在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=134) [完善你顾客的体验上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=135) [当他们用你的 App 浏览](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=136) [或者编辑文稿时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=138) [首先让我们看看去年的大会](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=141) [“建立伟大的基于文稿的 iOS App”](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=144) [为云服务供应商也提供了 API](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=149) [这个叫做 File Provider API](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=153) [你用这个来编写](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=156) [文件提供程序扩展](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=157) [和客户 UI 行为](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=159) [包括帐户登录界面](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=162) [对于 App 开发人员来说](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=165) [你不必通过 API 来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=167) [让大家访问文件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=168) [当你编写一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=170) [文件提供程序扩展 时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=173) [它将会出现在文件 App 中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=176) [出现在 UIDocumentBrowserView](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=177) [Controllers 中 在定位](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=178) [Controllers 中 在定位](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=178) [标签下 位于 Locations 这个部分](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=180) [因为登录是通过 FPUI](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=183) [ActionExtensionViewController 实现的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=187) [你想要使用这个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=190) [来减少和你的顾客之间的摩擦](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=191) [通过这种方式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=192) [使得登录你的服务器更简单](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=194) [让我们通过几个例子来说明一下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=196) [首先 在这个例子当中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=199) [你可以做的 或者用户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=203) [可以做的 是登录到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=204) [服务系统中 不被](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=205) [他们的工作流程所打断](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=207) [他们也不用离开 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=208) [他们仅仅需要登录](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=209) [然后继续他们的工作就行](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=210) [应该尝试避免的是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=212) [一些类似这样的东西](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=215) [有多余的 UI 元素](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=217) [或者屏幕商标](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=219) [你可以看到这个例子中的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=220) [两个导航栏 或者两个取消按钮](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=221) [另一个尝试避免的例子是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=224) [有一个简单的登录按钮](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=226) [在按钮中 登录所要做的是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=228) [启动你的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=230) [这会中断顾客的工作流程](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=233) [所以 我们应该努力避免这些](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=235) [最后 我们已经看到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=238) [最后 我们已经看到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=238) [所有开发人员和云服务供应商在去年](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=240) [所采用的这些技术](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=242) [所以有很多 App 早已使用了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=245) [这项技术](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=246) [所以现在是在你的 App 中尝试采用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=248) [UIDocumentBrowserViewController](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=250) [的最佳时机](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=252) [如果你是一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=254) [现在还未被提供](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=255) [文件提供程序扩展 的云服务供应商](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=257) [如今是时候这样做了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=258) [让我们谈谈一些新的东西](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=260) [首先 对于云服务供应商来说](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=264) [我们在从事文件提供程序扩展时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=266) [已经遇到了一些困难](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=268) [今天我们很开心地宣布](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=271) [有新工具的出现可以解决这些难题](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=272) [这个工具叫做 File](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=274) [Provider-Validation 工具](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=275) [这个工具将指导你帮助你](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=277) [将运行测试](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=279) [向你展示 文件提供程序扩展 中的问题](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=281) [指导你修复这些问题](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=282) [如今从 developer.apple.com 中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=285) [下载也是可行的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=286) [当你下载的时候](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=288) [你将遇到一些东西](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=290) [你将遇到一组资源文件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=292) [你需要添加到你的 文件提供程序扩展中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=293) [安装一个 iOS App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=296) [在你的 iPad 中运行](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=298) [在你的 iPad 中运行](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=298) [一旦你修改了你的文件提供程序项目](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=303) [在你的 iPad 上安装了这个 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=304) [并且运行它](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=307) [将会出现一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=308) [像这样的屏幕](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=309) [你的文件提供程序将会被列出来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=311) [在左侧进行展示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=313) [当你轻点时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=314) [会有一个运行按钮](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=315) [你可以点按然后](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=316) [按照你的文件提供拓展程序 来运行全套测试](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=318) [当你做完这件事情](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=322) [你会看到一个成功和失败的列表](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=323) [你想要轻点那些失败的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=326) [搞清楚失败的原因](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=326) [找出你代码中的错误](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=329) [在周四和周五的实验室](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=331) [我们将对你们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=332) [提供帮助](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=333) [今年要宣布的还有一个令人激动的消息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=338) [就是 Siri 捷径](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=340) [我们很高兴的地说 Siri 捷径](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=343) [也列入文件提供程序拓展中了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=345) [这个所做的是屏幕会出现](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=348) [最近项目使用的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=350) [被打开或者被创建的文件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=352) [它们在搜索者锁屏](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=354) [中都会出现](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=355) [你能够你的顾客也能够](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=358) [你能够你的顾客也能够](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=358) [在设备之间同步使用捷径](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=361) [需要注意的是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=365) [在设备之间同步时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=366) [为了支持这项功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=368) [你的文件提供程序](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=370) [需要为每一个特定客户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=372) [的所有使用设备](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=374) [使用特定标识符](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=376) [如果是这样](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=379) [或者你可以使其发生](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=381) [你所需要做的是在你的文件提供程序中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=382) [支持 Siri 捷径](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=384) [即添加 NSFileProvider](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=386) [UsesUniqueItemIdentifiers](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=388) [AcrossDevices 到你的文件提供拓展程序](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=390) [中的 info.plist 文件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=392) [一旦你完成这个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=395) [提交到商店 你就操作好了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=396) [对于 App 的开发人员来说](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=398) [你不需要做任何事](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=400) [有关 Siri 捷径的信息

00:06:44.196 --> 00:06:45.736 A:middle
请查看一下昨天的大会](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=402) [介绍 Siri 捷径](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=405) [今年同样 我们很高兴地宣布](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=410) [我们正在发布](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=414) [Particle Sample App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=415) [这是一个我们示例代码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=417) [我们去年在大会上使用过](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=418) [来展示如何在你的 App 中使用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=419) [来展示如何在你的 App 中使用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=419) [UIDocumentBrowserViewController 的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=420) [它看起来是这样的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=423) [使用 UIDocumentBrowserViewController](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=426) [作为它主要的 viewController](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=428) [它定义一个文件的格式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=429) [完成状态的恢复](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=433) [并且运用 UIDocumentPickerViewController](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=437) [来输入素材](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=440) [现在你能够下载这个了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=443) [在 WW App 中可以获得链接](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=445) [你也可以上网找](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=447) [这就是 Particles](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=449) [所以 为此 我想要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=453) [介绍 Thomas 来到台上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=454) [[ 掌声 ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=456) [&gt;&gt; 大家好](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=462) [我是 Thomas 一名](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=463) [文稿管理团队的软件工程师](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=464) [我将要教大家](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=466) [如何利用你的 App 中的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=467) [iOS 的文稿管理功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=469) [我们还会一起讨论](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=474) [文稿选取器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=476) [和文稿浏览器是什么](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=478) [和文稿浏览器是什么](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=478) [什么时候以及如何使用它们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=481) [我们将添加一个文稿选取器到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=483) [我们的样本 App Particles 中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=485) [最后我们讨论文稿的类型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=488) [以及如何](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=491) [在 Xcode 中正确地配置它们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=493) [如今与这些文稿](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=497) [交互意味着什么呢](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=498) [当然 这意味着你需要提供 UI](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=501) [让你的顾客组织他们文稿](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=506) [在你的 App 容器中开始](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=509) [但是由于大多数文稿](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=512) [现在都在云端中 这意味着](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=515) [你需要让它们访问](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=518) [储存在云服务的文稿](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=519) [以及其他 App 中的文稿](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=521) [你应该怎么做](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=524) [我们为你准备两种解决方案](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=527) [文稿选取器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=530) [和文稿浏览器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=533) [二者之间的区别](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=535) [又是什么呢](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=536) [它们都让你浏览](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=539) [它们都让你浏览](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=539) [存储在你的 iOS 设备中的文件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=542) [和在多种云服务中的文件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=544) [也让你从其他 App 中访问文件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=547) [然而 它们有不同的使用案例](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=553) [在很短的时间内](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=556) [你可以使用文稿选取器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=559) [和你想要寻找的文件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=561) [进行快速的用户交互](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=563) [另一方面文稿浏览器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=567) [有望成为你 App 中主要的文稿浏览 UI](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=569) [让我们先开始看文稿浏览器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=578) [就像 Brandon 提到的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=584) [文稿浏览器是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=586) [当你启动任何 UI App 时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=588) [所看到的东西](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=589) [如果你的 App 是基于文稿的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=590) [你应该使用一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=594) [文稿浏览器来展示这些文件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=596) [如果你这样做了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=600) [你的顾客启动 App 时会](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=602) [看到这些](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=604) [他们会立马找到这些文件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=606) [这是很重要的事情](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=608) [文稿浏览器是全屏的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=613) [可以让你的顾客](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=614) [打开和组织你的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=617) [所处理的文稿](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=619) [就像 Brandon 所说](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=625) [它拥有所有文件 App 的功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=626) [所以搜索 标签 收藏](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=629) [最近项目 所有的这些都是免费的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=632) [我们可以为你编辑所有内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=634) [可以使用自己的按钮](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=641) [进行自定义 比如

00:10:46.096 --> 00:10:47.116 A:middle
右上角的按钮](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=643) [或者来匹配你的 App 外观](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=647) [正如你所看到的 Numbers 表格和](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=652) [Keynote 讲演看起来完全不同](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=653) [但是都在文稿浏览器控制器的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=656) [基础上建立的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=658) [当然 一旦你的顾客](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=660) [打开一个文稿](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=662) [你将会在浏览器顶端](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=665) [呈现你自己的 UI](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=668) [例如呈现你的文稿 UI](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=670) [如今 因为文稿](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=672) [浏览器是你 App 的入口点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=673) [最好让它成为根视图控制器

00:11:18.916 --> 00:11:21.996 A:middle
然而 我们去年从你们那里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=675) [得到很多反馈说](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=681) [使它成为](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=683) [根视图控制器并不容易](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=685) [如果是这样 我们想要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=688) [说明一下去年给出的指南](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=691) [文稿浏览器也可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=693) [以全屏的方式进行呈现文稿](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=696) [很可能就在启动后不久](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=698) [然而 这也意味着](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=703) [你 App 的起点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=705) [在基于文稿的 App 中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=708) [我们首先应该看到的是文稿](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=710) [所以 我们不建议](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=715) [离开浏览器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=718) [离开浏览器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=718) [如果你认为你需要隐藏](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=722) [浏览器 也许你可能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=724) [需要寻找的是文稿](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=727) [选取起 我们接下来会进行讨论](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=729) [如何通过新的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=734) [文稿浏览器控制器开始](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=736) [你可以在 Xcode 中打开一个新的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=738) [然后使用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=739) [基于文稿的 App 模板](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=741) [这个模板将给你](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=744) [基于文稿浏览器控制器的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=746) [如果你有正在用的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=749) [你想向其中添加一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=751) [DocumentBrowserViewController](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=752) [你可以拖一个文稿浏览器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=754) [到你的 Storyboard 中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=756) [并且在 Xcode 中用初始试图控制器复选框](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=759) [一旦你有了文稿](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=767) [浏览器控制器 你就可以进行自定义](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=768) [你可以把自己的按钮加到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=772) [栏和菜单中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=774) [你也可以设置自己的颜色](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=776) [和主题来匹配你 App 的外观](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=778) [你也可以自定义开关](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=784) [文稿动画](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=787) [这样一来你就可以放大](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=789) [从文稿的中心](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=790) [转换到你自己的文件附加 UI](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=792) [想要了解这个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=794) [请观看去年的大会](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=796) [我们在其中详细讲解了这些](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=798) [正如 Brandon 所说 我们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=802) [在去年的大会上已经制作了示例 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=804) [就像现在可以获得的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=806) [示例代码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=808) [如今文稿选取器是一件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=812) [截然不同的东西](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=814) [你使用它来让你的客户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=816) [打开存储在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=821) [云服务或者其他](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=823) [App 中的文稿或素材 但是只在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=825) [选择文稿的时候它出现 一会就消失了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=827) [文稿选取起就是我们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=831) [在邮件中使用的东西](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=833) [当你想在邮件中加入一个文件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=835) [你点击添加附件按钮](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=837) [你点击添加附件按钮](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=837) [这张表单就会弹出来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=840) [这就是一个文稿选取器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=844) [你选择一个添加一个文件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=846) [这个表就消失了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=850) [在 iWork 中是一样的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=851) [如果你想添加一个 PDF](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=855) [到你的 Pages 文稿中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=858) [你将从按钮轻点插入](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=862) [相同的表单会弹出来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=863) [你选择一个文件 表单就消失了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=866) [所以如果你需要展示用户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=869) [界面来让你的客户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=871) [打开 从云端中浏览东西](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=874) [一旦选中文件它就会藏起来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=876) [文稿选取器对你来说](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=879) [是个很好的选择](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=881) [我们为什么需要给你一个文稿选取器呢](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=885) [因为正如我们所说的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=890) [文稿可能在多个位置中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=892) [它们可能在云端中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=895) [也可能在其他 App 容器中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=897) [而且在默认情况下 你无法添加访问权限](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=899) [而且在默认情况下 你无法添加访问权限](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=899) [所以 你需要做一些事情来获得](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=903) [访问权限 在这些不同的位置中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=906) [复制和移动文稿](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=908) [这就是文稿选取器所做的事](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=910) [一旦文件被选中 它就消失](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=917) [所以如果你想让](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=919) [什么在屏幕上待的久一点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=921) [你应该查看](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=923) [文稿浏览器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=924) [你可以用文件选取器做什么呢](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=931) [你可以用它干很多事情](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=933) [你可以用它在云端中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=936) [直接访问文件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=938) [现在 通过复制 你可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=942) [把文件移动到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=945) [云端中来实现一个安全的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=950) [云服务功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=952) [复制文稿通常令人](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=953) [很困惑 但是如果你](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=956) [真的想复制文件 你可以使用它](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=959) [真的想复制文件 你可以使用它](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=959) [从云端复制东西或者复制东西到云端中去](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=961) [让我们假设我们的顾客](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=969) [想要访问一部](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=972) [他们储存在云服务中的电影](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=974) [这就是使用文稿](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=976) [选取器控制器的一个绝佳例子](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=978) [你创建一个文稿选取器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=980) [控制器 你指定](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=981) [你想让用户选择的文件类型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=983) [作为第一个文稿](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=985) [第二个文稿是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=988) [我们在之前的幻灯片中描述的常量之一](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=989) [然后你设置文稿](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=994) [picker.delegate 因为这是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=996) [我们得知你的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=998) [顾客已经选择他们的文件的一种方式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1001) [然后你将它呈现出来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1003) [一旦文件被选中 你将](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1007) [调用这个委托方法](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1009) [你用这种方法获得](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1014) [你的文件 URL](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1015) [你可以直接使用它们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1017) [你可以获得不止一个 URL](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1020) [因为你可以在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1023) [选取器中设置一种属性](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1025) [你的顾客可以一次同时选择](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1027) [多种文件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1029) [所以 让我们继续](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1035) [添加一个文稿选取器到我们去年的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1037) [示例 App Particles 中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1040) [这是去年选择的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1046) [它在文稿浏览器的基础之上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1048) [允许我选择一个文件来打开](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1050) [正如你所看到的 我有最近项目](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1053) [有标签 有搜索](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1055) [有浏览 来列出所有的来源](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1056) [所有这些都是免费的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1059) [现在 我可以继续 打开](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1062) [这个文件 可以微调这个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1064) [漂亮的粒子系统](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1068) [现在 我的顾客喜欢这款 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1070) [但是他们想要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1074) [粒子变得更好看一点儿](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1076) [所以他们要求设计师们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1080) [设计出一些更好看的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1082) [粒子图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1083) [设计师们已经在 iCloud 中共享了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1085) [这些图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1087) [所以我们怎样获取这些图像然后](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1089) [对它们进行自定义呢](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1091) [我们将要做的是添加一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1093) [选择图像按钮在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1095) [导航栏中 从 iCloud 中选择一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1097) [文件 然后自定义](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1099) [这些粒子](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1102) [所以 你可以打开你的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1105) [Storyboard 在这里我在操作控制器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1106) [我将拖一个新的按钮](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1110) [到编辑器中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1112) [我将设置选择图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1120) [选择图像 现在 我要写代码来呈现](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1131) [控制器中的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1135) [文稿选取器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1139) [文稿选取器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1139) [我可以从我的按钮中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1141) [拖到源代码中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1146) [我同意叫它选择图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1150) [然后选择这里再连接](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1152) [现在我的代码出现了两次](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1156) [让我在一个更大的窗口](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1157) [为大家进行展示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1161) [我在使用我的 ChooseImage 方法](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1166) [我首先要创建](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1168) [一个 UIDocumentPickerController](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1171) [我指定了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1172) [想让顾客选择的文件类型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1174) [这是 UTTypeImage 和模式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1176) [我在使用输入因为我](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1180) [想把粒子图像嵌入到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1182) [我的文稿中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1184) [但是在大多数情况下 你将使用的是打开](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1186) [你设置你的文稿 picker.delegate](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1191) [然后将其呈现出来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1194) [当文稿选取器被调用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1197) [文件被选中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1199) [文件被选中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1199) [你又返回到了原来的界面](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1202) [所以 我们需要用这种方法完成 document.Picker](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1204) [我不知道你注意到没有 但是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1208) [我没有设置一种属性来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1210) [选择文件夹](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1214) [所以 我将要检查](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1217) [这儿只有一个 URL](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1220) [找到第一个 URL](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1224) [从那创建一个图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1227) [在我们的粒子系统中设置它](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1229) [这也许是[ 音质不清晰 ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1231) [让我们再运行一次](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1234) [它启动我的 App 并且会](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1237) [迅速打开我的模拟器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1239) [所以 我现在到这了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1247) [我在模拟器里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1248) [我可以打开我的文件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1250) [在我的导航栏中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1251) [我有了这个新的选择 图像按钮](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1252) [我可以轻点它 然后我的文稿](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1255) [选取器就出来了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1258) [正如你所看到的 再一次 我们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1259) [正如你所看到的 再一次 我们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1259) [在文件 App 中有了所有的图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1261) [我们可以搜索我们的文件 你有标签](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1262) [你可以浏览](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1264) [所有这些都是免费的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1266) [现在 我的粒子图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1269) [分享到了

00:21:13.066 --> 00:21:14.576 A:middle
iCloud 所以它们出现在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1272) [［ 音质不清晰 ］](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1274) [再一次 使用这个小星星的图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1275) [选择它 我的粒子就变成了小星星](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1278) [［ 掌声 ］](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1282) [这个很简单](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1289) [当你回来工作时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1290) [你将能够立刻添加](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1292) [一个文稿选取器到你的 App 中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1293) [它没有很多代码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1297) [也不依赖任何](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1299) [第三方资料库](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1301) [你的顾客可以很简单地访问](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1303) [他们的文件 不管文件存储在哪儿](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1305) [现在 你注意到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1308) [在演示中 我们再一次提到了文件类型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1311) [你们当中的很多人可能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1313) [不知道文件类型是什么](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1315) [让我们谈一谈文件类型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1317) [让我们谈一谈文件类型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1317) [文件类型可以让系统](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1322) [识别 你的 App 知道如何处理](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1324) [哪种文件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1325) [它们很重要因为](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1328) [当在文件 App 中选择文件时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1332) [它们让 iOS 打开你的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1336) [它们也会让它在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1339) [分享表单中显示你的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1341) [最后它允许 iOS](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1343) [为你的文稿选择合适的图标](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1346) [所以 如果我想正确配置我的类型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1349) [如果我想](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1350) [进行扩展 我将在浏览](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1352) [粒子文件时在文件 App 中看到这个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1355) [如果我没有 我将看到的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1357) [是这个 不太美观](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1360) [我的客户也不能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1362) [从文件 App 中打开我的文件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1364) [所以 让我们一起设置这个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1367) [当你想设置文稿类型 这有两个步骤](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1371) [首先你需要声明类型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1375) [如果不是已被 iOS](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1377) [声明过的 接下来你需要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1378) [声明过的 接下来你需要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1378) [确认 告诉 iOS 你可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1380) [浏览或者编辑这种文件类型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1384) [首先开始声明类型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1387) [第一个问题是你需要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1390) [问问自己 你需要声明它吗](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1393) [因为在多数情况下 你将](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1396) [处理普通的文件类型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1399) [比如视频 图像 PDF](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1401) [展示和电子表格](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1403) [如果是这样 iOS](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1405) [很可能已为你声明了类型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1408) [想要知道是否属实](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1411) [你可以在这个短的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1412) [URL 中查看文件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1415) [如果是这样 很好 你](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1420) [不需要再做任何事](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1422) [你可以立即确认类型了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1425) [另一种常见的情况是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1430) [当你写入一个 App 它定义](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1433) [它自己的文件格式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1435) [你创造了自己的文件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1437) [格式 你定义它的类型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1438) [格式 你定义它的类型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1438) [接下来你应该声明你的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1442) [类型 正如输出的那样 告诉](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1443) [iOS 你有权力声明](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1446) [这个文件类型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1448) [这就是我所在的情景](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1452) [在文件 App 中 对不起](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1454) [在 Particles App 中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1458) [我的 Particles 文件格式是我自己设置的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1459) [所以我可以打开 Xcode](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1461) [来设置这种类型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1465) [在这个输出的 UI](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1469) [部分 可以让我编辑自己的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1471) [info.plist 我指定类型标识符](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1474) [这是一个我选择的字符串](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1477) [所以 接下来是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1481) [一个例子 有关示例](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1482) [代码 粒子 我需要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1484) [声明一系列父类型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1490) [在 Conforms To 字段中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1491) [什么是父类型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1494) [类型形成一棵树](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1498) [类型形成一棵树](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1498) [我们叫做［ 音质不清晰 ］树](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1501) [你可以把它想成一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1503) [［ 音质不清晰 ］比如 Swift](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1508) [例如 JPEG 图像和](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1510) [HEIF 图像都是图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1514) [图像符合我们的根](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1518) [类型 为客户所创建或](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1521) [客户所见文稿](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1523) [叫做 public.content](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1526) [现在 public.content 有其他](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1530) [孩子 比如像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1531) [public.spreadsheet](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1533) [你可以在我之前](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1535) [指出的文件中找到这一类型系列](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1538) [现在 我们需要在这棵树中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1542) [为我的类型 Particle 找到一个点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1543) [因为 Particle 系统不是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1546) [一个普通的文件种类](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1549) [没有任何［ 音质不清晰 ］种类](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1551) [所以 我不能仅仅直接](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1554) [遵照 public.content](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1555) [我需要通过 public.spreadsheet](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1558) [我需要通过 public.spreadsheet](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1558) [或者图像直接](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1560) [或间接遵照](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1562) [public.content 如果](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1563) [我想要我的文件在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1566) [最近项目或者搜索中出现](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1567) [接下来你有了第二棵树](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1572) [我们叫做物理树](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1574) [它可以让 iOS 知道](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1576) [文件怎样在磁盘中显示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1577) [这个就简单多了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1580) [因为你只有两种选择](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1582) [多数情况下 你将为](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1585) [你的文稿处理磁盘上的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1587) [单个文件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1589) [如果你需要把很多](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1592) [资源聚集起来 你有](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1595) [文件包 你将](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1598) [使用 com.apple.package](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1600) [但多数情况下 你有一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1602) [单独的文件磁盘 它是 public.data](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1603) [这是因为我现在在用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1607) [Particle 我要遵守 public.data](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1609) [现在 因为这是一棵树](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1612) [从物理体系结构和根类型中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1616) [迭代 .data 和 .pakage](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1618) [迭代 .data 和 .pakage](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1618) [这就是 public.item](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1620) [但是 如果你不在乎这个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1624) [你只需要在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1626) [.data 和 .package 进行选择](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1628) [因此 你有两个父母](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1631) [public.data 和 public.content](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1632) [所以在我的 Xcode UI 中 我将要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1635) [遵循 public.data 和](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1637) [public.content 来编写](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1640) [我需要做的最后一件事是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1642) [告诉 iOS 哪个文件扩展和](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1646) [我的类型有联系](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1649) [这就是 iOS 如何知道](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1653) [Particle 文件是这种定义的类型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1655) [为此 我将 UTType](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1658) [分类属性添加到我的属性中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1661) [在这个词典当中 我添加一把钥匙](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1666) [叫做 public.filename-extension 和](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1670) [你想与你的类型相联系的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1673) [［ 音质不清晰 ］文件拓展](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1675) [我在 Particle 上有一个新项目](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1679) [我在 Particle 上有一个新项目](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1679) [说完这话 我们的声明](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1682) [就完成了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1686) [还有一件事我没提](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1688) [就是我们声明自己类型的情况](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1692) [但是 你可能想使用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1699) [另一 App定义的类型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1701) [如果是这样 你也](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1703) [需要声明类型以便](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1706) [iOS 知道 以防 App 不安全](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1708) [因为这是一个输入的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1712) [类型声明 这意味着](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1714) [如果 iOS 发现一个额外的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1719) [别处的类型定义](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1721) [它可能更喜欢这个定义](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1723) [胜过你的定义](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1724) [这也是你需要做的事](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1727) [如果你想使用一个至今 iOS](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1729) [还没有声明的类型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1730) [现在 不要惊慌 这个 UI](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1734) [与我们刚才所做的一样](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1735) [除了它是输入](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1738) [除了它是输入](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1738) [而不是输出](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1742) [一旦你定义了类型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1748) [你可以要求支持它](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1750) [这仍然在你的 info.plist 里或者 Xcode UI 里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1752) [为此 你指定](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1755) [你已定义的类型标识符](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1759) [你需要做的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1761) [另一件事是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1763) [定义一个等级](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1766) [这让 iOS 知道](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1768) [当你轻点文件时做什么](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1770) [且多个 App 可以打开这个文件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1772) [为此 你有三种选择](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1776) [第一种是如果是你自己的文件类型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1782) [你选择 Owner](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1785) [要清楚的是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1787) [只有当你碰巧建立](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1788) [自己的文件类型时才可以使用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1790) [大多数情况 你想使用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1793) [Default 如果你可以编辑](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1796) [Default 如果你可以编辑](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1796) [这种类型的文件 或者 Alternate 如果](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1800) [你可以阅读这种类型的文件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1802) [但是不编辑它们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1803) [以及一系列的规则](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1805) [在 macOS 上是不同的 如果是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1809) [是 macOS 请](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1812) [看这个其他的短链接](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1814) [当声明支持一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1820) [类型 请尽可能具体化](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1821) [我们刚声明支持](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1825) [一个很具体的文件类型 所以是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1826) [Particle 文件类型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1828) [但你也可以声明支持](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1829) [不同类别 比如任何](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1830) [用 public.image 的图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1832) [这很好 但你需要

00:30:37.396 --> 00:30:39.106 A:middle
尽可能具体地使](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1835) [你的 App 准确展示出它需要展示的内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1839) [不要声明支持](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1842) [更宽泛的类型 比如](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1844) [public.data 或者 public.content](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1846) [因为这会使你的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1849) [出现在你的顾客](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1851) [不希望看到它出现的地方](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1852) [它会使他们困惑](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1854) [所以 有了这些信息你可以做什么](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1860) [首先 如果你需要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1862) [在云端中访问文件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1865) [你应该使用文稿](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1867) [浏览器或文稿选取器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1869) [来获取这些文件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1870) [大多数云服务供应商已采用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1872) [我们的 API 所以如果你使用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1875) [这些 viewControllers 中的一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1878) [你的顾客就能够访问](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1880) [他们的文件 不管文件在哪儿](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1881) [你不必为每个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1884) [云服务供应商写代码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1886) [如果你在 iOS 11 前写了自己](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1889) [自定的文件浏览 UI](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1892) [现在是时候换到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1895) [UIDocumentBrowserViewController 了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1898) [它有很多功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1900) [它有很多功能 所以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1903) [困难的工作交给我们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1907) [为你免费提供你 App 中的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1909) [所有功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1910) [最后 请保证你的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1914) [文稿类型在 Xcode 中得到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1915) [正确设置以便你的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1917) [在它需要的地方准确出现](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1919) [在它需要的地方准确出现](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1919) [并帮助客户找到它](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1922) [说到这 我接下来要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1925) [把舞台交给我的同事 Ronny](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1928) [［ 掌声 ］](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1930) [&gt;&gt; 谢谢 Thomas](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1936) [大家好](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1937) [我是 Rony Fadel](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1938) [文稿管理团队的一名](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1940) [软件工程师](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1941) [Thomas 已经解释了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1943) [在你的 App 中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1945) [使用文稿浏览器和文稿选取器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1947) [API 是多么简单](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1949) [现在 你已使用这些](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1951) [API 我们想介绍一些](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1952) [最佳做法来确保](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1954) [你的 App 在 iOS 生态体系中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1956) [表现良好](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1958) [在你向 App Store 提交它的时候](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1961) [既然我们已经完成一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1964) [基于文稿浏览器的 App 或者](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1966) [增加了选取器的支持 现在我们准备](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1968) [好最后选择一些文稿](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1971) [你的 App 可能想要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1974) [直接访问文件 避免](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1976) [Thomas 提过的输入复制模式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1978) [Thomas 提过的输入复制模式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1978) [或者如果你](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1980) [想直接编辑你的文稿](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1983) [为此 你需要在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1985) [打开模式下激活选取器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1986) [在此例中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1989) [我们在 Particle App 中 我们已经](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1991) [在打开模式中创建和呈现了选取器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1993) [我们想选择一个图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1996) [文件来改变粒子](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1997) [系统的图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=1999) [一旦我们选中一个文件 我们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2001) [调用两个委托方法中的一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2003) [第一 如果我们在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2007) [浏览器中选择文稿或者](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2009) [第二 如果我们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2012) [在选取器中选择 就像我们的示例](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2014) [我们在这看到了文稿](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2016) [我们看到的实际是这个文稿选取器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2020) [为我们刚刚选择 URL 为我们的 App 服务](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2023) [如果我们想直接](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2028) [访问文稿 我们冒着](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2030) [权限错误的风险](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2032) [让我们试着理解这种情况发生的原因](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2035) [你也许知道 你在 iOS 的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2038) [你也许知道 你在 iOS 的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2038) [App 是沙箱](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2040) [这个沙箱 App 是一个安全](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2042) [功能 然而每个 App 在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2044) [它自己的 App 容器中都可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2047) [不受限地进行访问](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2049) [默认情况下 在其他容器内](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2052) [访问文件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2054) [也就是在其他 App 容器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2057) [和云服务容器内](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2058) [因此 这个安全功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2061) [可保证其他 App 和](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2063) [进程不能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2065) [偷窥你的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2067) [容器 访问你的文件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2069) [而且要确保如果](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2071) [他们想访问 访问](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2073) [这些文稿 需要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2075) [用户许可](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2077) [所以 既然从其他容器内](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2080) [访问文件受限](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2083) [你的 App 怎么获取](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2086) [这些你的顾客已经挑选好的文件呢](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2088) [我们必须要做的是扩展 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2091) [沙箱使它包含这些文稿](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2093) [再一次回到 URL 通过](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2096) [浏览器或选取器返回](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2099) [浏览器或选取器返回](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2099) [这个 URL 有一个附加的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2101) [安全范围资源](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2103) [你可以认为这个资源](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2106) [是一个系统赠予你的令牌](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2107) [获得这个令牌可以允许](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2111) [你的 App 访问此文稿](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2113) [我们可以用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2116) [下面的 URL API 来访问文件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2119) [当我们调用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2122) [startAccessingSecurityScopedResource](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2123) [你的 App 就可以访问](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2125) [这个文稿 你也可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2128) [开始展示或者编辑此文稿](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2130) [一旦你用完](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2132) [这个文稿 你应该在 URL 上调用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2134) [stopAccessingSecurityScopedResource](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2136) [API 正如你所见](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2138) [该文件访问权限受限](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2142) [这有一个简单的秘诀来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2147) [保证你和](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2150) [沙箱文稿总可以成功交互](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2151) [我们快速看一下这个例子中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2155) [我们调用的地方](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2157) [首先 我们在 URL 上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2159) [首先 我们在 URL 上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2159) [调用 startAccessing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2161) [然后我们可以开始](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2164) [和这个文稿互动](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2165) [你注意到在这个 Defer 代码块中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2167) [一旦我们用完该文件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2169) [我们会调用 stopAccessing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2170) [你注意到这些调用是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2174) [平衡的 如果 startAccessing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2176) [返回 true 值](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2179) [我们只调用 stopAccessing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2181) [我们尽可能使资源](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2185) [访问时间短 因为当](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2187) [我们调用 startAccessing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2189) [我们消耗有限的系统](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2190) [资源 为你的 App 进行保留](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2193) [所以一旦我们用完这个文稿](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2195) [我们需要放弃这些资源来确保](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2197) [我们可以在进程中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2200) [访问文件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2203) [如果你确定这个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2207) [文稿存在于你的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2209) [App 容器中 你不需要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2210) [调用这些](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2212) [但是如有疑问](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2214) [可以调用这些](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2216) [如果它们不被需要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2217) [它们就是无操作指令](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2219) [它们就是无操作指令](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2219) [很好 现在我们知道如何](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2223) [访问我们的文件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2225) [我们可以继续选择](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2226) [文稿 像我们示例中的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2228) [粒子图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2230) [开始访问](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2231) [你可以看到 云](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2234) [服务管理着这个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2236) [文稿 其他 App 也](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2237) [可以访问这个文件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2240) [有时候和你的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2241) [同时运行](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2243) [我们在这里需要的是一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2245) [全系统机制来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2246) [确保访问这个文件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2249) [总是协调的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2250) [这样的话各项进程之间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2252) [不会互相干扰](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2254) [访问 读取 编写这个文稿](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2256) [在 iOS 上 这个机制叫做](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2260) [文件协调性](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2263) [通过 NSFileCoordinator 和](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2266) [NSFilePresenter API 来展现](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2269) [它充当全系统的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2271) [多阅读器／单独写](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2273) [锁 也是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2275) [你的 App 指导系统](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2278) [你的 App 指导系统](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2278) [下载本地不可用文稿](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2280) [的一种方式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2282) [因为你知道](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2284) [这些文件许多都可以放入](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2285) [云端 而不是在设备里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2287) [所以 你可能发现自己](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2290) [写很多样板文件和](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2292) [易于出错的代码来处理](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2294) [沙箱 来处理文件协调性](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2296) [如果你只是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2299) [对展示和编辑你的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2301) [文件感兴趣 解决方法就更容易](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2303) [在 iOS 上 它以 UIDocument 的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2306) [形式出现](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2307) [UIDocument 自从 iOS 5](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2310) [就开始有了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2312) [建议使用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2313) [当你的 App 展示和编辑文稿时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2316) [它为你处理沙箱](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2319) [所以没必要调动 stopAccessing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2321) [它也为你处理](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2325) [文件协调性](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2326) [所以 你不需要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2327) [手动协调这些文件的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2329) [访问权限](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2330) [想要获取更多关于文件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2333) [协调和 UIDocument 的消息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2335) [我们邀请你回去看](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2338) [2015 年的全球开发人员大会](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2339) [2015 年的全球开发人员大会](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2339) [建立基于文稿的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2342) [大会中详细包含了这些主题](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2346) [好 我们现在可以访问](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2350) [文件 我们确定](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2351) [读写处于一致状态](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2353) [我们可以编辑我们的粒子系统](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2356) [现在我们要做的是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2358) [只用一秒钟切换 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2359) [查看网页上的全球开发人员大会](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2361) [再跳转到我们的 App 中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2362) [正如你所看到的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2366) [我们现在在编辑器中 但是我们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2368) [回到刚刚的浏览器中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2370) [你的顾客总是期待](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2372) [回到刚刚他们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2374) [使用你 App 时所在的地方](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2375) [让我们尝试理解一下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2379) [之前的示例发生了什么](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2380) [这是我们 App 的生命周期图表](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2382) [当我们编辑 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2387) [粒子系统时 我们被带到前台](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2388) [当我们从 App Switcher 转到 Safari 时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2389) [我们被带到后台](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2392) [系统暂停了我们的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2399) [系统暂停了我们的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2399) [当它在后台的时候](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2400) [事实证明在这个时候](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2402) [我们的系统遭受内存](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2404) [压力 所以系统](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2406) [终止了我们的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2408) [当我们使用 App Switcher 来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2410) [转换到我们的 App 中 我们的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2412) [开始重新启动](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2414) [我们在这并没有做成功的是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2416) [恢复 UI 状态](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2418) [这个时间是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2419) [恢复 UI 状态的最佳时机](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2421) [把我们的顾客带到他们原来所在的地方](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2422) [所以 我们怎样实现状态的 恢复呢](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2426) [一个简单的方法是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2429) [存留我们从](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2431) [文稿浏览器或文稿选取器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2432) [中获取的 URL](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2434) [然后在 App 重启时恢复它](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2436) [但这并不管用 因为](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2439) [以下两个原因](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2440) [第一 URL 指向的文稿](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2442) [很有可能已被移动或者重命名](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2444) [所以 App 重启时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2447) [我们链接也中断了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2448) [第二 附在我们 URL 中的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2451) [安全范围资源](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2453) [在 URL 起作用时不可编码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2455) [所以 我们重启我们的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2459) [所以 我们重启我们的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2459) [App 我们不能访问](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2461) [该文稿 即使这个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2463) [文件没有移动也没有改名](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2465) [正确的解决方式是使用一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2468) [安全范围书签](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2472) [我们可以从 URL 中获取](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2473) [正如你所看到的 这个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2475) [书签可以正确地查阅](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2477) [文稿 即使它](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2478) [被移动或重命名](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2480) [为了保持这个安全范围](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2487) [书签  我们必须首先](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2489) [从 URL 中获取](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2491) [在 URL 上使用 bookmarkData API](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2493) [让它在磁盘继续存在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2495) [一旦重启我们的 App 我们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2498) [可以还原原来的 URL](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2500) [调用 URL 产生的 bookmarkData](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2502) [好的 既然我们做好了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2507) [所有准备来保存和](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2509) [还原 UI 状态 让我们快速跳转到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2511) [一个示例中看看工作中的它](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2513) [所以 我们来到了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2522) [模拟器中 运行 Particle App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2524) [就像之前看到的那样](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2527) [我们接下来要做的是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2530) [带着我们的 App 来到后台](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2531) [现在 我们将要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2533) [模拟一个现实](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2534) [系统正在关闭我们的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2535) [在 Xcode 中关闭它](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2537) [如果我们重启我们的 App 我们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2543) [看到我们跳到了浏览器中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2545) [所以 现在我们将要做的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2548) [是完成状态的保存](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2549) [和还原 来回到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2551) [我们原来所在的地方](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2553) [所以 我将移动到 Xcode 中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2555) [首先 在我们的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2558) [委托中 我们要向我们的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2559) [App 声明我们对](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2561) [状态保存和恢复感兴趣](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2562) [为了做到上述这些首先](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2565) [在 App shouldSaveApplicationState 中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2568) [返回一个真值 也在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2569) [App shouldRestoreApplicationState 中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2572) [返回真值](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2574) [第二点 我们要到我们的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2577) [Storyboard 中 给我们的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2579) [Storyboard 中 给我们的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2579) [DocumentBrowserViewController](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2581) [子类一个恢复身份](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2582) [以便系统可以恢复它](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2585) [在这个例子中 我们将](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2589) [只使用 Storyboard ID](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2591) [接下来 我们将要完成](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2596) [状态的保存和](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2598) [还原 在这个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2599) [documentBrowserViewController](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2601) [子类别中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2602) [首先 我通过完成](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2605) [encodeRestorableState 来开始](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2608) [我们来到这个 editorViewController](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2611) [如果它存在 从它当中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2615) [获取文稿 URL](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2616) [一旦我们有了 URL](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2619) [我把这个弄大一点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2620) [一旦我们有了这个URL 我们开始](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2623) [访问它来扩展我们的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2625) [沙箱 像之前描述的那样](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2627) [在这个 Defer 代码块中 我们停止](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2630) [访问 一旦我们结束使用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2632) [如果我们可以访问这个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2639) [如果我们可以访问这个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2639) [文稿 我们从这个文稿中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2641) [简单创立一个 bookmarkData 代码块](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2644) [然后进行编码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2646) [最后 我们不要忘记调用 Super](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2648) [好啦 既然我们知道了怎样](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2653) [对我们的恢复状态进行编码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2656) [我们将进行恢复状态的解码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2657) [为此 我们开始执行](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2661) [decodeRestorableState](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2663) [我们将反着来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2665) [所以 首先我们从编码器中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2668) [获取 bookmarkData](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2669) [如果它存在 建立](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2671) [文件 URL 调用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2674) [resolvingBookmarkData](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2676) [我们在 URL 中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2678) [展示这个文件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2682) [最后 我们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2685) [不要忘记调用 Super](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2687) [好的 所以 让我们运行我们的 App 吧](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2690) [我们的 App 将要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2697) [在模拟器中启动](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2699) [在模拟器中启动](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2699) [正如你所见 我们可以开始](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2702) [使用我们的文稿了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2704) [再一次 把我们的 App 放到后台去](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2706) [模仿系统关闭我们的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2709) [接下来我们要重启我们的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2716) [App 正如你在这所见](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2718) [我们回到了编辑器中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2720) [［ 掌声 ］](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2721) [了不起 我们现在可以访问](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2729) [文稿 读写文稿](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2731) [不必害怕数据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2732) [损毁 我们甚至可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2734) [恢复状态 把我们的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2736) [顾客带到他们一开始所在的地方](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2737) [当他们在用我们的 App 时所在的地方](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2739) [即使我们的 App 在后台被关闭](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2741) [所以 如果你打开文件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2745) [我们在弹出菜单中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2747) [点击分享 在你的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2748) [可以处理的文件中 你会注意到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2750) [我们的 App 现在在分享表单中可以获得](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2752) [然而 它显示复制](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2756) [而不是打开](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2758) [这就意味着一旦我们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2760) [在分享表单轻点我们的 App 图标](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2763) [系统就会](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2764) [复制这个文稿 复制到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2766) [我们的 App 中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2769) [这意味着](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2770) [客户将开始编辑](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2772) [这个文稿的副本](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2774) [为了让你的客户打开](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2777) [和编辑原来的文件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2779) [我们希望在你的 App 中访问](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2781) [的文稿 你需要使用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2783) [就地打开的功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2786) [如果你使用就地打开](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2788) [你将在你的 App 分享表单里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2792) [看到打开而不是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2794) [在之前的复制](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2795) [使用就地打开很简单](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2798) [如果你使用基于文稿的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2801) [App Xcode 模板 你将](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2803) [可以免费获得 仿佛](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2805) [就地打开这是默认的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2807) [否则  你需要添加这个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2810) [LSSupportsOpeningDocumentInPlace](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2812) [到你的 info.plist 中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2815) [一旦你向系统声明](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2817) [你的 App 在处理](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2818) [你的 App 在处理](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2818) [就地打开 我们必须](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2820) [使用下面的 UI App 委托方法](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2823) [来访问文件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2825) [再一次 如果你的 App 是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2828) [基于文稿浏览器 通常是用这种](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2829) [方法 你要在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2832) [documentBrowserViewController 中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2834) [调用 revealDocument](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2836) [一旦你用这个方法](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2839) [调用完成处理程序](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2841) [你将在完成处理程序中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2842) [展示该文件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2843) [在 Xcode 模板中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2845) [早已为你完成](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2846) [我们可以在分享表单中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2848) [轻点 App 图标](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2851) [直接进入我们的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2852) [正如你在这所见的 我们在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2854) [UI 中报告进度 因为这个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2856) [文稿可以放到云端中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2858) [既然下载需要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2861) [一会儿 我们也支持](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2862) [用户取消 所以我们可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2864) [取消打开这个文稿](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2866) [然后跳回到浏览器中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2868) [这是你如何在你的 App 中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2871) [实现进度支持](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2872) [如果你调用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2876) [documentBrowserViewController](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2877) [revealDocument API 而这是之前已经](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2878) [revealDocument API 而这是之前已经](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2878) [描述过的 你可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2880) [免费得到那个 UI](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2882) [所以 你将在浏览器图标](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2884) [的顶部看到一个载入的 UI](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2886) [否则 你可能选择](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2889) [展示你自己的进程 UI](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2891) [如果你的 App 使用 UIDocument 你](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2894) [应该知道 UIDocument](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2896) [遵循 progressReporting](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2898) [这样 展示你自己的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2900) [进度 UI 你可以简单设置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2902) [访问进程属性来展示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2904) [你自己的进度](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2906) [好的 我们的 App 很了不起](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2910) [我们也已经准备好了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2912) [所以 今天带走什么](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2916) [会使你的 App 在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2918) [管理 iOS 文稿时更出色](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2921) [在展示和编辑文稿时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2925) [使用 UIDocument 因为它](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2927) [消除很多样板文件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2929) [和易于出错的代码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2931) [然而 如果你早已](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2934) [使用文件编码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2936) [不使用 UIDocument](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2937) [而是使用 start- 和 stopAccessing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2939) [而是使用 start- 和 stopAccessing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2939) [是最好的做法来确保](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2941) [你和沙箱文稿](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2943) [或者沙箱 App 的沙箱技术](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2945) [成功交互](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2948) [也要协调好各种](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2951) [文稿的访问来确保](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2953) [你可以持续地读写它们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2955) [实现状态恢复可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2959) [把你的顾客带到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2961) [他们使用你的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2962) [App 时所在的位置 即使](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2964) [你的 App 在后台被关闭了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2966) [使用就地打开以便](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2969) [你的顾客总是编辑](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2971) [原始文件 而](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2972) [不需要开始复制](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2974) [这个文件报告进程](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2977) [特别是当大多数文稿在云端](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2980) [而在本地不可用时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2983) [所以 我们今天都涉及了什么](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2986) [我们向你展示了使用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2989) [文稿浏览器和](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2992) [文稿选取器 API 是多么简单](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2993) [今天在你的 App 中试一下吧](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2995) [我们学到了一些最佳做法](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2999) [我们学到了一些最佳做法](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=2999) [以便我们的 App 在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=3002) [管理文稿方面表现卓越](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=3003) [对你们云服务供应商来说](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=3006) [我们讨论了新的 Siri 的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=3009) [捷径 以及他们怎样允许](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=3010) [你的 App 对不起 你的文稿](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=3012) [通过系统可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=3015) [频繁地被顾客访问](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=3017) [我们谈论了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=3020) [fileProvider 验证工具](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=3023) [并且关于怎样](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=3026) [在你的 fileProviderUI 扩展中实现](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=3028) [有效的身份验证给出](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=3029) [指导意见](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=3031) [更多关于这个会议的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=3034) [消息 请查看在下面 URL 中的会议网站](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=3036) [确保查看今年的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=3040) [介绍 Siri 捷径会议](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=3041) [谢谢大家的到来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=3044) [下午愉快 实验室见啦 谢谢](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=3045) [［ 掌声 ］](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/216/?time=3048)