WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:21:59.456 --> 00:22:01.386 A:middle
纹理 缓存和管道对象

00:22:02.846 --> 00:22:04.506 A:middle
在 iOS 还只有一个

00:22:04.506 --> 00:22:06.826 A:middle
GPU 的时候

00:22:06.826 --> 00:22:08.626 A:middle
你只能有一个设备

00:22:08.916 --> 00:22:10.356 A:middle
但是在 macOS 系统上可以有

00:22:10.356 --> 00:22:12.216 A:middle
多个设备因为它们可能

00:22:12.216 --> 00:22:14.126 A:middle
都集成在了分散的 GPU

00:22:14.126 --> 00:22:16.026 A:middle
或多个 eGPU 上

00:22:17.236 --> 00:22:18.286 A:middle
虽然通常情况下

00:22:18.286 --> 00:22:20.146 A:middle
用默认的设备对于大多数 App

00:22:20.146 --> 00:22:21.126 A:middle
都足够了

00:22:21.886 --> 00:22:23.776 A:middle
而且获取这个设备

00:22:23.826 --> 00:22:25.216 A:middle
是很简单的

00:22:25.276 --> 00:22:26.876 A:middle
你调用 MTLCreateSystem

00:22:26.876 --> 00:22:27.616 A:middle
DefaultDevice 即可

00:22:28.296 --> 00:22:31.136 A:middle
对于这个设备

00:22:31.136 --> 00:22:33.396 A:middle
你要做的第一件事就是

00:22:33.396 --> 00:22:33.966 A:middle
创建一个命令队列

00:22:35.746 --> 00:22:37.416 A:middle
这个队列主要用于你的

00:22:37.416 --> 00:22:38.736 A:middle
App 渲染循环

00:22:38.736 --> 00:22:40.036 A:middle
去在每一帧里获取命令缓存

00:22:40.086 --> 00:22:41.536 A:middle
但是你需要在

00:22:41.536 --> 00:22:42.836 A:middle
初始化的时候创建

00:22:42.996 --> 00:22:43.826 A:middle
命令队列

00:22:45.036 --> 00:22:46.176 A:middle
通常情况下 单个队列就足够了

00:22:46.176 --> 00:22:48.006 A:middle
但是更复杂的 App 

00:22:48.276 --> 00:22:49.926 A:middle
会在多个队列中

00:22:49.926 --> 00:22:51.986 A:middle
同时被执行

00:22:53.206 --> 00:22:54.696 A:middle
创建一个队列也是非常简单的

00:22:54.696 --> 00:22:56.666 A:middle
你可以调用 newCommandQueue

00:22:56.906 --> 00:22:58.336 A:middle
和刚才你创建好的设备

00:22:58.956 --> 00:22:59.996 A:middle
一旦你获取了你的队列

