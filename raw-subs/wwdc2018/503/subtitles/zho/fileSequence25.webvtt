WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:24:58.486 --> 00:25:00.076 A:middle
而且我们想要将它在

00:25:00.076 --> 00:25:01.586 A:middle
三维空间 X Y Z 中转为

00:25:01.586 --> 00:25:03.486 A:middle
新的坐标系

00:25:04.336 --> 00:25:06.256 A:middle
我们已经有了 Z

00:25:06.256 --> 00:25:07.616 A:middle
这是深度图的深度数据

00:25:07.616 --> 00:25:09.766 A:middle
但是我们想要获得 X 和 Y

00:25:10.416 --> 00:25:13.606 A:middle
因此 我们需要借助

00:25:13.606 --> 00:25:15.806 A:middle
内参矩阵的帮忙

00:25:15.806 --> 00:25:17.196 A:middle
该矩阵包含焦距

00:25:17.196 --> 00:25:18.346 A:middle
和主点信息

00:25:19.376 --> 00:25:21.686 A:middle
例如 我想要得到 X

00:25:21.686 --> 00:25:22.936 A:middle
我需要从像素坐标 U 开始

00:25:22.936 --> 00:25:24.506 A:middle
减去主元点 X0

00:25:24.506 --> 00:25:26.576 A:middle
乘以深度 Z

00:25:26.576 --> 00:25:28.916 A:middle
然后除以焦距 f

00:25:29.136 --> 00:25:30.416 A:middle
当然 我也需要对

00:25:30.416 --> 00:25:31.256 A:middle
另一个维度

00:25:31.256 --> 00:25:32.026 A:middle
做同样的计算

00:25:33.196 --> 00:25:36.976 A:middle
现在可以通过

00:25:36.976 --> 00:25:39.126 A:middle
相机校准数据访问内参矩阵

00:25:39.716 --> 00:25:43.656 A:middle
事实上 这个操作

00:25:44.786 --> 00:25:47.056 A:middle
是在 TrueDepth 中的每一帧中完成的

00:25:47.506 --> 00:25:49.836 A:middle
这么做的原因是

00:25:49.836 --> 00:25:51.656 A:middle
视频流和深度流

00:25:51.656 --> 00:25:54.506 A:middle
来自两个独立的摄像机

00:25:55.136 --> 00:25:57.246 A:middle
但是由于 TrueDepth 相机

00:25:57.246 --> 00:25:58.936 A:middle
为我们提供了一个深度图

00:25:58.936 --> 00:26:00.446 A:middle
所以我们可以将其转为点云

