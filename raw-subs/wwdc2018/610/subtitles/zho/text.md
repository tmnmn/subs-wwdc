# Understanding ARKit Tracking and Detection

## Summary
With ARKit your app can see the world and place virtual objects on horizontal and vertical surfaces and recognize images and objects. Go beyond the API to gain insights into the innovative methods and techniques underlying these capabilities. See how ARKit combines device motion with the camera to provide accurate tracking and plane detection. Get a deeper understanding of persistence and multi-device AR and learn the recommended approach for image tracking and object detection.

## Info
* Graphics and Games
* WWDC 2018 - Session 610 - iOS
* https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/

## Text
 [[ 音乐 ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=7) [[ 掌声 ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=19) [&gt;&gt; 大家好](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=26) [很高兴今天能在这里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=27) [与大家探讨](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=29) [ARKit 的跟踪与检测功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=31) [将如何创造出更好](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=34) [的 AR（增强现实）体验](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=36) [我是 Marion](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=40) [我来自 ARKit 团队](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=42) [你呢](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=43) [你是一位对 ARKit 的发展有着](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=46) [浓厚兴趣的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=49) [资深 ARKit 开发者吗](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=50) [那么这个演讲就是为你准备的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=51) [刚刚接触 ARKit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=53) [那从这次演讲中 你将会学到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=57) [不同的跟踪技巧以及](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=59) [不同的跟踪技巧以及](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=59) [一些 AR 常用的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=61) [基本知识与术语](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=62) [这些基本知识与术语](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=64) [能帮助你创造属于你](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=66) [自己的第一份 AR 的体验](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=68) [让我们开始吧](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=70) [跟踪指的是什么](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=75) [跟踪将提供你的相机](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=78) [在真实世界中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=79) [观察位置与方向](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=83) [有了这些位置与方向](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=85) [你就可以在你的相机中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=86) [加入增强视觉的因素](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=89) [比如在这个视频中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=91) [在真实的物理平台上的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=93) [桌子和椅子](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=95) [是增强视觉的虚拟内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=99) [顺便说一下 这个是宜家](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=102) [需要注意的是 视觉内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=105) [从视觉上看都是正确的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=107) [正确的放置位置 正确的大小](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=109) [以及正确的透视角度](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=112) [因此不同的跟踪](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=115) [技术能为相机](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=116) [提供不同的参考系](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=119) [提供不同的参考系](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=119) [这意味着相机相对于](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=121) [你的世界参考系](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=123) [相机相对于图像或者 3D 物品的参考](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=125) [在接下来这一个小时里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=129) [我们将会讨论](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=131) [不同类型的跟踪技术](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=132) [这样子你就可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=134) [针对你的特定用例](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=136) [做出正确的选择](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=137) [我们将会讨论](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=139) [现在已有的 AR 技术](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=142) [这包括 方向跟踪](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=144) [世界跟踪 以及 平面检测](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=146) [之后 我们才会进一步](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=149) [分析 ARKit 2 上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=151) [自带的新的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=153) [跟踪和检测技术](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=156) [这些技术包括 保存和加载地图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=158) [图像跟踪以及物品检测](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=160) [在我们对这些](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=165) [技术做进一步的探讨之前](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=166) [不妨先来对 ARKit 进行一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=168) [简单的概括性的回顾](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=171) [这对刚刚接触 ARKit 的人来说会](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=173) [很有趣](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=175) [首先 你需要创造](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=176) [首先 你需要创造](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=176) [一个 ARSession](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=180) [ARSession 是处理](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=182) [从配置到运行 AR 技术](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=184) [所有事务的对象](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=186) [并且返回 AR 技术的结果](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=191) [然后你需要做的是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=196) [描述你想要运行的技术类型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=199) [比如说 你想要使用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=202) [哪种跟踪技术或者](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=203) [想要启用哪种功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=205) [比如说平面检测功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=206) [接下来 你需要使用这一](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=208) [特定的 ARConfiguration](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=212) [并运行你自己的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=216) [ARSession 实例](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=219) [然后 ARsession 会开始内部](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=221) [配置 AVCaptureSession](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=224) [并开始接受图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=227) [以及启动动作管理器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=230) [接收运动传感数据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=235) [这就是你设备](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=237) [上内置的 ARKit 输入系统](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=238) [上内置的 ARKit 输入系统](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=238) [数据经过处理后](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=244) [会返回为每秒 60 帧](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=247) [的 ARFrames](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=249) [ARFrame 是一种及时快照](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=252) [它能为你的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=254) [AR 景象提供](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=255) [所需要的一切](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=257) [就好像 你拍摄的图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=258) [会成为你的 AR 场景的背景](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=260) [跟踪相机运动](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=265) [适用于调整虚拟相机](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=267) [使之能从](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=271) [物理相机的角度](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=274) [调整虚拟物品的角度](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=276) [它还能提供](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=278) [环境相关信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=280) [举个例子 它可以检测到盘子](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=282) [现在 让我们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=283) [从第一个跟踪技术开始](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=286) [说起和构建](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=288) [方向跟踪](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=291) [你们觉得方向跟踪所跟踪](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=294) [的是什么呢](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=296) [方向](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=297) [说明它只跟踪事物的旋转](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=298) [说明它只跟踪事物的旋转](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=298) [你可以这样子想象](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=302) [你只能用你的帽子来观察](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=303) [虚拟物品 而帽子本身只能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=305) [通过旋转来观察事物](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=307) [也就是说你可以从](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=309) [固定的位置的不同角度](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=311) [来体验虚拟物体](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=313) [但任何位置上的改变都](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=315) [无法被跟踪到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=317) [旋转数据是分三个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=319) [轴来跟踪](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=321) [这也是为什么有的人](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=322) [称它为三个自由度跟踪](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=324) [你可以把这个技术应用到一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=326) [球形的虚拟环境中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=328) [像体验一个 360 度的视频](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=330) [在这个视频中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=332) [体验者可以从同一个位置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=335) [对虚拟内容进行观察](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=336) [也可以用于观察一个距离很远](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=339) [的 AR 物品上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=341) [方向跟踪并不适用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=344) [于真实世界中的视觉增强](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=346) [因为在真实世界中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=348) [你希望能从不同的位置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=349) [对事物进行观察](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=350) [让我们来看一下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=354) [当方向跟踪在运行时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=356) [究竟发生了些什么](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=358) [这很简单](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=360) [它只是使用了核心运动](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=363) [的旋转数据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=365) [其将传感器融合应用到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=367) [运动传感器数据中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=369) [与相机图像相比](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=371) [运动数据的更新频率要高出许多](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=373) [一旦相机图像可用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=375) [方向跟踪就会](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=378) [采用这一系列数据中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=380) [最新的运动数据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=382) [然后将两个结果](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=383) [返回给 ARFrame](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=386) [就这样](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=387) [很简单](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=388) [请注意 在方向跟踪中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=389) [并不会处理到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=391) [相机回馈信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=393) [也就是说这个过程](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=394) [中并不会有电脑版本产生](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=395) [如果你想要运转方向跟踪功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=398) [你只需要在你的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=400) [ARSession 添加](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=403) [AROrientation TrackingConfiguration](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=405) [所产生的结果将会](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=408) [通过 ARFrame 返回为](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=409) [一个 ARCamera 对象](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=412) [通常一个 ARCamera 对象](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=415) [会包括不同的变换](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=417) [在方向跟踪中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=419) [在方向跟踪中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=419) [这些变形只包括](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=421) [你的现实相机反馈的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=422) [旋转数据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=425) [这些旋转数据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=427) [也可以用欧拉角来代表](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=429) [你可以根据自己的喜好来选择](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=432) [接下来让我们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=436) [讨论一些更高级的跟踪技术](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=438) [我们先从世界跟踪开始](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=441) [世界跟踪能够跟踪你的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=443) [相机角度方向](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=445) [还能跟踪真实环境中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=448) [的位置变化](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=450) [而且无需事先了解](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=452) [你的周围环境](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=454) [大家可以看到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=456) [左边是现实生活中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=457) [相机所看到的景象](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=461) [右边是跟踪相机](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=462) [在探索过程中的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=465) [跟踪轨迹 这轨迹是用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=467) [坐标系来表示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=470) [接下来 我们将详细](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=472) [的说明当世界跟踪运作时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=474) [到底发生了什么](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=475) [世界跟踪所使用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=476) [世界跟踪所使用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=476) [运动传感器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=480) [是你设备上的加速器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=483) [和陀螺仪的运动数据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=485) [由此高频计算它的方向](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=488) [和旋转变化](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=491) [它同时还为 Metal](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=494) [提供了正确比例数据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=497) [从专业方面来说](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=500) [这一部分的跟踪系统](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=503) [也被称为惯性里程计](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=504) [尽管这一运动数据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=507) [能为短间隔动作](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=509) [提供详细的运动信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=511) [但当出现](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=512) [突然的运动时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=514) [就可能会出现较长时间的漂移](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=516) [因为这些数据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=519) [并没有理想中准确](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=520) [而且有累积误差的可能性](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=522) [这也是为什么它不能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=524) [单独用于跟踪](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=525) [为了补偿这一漂移](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=528) [世界跟踪在使用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=531) [相机图像时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=533) [应用了一个电脑版本](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=535) [这个技术提供了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=540) [更高的准确性 但却](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=542) [以计算时间为代价](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=545) [同时 它对快速相机运动](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=548) [十分敏感](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=550) [这就会导致](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=552) [图像上的模糊](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=554) [这一系统中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=556) [的版本也被称为](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=558) [视觉里程计](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=560) [通过对计算机视觉和](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=562) [动作这两个系统的融合](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=564) [ARKit 吸收了这两个系统的优势](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=566) [ARKit 选用了计算机视觉中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=570) [长时间间隔的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=572) [高准确性](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=574) [而从运动数据中 它吸收了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=575) [短时间间隔的准确性](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=577) [和测量过程中的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=579) [高更新频率以及](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=581) [以米为测量单位](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=583) [通过合并这两个系统](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=584) [在处理某些框架时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=587) [世界跟踪可以跳过](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=589) [计算机视觉这一步骤](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=591) [但仍保持高效和](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=592) [高反馈的跟踪](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=594) [这样子就可以减少 CPU 占用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=596) [你可以将多出的 CPU 空间用于](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=598) [你可以将多出的 CPU 空间用于](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=598) [你的 App 上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=600) [在专业方面](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=602) [这一合并技术也被称为](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=604) [视觉惯性里程计](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=606) [让我们进一步了解这一部分](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=608) [中的视觉部分](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=611) [计算机视觉正在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=614) [处理我导出的图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=615) [中的一个重点区域](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=619) [像这里的蓝色和橙色的点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=621) [它们被提取出来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=624) [以确保在同一环境](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=626) [的其他图像中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=627) [也能提取出同样的点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=630) [这些重点区域](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=633) [也被称为特征](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=634) [可以看到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=636) [根据它们本身的相似性与外观](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=637) [可以在同一相机的不同图像中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=640) [将它们匹配起来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=643) [接下来发生的与你眼睛](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=645) [看到 3D 的效果](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=646) [的过程类似](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=648) [这两个点之间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=650) [有细微的倾向一侧的距离](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=651) [它们之间的视觉差](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=655) [是十分重要的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=656) [因为它们对环境](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=658) [因为它们对环境](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=658) [的观察角度有细微的差别](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=660) [这个差别能让画面更立体](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=662) [更有深度感](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=664) [这就是 ARKit 在处理](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=667) [三角测量时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=668) [对于同一相机](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=670) [不同角度的处理方式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=672) [只要画面中有足够的视觉差](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=674) [ARKit 就能运行这一功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=676) [它能够计算这些](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=678) [匹配特征之间的深度数据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=680) [换句话说 这些图像中的 2D 特征](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=683) [通过 3D 方式获得重组](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=686) [但是 这个重组](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=690) [成功的关键](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=692) [在于相机位置的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=695) [改变以提供](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=697) [足够的视觉差](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=699) [比如说 往某一侧倾斜的运动](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=702) [单纯的旋转并不能为重组](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=704) [提供足够的信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=707) [这就是有关你所身处环境的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=710) [第一份小地图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=712) [在 ARKit 中 我们将它称为](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=713) [世界地图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=715) [与此同时 你的镜头的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=717) [相机位置以及](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=719) [相机位置以及](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=719) [方向都经过了计算](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=721) [在用字母 C 这里标志出来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=724) [这代表着你的世界跟踪](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=727) [刚刚完成初始化](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=728) [这是跟踪系统的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=729) [初始化阶段](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=732) [当世界地图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=732) [经过初始重组时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=735) [也定义了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=737) [世界原点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=739) [它被设置为](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=741) [第一个相机的三角框架帧的原点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=743) [同时也被设置为与重力对齐](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=748) [我们在幻灯片中用 W 来代表](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=751) [因此 你现在可以在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=754) [它的世界坐标系](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=755) [重建作为世界地图的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=757) [真实环境](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=759) [的小型代表](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=760) [你所使用的相机](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=762) [也被用同样的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=764) [世界坐标来跟踪](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=766) [现在 你可以往](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=770) [你的相机视角中加入视觉](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=773) [内容来增强它们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=776) [为了将视觉内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=778) [为了将视觉内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=778) [正确的加入到一个 ARSession 中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=781) [你需要运用到 ARkit 中的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=783) [ARAnchors 这里我们用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=786) [A 来表示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=787) [ARAnchors 在这个世界地图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=789) [也就是这个世界坐标体系](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=792) [中是一个参考点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=794) [ARAnchor 是不可或缺的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=796) [因为世界跟踪在跟踪](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=798) [时可能会更新](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=800) [也就是说](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=802) [所有分配给它的视觉内容都](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=803) [并会被更新并正确](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=805) [的增强到相机的景象中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=807) [既然你已经应用了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=812) [ARAnchors 你可以将视觉内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=814) [添加到锚点中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=816) [这些内容稍后会](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=818) [以正确的增强方式添加到相机的镜头中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=820) [从现在开始 这个基于你环境的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=825) [3D 世界地图将会成为](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=828) [世界跟踪的参考系统](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=831) [它也是新图像的参考依据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=834) [不同图像中的特征](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=837) [互相匹配且进行三角化](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=838) [互相匹配且进行三角化](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=838) [与此同时 新的稳定的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=842) [特征被提取出来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=844) [经过匹配 三角化](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=846) [最终能帮助你扩展](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=848) [你的世界地图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=850) [换句话说 ARKit 正在学习你的环境](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=851) [这个学习过程会产生](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=855) [对当前相机的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=857) [位置和方向的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=858) [跟踪计算的更新](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=860) [最后就能向](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=863) [当前相机视角输出](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=864) [正确的增强元素](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=866) [当你持续不断的探索世界时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=867) [世界跟踪可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=871) [持续的跟踪你的相机](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=873) [并持续学习你](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=875) [所处的环境](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=878) [但是随着时间的推移](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=880) [增强效果可能会出现细微的漂移](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=882) [就像你可以在左边](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=885) [的图像中看到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=887) [对增强效果的细微补偿](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=889) [这是因为就算很细微的补偿](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=892) [或者细微的错误](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=895) [在经过累积后都](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=898) [会变得明显](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=899) [会变得明显](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=899) [现在这个设备回到了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=903) [一个熟悉的视角](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=905) [它之前曾经探索过这个视角](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=907) [比如说是我们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=909) [探索的出发点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=910) [ARKit 会进行另外](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=911) [一种优化步骤](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=914) [这一步骤会让](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=916) [视觉惯性里程计系统](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=918) [这个 ARKit 支持的系统](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=919) [转换为一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=921) [视觉惯性 SLAM 系统](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=924) [现在让我们回到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=927) [世界跟踪开始探索](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=928) [的第一张图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=930) [世界跟踪现在要做的事情是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=933) [检查当前的跟踪信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=935) [与世界地图对当前](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=937) [景象的渲染是否](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=939) [与过去的吻合](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=941) [也就是一开始的图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=943) [接着 ARKit 就会进行](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=945) [优化步骤](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=948) [将当前的信息以及世界地图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=952) [与你的真实](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=954) [物理环境匹配起来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=956) [你们是否有注意到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=958) [你们是否有注意到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=958) [在这个过程中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=960) [ARAnchor 也被更新了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=961) [这也是为什么你在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=963) [往你眼前的景象中加入](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=964) [视觉内容时要使用 ARAnchor](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=967) [在这个视频中 你可以看到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=969) [这个修正步骤在真实相机反馈](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=974) [中重复了一次](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=976) [在左边 我们可以从相机角度看](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=978) [这个环境 还能看到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=980) [这个图像中所跟踪的特征](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=982) [在右边则是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=985) [从俯视角度观察该景象的画面](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=986) [这代表着 ARKit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=988) [了解这个环境并](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=990) [正在展示这个环境的 3D 重建](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=994) [这些点的颜色](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=996) [是根据重建点的高度](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=999) [进行编译](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1001) [蓝色代表地面高度](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1003) [红色代表桌子和椅子](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1005) [一旦相机回到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1007) [它曾经拍摄过的视角](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1011) [就好像这里的开始的视角](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1012) [ARKit 就会应用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1014) [这一优化步骤](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1016) [你需要留意的是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1017) [点云以及相机轨迹](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1019) [点云以及相机轨迹](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1019) [不知道你是否有留意到这一更新](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1022) [让我再展示一次](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1024) [这个更新将 ARKit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1025) [的知识与你的现实世界](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1030) [以及相机运动](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1032) [匹配起来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1035) [为接下来的相机帧数](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1037) [提供更好的增强效果](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1039) [顺便说一下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1041) [有关世界跟踪的所有计算](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1043) [以及有关你所处环境的信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1045) [这些事情都只需要在你的设备](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1049) [上就可以完成](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1051) [这些数据也只存在于](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1052) [你的设备上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1053) [如何才能将这一复杂的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1055) [技术应用到你的 App 中呢](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1057) [很简单](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1061) [如果你想要运行世界跟踪功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1065) [你只需要在你的 ARSession 中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1067) [添加 ARWorldTrackingConfiguration 类](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1069) [它将会以 ARCamera](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1072) [的对象 ARFrame 形式返回结果](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1075) [ARCamera 的对象](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1080) [包括了转换](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1083) [在世界跟踪中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1085) [转换还包括旋转](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1087) [以及对跟踪相机的平移](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1088) [除此之外 ARCamera 还包括](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1093) [有关跟踪状态](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1095) [以及 trackingStateReason](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1096) [的信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1098) [这将会为当前](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1100) [的跟踪质量提供](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1102) [一些信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1104) [接下来 要讨论的是跟踪质量](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1106) [你是否曾经使用过一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1108) [跟踪十分差劲](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1110) [或者根本不能跟踪](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1112) [的 AR App 呢](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1114) [那时你的感觉是怎么样的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1116) [是不是很崩溃](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1118) [可能你再也不会用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1119) [这个 App 了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1120) [那么 怎样才在你的 App 中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1122) [实现更好的跟踪质量呢](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1123) [要实现更好的跟踪质量](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1126) [我们需要明白什么主要因素](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1128) [会影响到跟踪质量](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1129) [在这里 我想要强调其中三点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1132) [首先 世界跟踪依赖于](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1135) [持续不断的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1136) [相机图像以及传感器数据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1139) [相机图像以及传感器数据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1139) [如果这些信息中断太久](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1141) [就可能会限制跟踪](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1142) [第二 世界跟踪在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1146) [纹理明显 光线充足的环境下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1148) [才最好的工作](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1150) [因为世界跟踪需要用到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1152) [这些特征点来作为参考](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1154) [并最终将其位置三角化](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1156) [所以环境需要有](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1158) [足够的视觉复杂性这一点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1160) [是十分重要的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1163) [如果环境达不到这一要求](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1164) [比如说光线过于昏暗](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1166) [或者你正对着一面白墙](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1168) [那跟踪的表现](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1169) [就会很糟糕](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1171) [第三点是世界跟踪的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1173) [最佳运作环境](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1176) [是静态环境](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1178) [如果你的取景框中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1180) [大部分事物都是移动的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1182) [那就会导致视觉数据与](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1185) [运动数据不吻合](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1187) [最终可能会导致漂移](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1190) [同时 设备不能处于](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1192) [一个移动平台上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1194) [比如说公交车或者电梯](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1195) [假设设备被放置在电梯之中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1198) [那运动传感器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1199) [那运动传感器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1199) [会检测到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1201) [向上或向下的运动趋势](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1202) [但视觉上 它所处的环境](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1204) [并没有变化](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1206) [那你要如何获得](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1208) [用户在使用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1211) [你的 App 时的体验的反馈呢](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1214) [ARKit 会监控它自己的跟踪表现](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1218) [我们在 ARKit 中应用了机器学习](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1221) [ARKit 在成千上万组](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1223) [的数据学习中获得提升](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1224) [这些数据中包括在不同](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1226) [情况下跟踪的表现](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1228) [为了训练出一个能够](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1231) [告诉你跟踪表现的分类器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1233) [我们使用了一些注释](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1235) [比如视觉内容的数量](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1236) [在图像中跟踪到的可视特征](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1239) [以及设备当时的运动速率](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1241) [在运作时 跟踪的表现](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1245) [是由这些参数](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1247) [所决定的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1250) [在这段视频中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1252) [我们将镜头遮住](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1255) [但保持活动和](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1257) [对环境的探索](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1258) [对环境的探索](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1258) [可以看到左下角的健康预估](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1260) [指数在下降](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1263) [而当我们把遮住镜头](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1267) [的东西移走时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1269) [这一数据就回归正常](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1271) [ARKit 通过给用户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1274) [提供一个跟踪状态将](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1276) [数据进行简化](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1278) [跟踪状态由三个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1280) [不同的值表示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1282) [正常也就是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1283) [健康状态 大部分情况下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1286) [都是这种状态](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1289) [没错 在大部分情况下都会是这种状态](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1290) [另一种状态是限制状态](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1292) [这种状态会出现在跟踪](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1294) [表现糟糕时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1295) [如果出现了这种状态](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1297) [那 ARKit 还会告诉你限制](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1300) [的原因 比如说没有足够的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1302) [特征或者](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1303) [移动太快或者](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1305) [当前正处于初始化阶段](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1307) [还有另一种状态便是不可用状态](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1310) [这意味着当前还未](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1313) [完成初始化](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1315) [这样子 不管跟踪状态何时改变](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1317) [你都能够知道](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1318) [你都能够知道](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1318) [相机在跟踪过程中确实](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1321) [会发生变化](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1323) [这个功能让你能够](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1325) [在限制状态出现时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1326) [及时地通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1328) [你的用户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1330) [你还需要为你的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1332) [用户提供有关](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1333) [改善他们跟踪情况](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1335) [的高实用性且可操作的建议](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1337) [因为改进跟踪环境的主动权](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1340) [掌握在用户手上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1342) [这些建议可以是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1343) [我们之前讨论过的 往某侧移动以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1345) [运行设备进行初始化](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1348) [或者确保有足够的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1351) [光线来保证](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1352) [足够的复杂性](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1354) [接下来 我将会总结一下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1356) [世界跟踪](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1359) [世界跟踪为你的相机](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1362) [提供方向和位置的 6](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1366) [自由度跟踪](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1368) [这个跟踪基于你所处的环境](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1371) [但它本身对你所处](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1373) [对环境并没有](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1375) [事先的了解](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1376) [这个跟踪让在真实](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1379) [这个跟踪让在真实](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1379) [世界中的增强内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1381) [可以从任何角度进行察看](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1382) [世界跟踪也创造了一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1386) [世界地图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1388) [这个世界地图成为](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1391) [新的图像定位的参考系统](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1393) [为了提供更好的用户体验](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1397) [跟踪质量需要被监控](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1398) [并能为用户提供](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1400) [反馈或者指引](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1402) [世界跟踪只在你的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1405) [设备上运行](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1408) [所有的结果都只保存](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1410) [于你的设备中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1411) [如果你还没有尝试过这个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1413) [不妨在我们的开发者](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1415) [模板中试一下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1417) [比如说你可以创造你的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1417) [AR 初体验](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1419) [你可以做出一些探索](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1421) [花上 15 分钟时间了解不同情况](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1423) [下的跟踪质量 比如不同灯光效果](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1424) [或者运动频率](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1426) [一直记住 在用户遇到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1428) [限制跟踪状态时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1430) [要及时给他提供指导](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1433) [以保证他能有一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1436) [好的跟踪体验](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1438) [好的跟踪体验](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1438) [世界跟踪与相机相关](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1441) [它与你的相机位置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1444) [以及你所处的环境相关](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1446) [接下来 我们要讨论](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1450) [视觉内容是如何](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1453) [与现实环境互动的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1454) [这一效果时通过平面检测](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1457) [来实现](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1459) [接下来这段视频](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1462) [没错这段视频也来自于 Ikea App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1464) [是一个很棒的平面检测例子](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1466) [将虚拟物品放置到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1468) [你的真实环境中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1470) [并与它互动](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1472) [首先 我们要留意的是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1475) [在 Ikea App 中 设计者是如何](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1477) [指引用户进行运动的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1479) [接着 一旦检测到水平面后](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1482) [一个虚拟桌子出现](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1484) [并等待着你去放置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1486) [你为它选好位置 并按照你的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1491) [想法旋转后](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1492) [你可以将它固定到环境中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1494) [你是否有留意到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1496) [当你将这个桌子固定住时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1496) [平面与桌子之间的互动](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1499) [平面与桌子之间的互动](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1499) [就是地面有轻微的抖动](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1502) [当我们知道地面在哪时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1505) [我们就可以实现这个效果](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1506) [让我们进一步的讨论](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1509) [这个过程中究竟发生了什么](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1510) [平面检测所运用的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1514) [是我刚刚所提到的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1516) [世界地图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1518) [在这里我们用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1520) [黄色的点来代表它](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1522) [平面检测利用这些点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1525) [来检测水平或者垂直的平面](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1528) [比如说地面](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1530) [长椅以及小墙面](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1532) [它通过积累多个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1535) [ARFrame 的信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1536) [来实现这个效果](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1538) [随着用户对场景的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1540) [进一步探索 它能获得](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1542) [更多有关真实平面的信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1544) [这些信息让平面检测](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1546) [可以提供和扩张平面](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1548) [就像一个凸壳](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1552) [如果在同一物理表面上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1553) [检测到多于一个的平面](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1558) [检测到多于一个的平面](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1558) [就像我们现在看的这一部分](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1560) [绿色和紫色的平面](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1562) [一旦他们重叠到一起](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1565) [就会被合并](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1566) [如果水平和垂直的平面](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1568) [出现相交的情况](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1571) [它们相交的地方会被剪掉](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1573) [这也是 ARKit 2 中的新功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1575) [平面检测被设定为](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1579) [有很少的误差](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1581) [因为它重新使用了世界跟踪](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1584) [中的 3D 点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1587) [然后它将平面放置到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1589) [这些点云中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1591) [并不断的集合越来越多的点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1593) [将已重叠的平面](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1596) [合并起来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1598) [所以 检测第一个平面](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1600) [需要耗费一定的时间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1602) [这对你有什么影响呢](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1606) [当你的 App 刚启动时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1608) [可能并不会立刻有可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1610) [放置物品或与物品互动的平面](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1613) [如果你的体验一定需要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1617) [检测到平面的话](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1618) [检测到平面的话](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1618) [你需要指引你的用户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1621) [移动相机以获得足够](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1624) [的平移来提供](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1626) [足够的视觉差以保证密集的重建](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1628) [以及在场景中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1631) [有足够的视觉复杂性](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1633) [对了 单有旋转数据是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1635) [不足以重建的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1638) [怎么样才能启用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1640) [平面检测呢](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1643) [这个也很简单](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1645) [因为平面检测使用的是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1647) [世界跟踪的 3D 地图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1648) [它可以通过使用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1650) [ARWorldTrackingConfiguration](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1652) [这一参数进行配置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1653) [planeDetection 的特征](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1655) [可以设置为](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1658) [水平 垂直](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1660) [或者像这种情况下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1661) [两者皆可](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1663) [接下来你便可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1665) [用这个配置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1667) [来运行你的 ARSession](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1669) [ARKit 就开始对](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1670) [平面的检测了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1672) [那这些检测到的平面结果](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1673) [是如何返回给你的呢](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1676) [检测的平面会以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1681) [ARPlaneAnchor 的形式返回给你](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1683) [ARPlaneAnchor 是 ARAnchor](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1685) [的一个子类](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1687) [每个 ARAnchor 都会提供一个变换](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1690) [这个变换包含锚点在你](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1694) [的世界地图中的位置信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1696) [一个平面锚点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1698) [也有着有关平面表面的几何信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1700) [这些信息有两种](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1706) [可选的代表方式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1707) [一种是像一个有着中心点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1709) [和拓展的密封箱子](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1711) [另一种则是 3D 网格](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1715) [这些网格描述着](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1717) [所检测到的平面的凸壳以及其几何特征](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1719) [当平面出现增加 更新](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1722) [或者移除的情况时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1724) [需要有提示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1728) [来通知我们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1731) [这能让你及时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1734) [利用这些平面并对更新](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1737) [做出反应](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1739) [做出反应](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1739) [你可以对平面做些什么呢](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1741) [我们刚刚在 Ikea App 中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1744) [看到的就是很好的例子](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1745) [比如说你可以通过冲击测试](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1748) [来放置虚拟物品](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1749) [你也可以与一些](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1752) [虚拟物品进行真实互动](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1753) [就好像我们刚刚也看到了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1755) [抖动是可以实现的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1757) [你也可以在检测到的平面](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1759) [上添加一个遮挡平面](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1761) [所有虚拟物品](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1763) [就会被隐藏到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1765) [这个遮挡屏幕之下或者之后](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1767) [所以 让我来总结一下我们现在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1772) [所学习了的东西](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1774) [我们了解了方向跟踪](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1776) [世界跟踪](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1777) [以及平面检测](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1781) [接下里 Michele 将会](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1785) [进一步的介绍我们的新的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1787) [跟踪技术 这些技术](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1788) [将会应用在 ARKit 2 中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1790) [让我们欢迎 Michele](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1793) [[ 掌声 ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1795) [&gt;&gt; 谢谢 Marion](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1798) [大家好 我是 Michele](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1800) [很高兴能负责为大家](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1801) [讲解此次演示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1802) [余下的话题](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1803) [接下来要讨论的是保存和](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1805) [加载地图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1807) [这个功能可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1808) [将一个阶段中所需要的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1810) [所有数据存储起来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1811) [这样子 在稍后的另一个阶段中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1813) [这些数据就可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1814) [被重新运用并用于](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1816) [创造与某个特定地区](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1818) [体验一致的 AR 体验](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1819) [或者它也可以存储在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1822) [另一个设备上来创造](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1823) [多用户的 AR 体验](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1825) [举个例子](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1828) [这里有个男人](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1837) [让我们叫他 Andre](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1838) [他手里拿着设备](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1840) [绕着桌子走](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1841) [正在体验 AR](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1843) [你可以看到他现在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1845) [通过手上的设备往桌上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1847) [添加了一个虚拟花瓶](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1848) [让这一切看起来更有趣了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1850) [几分钟后](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1854) [他的朋友也来了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1856) [现在他们都看着这个场景](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1858) [现在他们都看着这个场景](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1858) [Andre 的设备在左边](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1860) [而他朋友的设备](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1862) [在右边](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1864) [你可以看到他们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1866) [正在看同一个空间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1867) [他们能看到彼此](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1868) [但最重要的是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1870) [他们可以看到同样的虚拟内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1871) [他们正在体验的是一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1874) [共享的 AR 体验](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1875) [上面这个例子](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1879) [可以被分为三个阶段](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1881) [第一个阶段 Andre 围着](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1884) [桌子走动并获得了世界地图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1885) [第二个阶段 世界地图在设备之间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1888) [进行了分享](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1890) [第三个阶段 他的朋友的设备](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1892) [重新定位了世界地图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1894) [这意味着这个对象](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1897) [在新设备上也能识别](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1898) [这个场景与另一个设备上的是相同的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1900) [然后根据地图来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1903) [计算设备的准确位置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1905) [之后就开始跟踪](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1906) [就好像新加入的设备](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1908) [自己获取了这个世界地图一样](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1910) [接下来 我们将会对](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1912) [这三个阶段进行更细节的了解](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1914) [但首先 让我们复习一下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1916) [什么是世界地图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1919) [什么是世界地图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1919) [世界地图包括](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1921) [系统定位所需要的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1922) [所有跟踪数据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1924) [包括那些特征点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1926) [就像 Marion 刚刚已经](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1928) [详细解释的一样](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1929) [也包括了这个点的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1930) [周围外观](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1932) [世界地图还包括了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1937) [被添加到环节中的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1938) [所有锚点 不管这些锚点是由用户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1939) [添加的 比如说像平面](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1941) [我的意思是像由系统](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1944) [添加的平面](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1946) [或者由用户添加的锚点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1946) [就像我们刚刚在示范中看到的花瓶](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1948) [这个数据是可串性化](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1950) [可获取的 你可以利用这些数据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1953) [来创造一些可持续的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1955) [或者多用户的 AR 体验](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1957) [现在让我们来看看第一个阶段](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1960) [也就是获得](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1961) [世界地图的阶段](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1963) [我们可以回放第一段视频](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1964) [Andre 绕着桌子走到时候](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1968) [在左边 你可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1969) [看到他的设备 就在这里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1971) [在右边 你可以以鸟瞰角度](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1973) [看到通过跟踪系统获得](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1977) [的世界地图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1979) [的世界地图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1979) [你可以围绕着](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1980) [它的桌子和椅子](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1983) [在这个获取过程中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1985) [有几点需要我们注意](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1986) [首先 Marion 在跟踪部分](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1990) [所说到的所有技术 都在这里得到应用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1991) [场景需要有足够的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1994) [视觉复杂性](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1995) [地图才能获得足够的深度特征点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1997) [场景需要是静止的 当然](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1999) [如果有细微的变化](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2002) [也是没有关系的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2002) [大家也可以看到桌布被风吹动](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2004) [但场景的主要部分](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2006) [需要是静止的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2007) [另外 在我们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2009) [获取世界地图进行分享时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2010) [我们需要从多个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2011) [不同的角度来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2013) [探索这个环境](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2015) [特别是我们想要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2017) [覆盖所有我们想要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2018) [被定位的方向](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2021) [为了让这个过程变得更简单](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2025) [我们增加了世界地图状态提示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2027) [让你能了解有关](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2030) [世界地图的信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2031) [如果你们有参加过](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2033) [What's New in ARKit 这一演讲](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2034) [那么 Arsalan 会极大的扩展这一点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2036) [以便快速回顾一下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2037) [当你开始会话时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2039) [当你开始会话时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2039) [世界地图的状态 会从限制状态开始](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2040) [随着设备了解了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2042) [更多场景的信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2044) [就会变成初始化的状态](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2046) [最后当系统](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2048) [确定你保持在同一位置时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2049) [我们终于可以开始](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2050) [绘制地图了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2052) [这是在制图阶段](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2053) [你想要保存的地图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2055) [所以 这是好的信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2057) [但是这主要是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2060) [用户方面的适用操作](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2062) [所以 这对开发者而言](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2064) [代表着什么呢](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2066) [意味着你需要给用户提供指引](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2067) [我们可以告知用户制图时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2070) [的不同状态](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2072) [甚至可以设置不允许保存](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2073) [或者分享世界地图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2075) [直到制图状态显示绘制状态](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2077) [我们也可以监控在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2079) [获取环节中的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2084) [跟踪质量](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2085) [如果跟踪状态出现一段时间的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2088) [限制状态 比如说持续几秒](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2090) [就可以反馈给用户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2091) [或许甚至可以提供](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2093) [重新开始获取环节的选项](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2094) [在设备的接受方面](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2096) [我们也可以指引用户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2098) [我们也可以指引用户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2098) [以获得更好的定位流程](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2100) [我们又回到了获取设备这里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2103) [当我们在地图阶段时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2104) [我们可以对场景进行拍照](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2106) [然后将它与](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2108) [世界地图一起发出](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2110) [在接收端](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2111) [我们可以让用户找到这个视觉](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2113) [来开始你的分享体验](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2116) [这就是获得](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2118) [世界地图的流程](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2120) [现在 让我们了解一下如何](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2121) [才能分享世界地图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2122) [首先 你可以简单地通过](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2124) [在 ARSession 中运行](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2126) [getCurrentWorldMap 方式来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2127) [获得世界地图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2129) [这是获得世界地图的一种方式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2130) [世界地图是一个可串行化的类](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2134) [所以我们可以通过](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2137) [NSKeyedArchiver 公式来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2138) [将它串行为一串二进制的数据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2140) [你可以选择将这串数据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2142) [保存在硬盘中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2144) [供单机持续性的应用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2146) [你也可以选择 将它在设备之间分享](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2149) [为了实现设备间分享](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2152) [你可以使用 MultiPeerConnectivity 框架](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2154) [这个框架有着很棒的功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2156) [像自动装置 发现附近设备等](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2158) [像自动装置 发现附近设备等](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2158) [这使设备之间的数据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2160) [可以高效沟通](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2161) [我们在 ARKit 中也有如何运用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2165) [这个技巧的例子](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2166) [被称为 创造一个多用户的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2169) [AR 体验](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2171) [你可以在我们的开发者网站上找到这个例子](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2172) [让我们看一下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2174) [接收端设备一旦收到世界地图之后](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2176) [需要如何设置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2178) [世界跟踪参数](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2180) [来使用这个地图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2181) [非常简单](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2182) [你只需要赋予世界地图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2182) [原始数据地图的特征](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2184) [当你运行这个会话时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2188) [系统会尝试去寻找](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2189) [之前的世界地图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2191) [但这会耗费一定时间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2193) [因为用户可能并没有](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2195) [从以前的位置拍摄](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2196) [这一的场景](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2197) [那我们怎样才能知道](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2198) [定位正在运行呢](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2199) [这个信息可以在跟踪阶段获得](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2201) [只要你用原始世界地图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2204) [开始一个会话](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2205) [那跟踪阶段就会被](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2207) [限制为重新定位](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2209) [但在这里你还是可以获得](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2211) [跟踪数据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2214) [但原始世界将会是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2216) [第一个相机 就像在一个新的会话中一样](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2218) [第一个相机 就像在一个新的会话中一样](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2218) [只要用户将设备](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2221) [对着同样的场景时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2224) [系统就会开始定位](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2225) [跟踪阶段会重归正常](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2227) [同时原始世界](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2228) [将会与记录的世界地图一致](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2229) [在这里 你之前的所有](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2233) [锚点在你的会话中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2235) [都是可用的 所以你可以将以前](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2236) [的虚拟内容放回来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2237) [在这里需要留意的是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2241) [这些幕后操作](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2243) [是我们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2245) [正在匹配那些特征点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2246) [你获得世界地图的场景](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2248) [与你想要重新定位的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2249) [场景之间需要有](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2252) [足够的视觉相似性](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2253) [所以 如果你想在晚上的时候](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2256) [回到这个桌子旁进行 AR 体验](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2257) [那效果很可能会不好](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2258) [这就是你如何通过](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2262) [保存或者加载地图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2264) [来实现多用户体验](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2266) [或者持续体验的方式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2267) [接下来要讲的是图像跟踪](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2270) [AR 就是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2274) [在物理世界上添加](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2276) [一些虚拟内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2279) [一些虚拟内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2279) [在物理世界中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2280) [到处都可以发现图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2281) [想想](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2282) [杂志封面](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2285) [广告](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2287) [图像跟踪是一个工具](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2288) [它让你能识别这些真实图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2290) [并能在他们的周围](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2291) [建立 AR 体验](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2294) [让我们来看一个例子](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2297) [大家可以看到这里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2300) [有两张图像被同时跟踪](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2301) [在左边的图像中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2304) [一只美丽的大象被](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2307) [放在真实图像中的大象之上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2309) [而在右边 一个真实的图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2311) [被转化为一个虚拟的屏幕](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2312) [还有一点需要留意的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2316) [图像可以在环境中随意移动](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2317) [因为相机正在以每秒 60 帧的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2319) [速度进行跟踪](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2320) [接下来让我们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2323) [讨论在这景象](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2325) [背后发生了些什么](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2327) [假设说你有一张](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2327) [和这个大象一样的图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2328) [你想要在一个类似这样的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2330) [景象中找到它](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2332) [我们将会用灰度来实现这个效果](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2334) [第一种方式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2335) [和我们在跟踪时用到的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2336) [有点类似](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2338) [我们会跟踪](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2338) [参考图像与](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2340) [当前环境中的特征点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2341) [然后 我们会试图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2344) [在当前的场景中匹配](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2345) [那些在参考图像中特征点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2347) [通过运用一些投影几何](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2350) [以及线性代数](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2351) [这就可以根据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2353) [当前的场景](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2354) [对图像的位置方向](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2356) [进行初步的估算](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2357) [但我们并不满足于此](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2360) [为了让你能获得一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2362) [真正准确的姿势并做到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2363) [每秒 60 帧的跟踪](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2365) [我们做了一个高密度跟踪阶段](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2367) [在初步的预估之后](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2369) [所以我们将现有场景的像素](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2371) [回溯到一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2373) [长方形的形状](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2376) [也就是你在右边 右上角所能看到的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2378) [所以这是将](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2381) [现有图像的像素回溯成](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2383) [一个长方形后重组的图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2385) [我们将重组后的图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2387) [与我们所拥有的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2388) [参考图像进行对比](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2390) [来创造你们所看到的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2391) [下面这个误差图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2394) [接下来 我们会优化图像的位置方向](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2396) [这样能使误差最小化](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2399) [这样能使误差最小化](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2399) [这也意味着](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2403) [对你来说这个结果将会](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2404) [十分准确](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2406) [谢谢](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2408) [而且还能做到每秒](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2410) [跟踪 60 帧](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2412) [让我们看看我们在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2415) [ARKit 中时如何实现这些](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2416) [照常 ARKit 的 API](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2418) [十分简单](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2421) [我们只需要做三个简单的步骤](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2422) [首先 我们需要收集](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2424) [所有参考图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2426) [接着 我们要设置 AR 会话的参数](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2428) [我们有两种选择](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2431) [一个是世界跟踪配置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2433) [它也提供设备位置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2434) [这个是我们目前所讨论的方式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2437) [在 iOS 12 中 将会有一个新的配置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2439) [这是一个独立的跟踪配置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2442) [一旦你开始了会话](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2444) [你就会开始通过 ARImageAnchor](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2447) [的形式接收结果](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2449) [下面 我们将会](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2453) [进一步研究这三个步骤](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2454) [让我们从参考图像开始](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2456) [往你的 App 中加入](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2458) [往你的 App 中加入](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2458) [参考图像的最便捷方式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2461) [就是通过资产目录](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2462) [你可以创造一个 AR 资源组](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2466) [然后将你的图像拖拽到组里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2468) [接下来 你需要设置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2471) [图像的物理尺寸](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2473) [你可以通过右上角](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2474) [的特征窗口进行设置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2476) [设置物理尺寸是硬性要求](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2477) [这里有几个原因](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2481) [第一 设置物理尺寸能让](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2484) [图像以物理尺寸展示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2486) [也就是说 你的内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2488) [将会是物理大小](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2489) [在 ARKit 中 所有事物都是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2491) [以米为测量单位 所以你的虚拟](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2492) [物品将会以米为长度](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2493) [第二 设置正确的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2497) [图像物理尺寸是十分重要的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2498) [因为我们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2500) [有可能会将图像跟踪](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2501) [与世界跟踪合并到一起](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2503) [这会立刻给予图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2504) [与世界之间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2506) [一致的姿态](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2508) [让我们看看有关参考图像的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2511) [更多例子](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2513) [这里有两幅很漂亮的图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2514) [这些图像十分适合](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2518) [图像跟踪](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2519) [图像跟踪](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2519) [它们有着高饱和度](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2521) [高对比度](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2523) [合理分配的柱形图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2524) [并且没有重复的结构](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2526) [这里也有一些](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2528) [和系统适配度不高的图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2530) [右边这个图像就是不合适类型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2533) [的一个示范](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2535) [如果我们仔细观察上面](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2537) [这两个例子 我们会发现](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2539) [好的图像都有着](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2541) [许多关键点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2543) [图像中的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2545) [柱形图在整个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2546) [范围内平均分布](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2547) [而右边的图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2549) [则只有很少的关键点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2550) [它们的柱形图也](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2553) [倾向白色的部分](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2554) [在 Xcode 中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2557) [你可以直观的了解到一张图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2560) [是否适合用于跟踪](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2562) [你只需要将图像拖放到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2564) [Xcode 中 Xcode 就会自动](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2566) [对图像进行分析 然后界面会以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2568) [警告的方式给你及早的反馈](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2570) [这个反馈甚至还要早于你 运行你的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2572) [比如说 如果你点击](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2575) [底部的这张图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2576) [这张图像可能是杂志的某一页](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2579) [这张图像可能是杂志的某一页](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2579) [我们可以看到 Xcode 反馈说](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2581) [这张图像的柱形图 分布不均匀](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2584) [你可以看到图像中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2586) [有大量的白色](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2587) [这个图像也包含了许多重复结构](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2589) [这些重复结构主要是文字](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2591) [另一个例子就是 如果你有两张](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2595) [极其类似且](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2598) [十分容易在检测时混淆的图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2600) [Xcode 也会](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2602) [做出相应的警告](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2604) [这两张有关](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2605) [同一齿状山脉的图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2606) [就是一个很好的例子](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2608) [如果这个警告出现时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2610) [我们并不能做什么来改正](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2612) [例如 让我们回到这张](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2613) [有着重复结构](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2614) [且分布不平均](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2618) [的柱形图图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2620) [你可以尝试去定位](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2622) [这张图像中区别足够](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2624) [明显的地方 在这里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2625) [就是页面中真正的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2626) [图像部分](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2628) [接下来 你就可以对图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2630) [进行裁剪 将裁剪后的图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2631) [作为参考图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2632) [这样子 Xcode 就不会发出](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2633) [任何警告](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2635) [你也可以获得更好的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2636) [跟踪质量](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2638) [我们还可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2640) [使用多个 AR 资源群组](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2643) [这个功能可以同时检测](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2647) [多张图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2649) [为了保持体验的高效性](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2650) [与反应性](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2651) [你可以设置每个组最多](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2654) [只能处理 25 张图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2655) [但群组的数量](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2657) [是没有限制的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2659) [接着 你就可以通过编程](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2660) [的方式切换不同的群组](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2661) [举个例子 如果你想要创造](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2663) [一个博物馆中的 AR 体验](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2666) [这个博物馆可能有着](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2667) [成千上百的图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2668) [通常 这些图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2671) [分布在博物馆的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2673) [不同房间中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2674) [那你将要做的是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2675) [将在同一个房间中的图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2678) [划分到一个群组中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2679) [在另外一个房间的图像则属于](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2681) [另一个群组](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2683) [随后 你可以用中心定点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2684) [来切换不同的房间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2685) [在这种情况下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2689) [只要在不同的群组中就可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2692) [存在类似的图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2693) [好的 以上就是有关](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2695) [参考图像的信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2697) [现在 让我们来看看我们的两个配置吧](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2698) [现在 让我们来看看我们的两个配置吧](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2698) [ARImageTrackingConfiguration](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2703) [是一个全新的 独立的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2705) [图像跟踪配置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2706) [这意味着它不会运转世界跟踪](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2707) [也就是说并没有](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2710) [它并没有世界原点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2712) [所以 每一张反馈给你的图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2713) [都是与当前相机的视角有关](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2714) [你可以将图像跟踪](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2718) [与世界跟踪的配置结合起来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2719) [在这种情况下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2722) [你可以获得所有与](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2724) [场景理解有关的东西](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2725) [像平面检测 灯光预估](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2727) [以及其他信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2729) [那这两种配置中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2731) [哪一种更适合我们使用呢](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2732) [让我们看看](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2735) [ARImageTrackingConfigurations](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2735) [是专门为围绕](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2737) [图像发生的 AR 体验](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2739) [所量身定制的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2741) [在屏幕的左侧 我们可以看到相应的例子](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2743) [图像可以是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2746) [课本的某一页](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2748) [为了让这次体验更](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2750) [吸引人 我们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2751) [动态地将图表重叠](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2754) [在这个例子里就是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2754) [如何画一个等边三角形](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2755) [你可以看到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2757) [这个体验真的是为图像量身定制的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2758) [这个体验真的是为图像量身定制的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2758) [让我们来看另一个例子](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2761) [图像跟踪用于](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2764) [触发一些超出](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2765) [图像范围的内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2767) [在这种情况下 你需要使用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2769) [ARWorldTrackingConfiguration](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2772) [因为你需要设备的位置信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2773) [来保持对图像外的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2774) [内容的跟踪](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2776) [因为图像跟踪并不使用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2780) [运动数据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2781) [所以它适用于像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2783) [公交车或者电梯这类](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2784) [运动数据与视觉数据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2787) [不匹配的场景下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2788) [下面要讲的是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2790) [如何在代码中实现这些功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2793) [你可以轻易地分辨出](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2795) [这里的三个步骤](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2796) [第一个是收集所有图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2797) [这里有个很方便的功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2800) [ARReferenceImage 这个功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2801) [可以收集在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2803) [特定群组中的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2805) [所有图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2807) [这个群组被命名为 Room1](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2808) [我们可以简单的赋予](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2811) [ARImageTrackingConfigurations](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2813) [中这些图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2815) [trackingImages 的特征](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2816) [然后运行这一会话](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2818) [你就能开始接收](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2820) [反馈 比如说在这个会话中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2822) [didUpdate 这个锚点指定了方式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2824) [你可以检查这个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2826) [锚点是否是属于](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2828) [ARImageAnchor](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2830) [在这个锚点中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2832) [你可以找到图像的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2834) [位置与方向以及](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2835) [参考图像本身](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2837) [你可能会问](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2838) [那要怎样才能找到以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2839) [你式命名的图像名称](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2841) [然后确认哪些图像被](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2843) [检测到了呢](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2844) [这里有一个叫 Boolean 的特性](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2845) [它能告诉你这个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2846) [图像当前是否](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2848) [正在被跟踪](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2850) [除了我们现在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2853) [所了解到的使用例子外](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2855) [当你围绕着](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2856) [图像进行建设](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2858) [图像检测以及跟踪还有](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2860) [其他的功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2863) [就好像 如果两个设备都对着](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2865) [同一张真实图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2867) [你可以在两个设备中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2868) [同时检测到这个图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2871) [这可以为你提供一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2872) [分享坐标体系](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2874) [这个体系可以为分享体验](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2876) [提供另一种选择](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2878) [另一个例子是 如果你刚好知道](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2881) [某张图像在世界上的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2883) [真实位置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2885) [比如说 你知道这幅公园地图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2888) [在现实生活中的位置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2889) [你可以通过图像跟踪来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2892) [获得拍摄图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2894) [设备的位置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2895) [还能获得这个设备](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2897) [在这个世界上的位置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2899) [你可以利用这些数据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2900) [来找到真实世界](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2901) [中真正的方向](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2904) [有关图像跟踪的讨论](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2907) [就到此为止](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2911) [接下来我们要讨论的是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2911) [物体检测](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2914) [通过图像跟踪 我们了解了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2918) [我们是如何检测图像的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2919) [而图像在真实生活中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2921) [是一个平面物体](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2923) [物品检测将这个概念](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2925) [扩展到三维世界](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2926) [让检测常用物品成为可能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2928) [但是这个物品](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2931) [在场景中需要是静止的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2933) [它与图像不同](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2935) [检测图像时是可以移动的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2937) [我们可以看看这个例子](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2938) [我们可以看看这个例子](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2938) [这是娜芙蒂蒂胸像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2940) [这是一个可以在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2942) [博物馆中展览的雕塑](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2944) [现在 你可以用 ARKit 来检测它](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2945) [然后可以在真实物品的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2948) [上方显示一些信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2950) [ARKit 中的物品检测](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2955) [指的是有关物品的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2957) [真实实例的检测](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2958) [所以我们正在讨论的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2961) [不是检测所有的雕像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2962) [而是检测这一特定的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2964) [娜芙蒂蒂雕像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2966) [我们如何在 ARKit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2968) [中重现这些物体呢](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2969) [首先你需要扫描这个物体](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2971) [事实上 只需要两步就可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2973) [完成这个检测](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2975) [首先 你对这个对象进行扫描](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2975) [然后你就可以检测它](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2976) [让我们讨论一下扫描这一部分](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2979) [对开发者来说](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2980) [扫描这一部分主要是你们的责任](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2982) [你们需要负责](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2984) [创造可用于](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2986) [检测的物体重现](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2987) [从内在来看 这个物体](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2991) [的重现方式与](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2993) [世界地图类似](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2995) [在左边 你可以看到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2996) [娜芙蒂蒂胸像上的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2998) [娜芙蒂蒂胸像上的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2998) [3D 特征点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3000) [你可以使用扫描与检测 3D 物体](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3003) [的开发者样本来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3005) [扫描物体](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3006) [这个样本可在网站上获得](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3008) [需要注意的是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3011) [你在运行时的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3013) [检测质量很大程度](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3014) [上受扫描质量的影响](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3017) [所以 不妨花上一些时间来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3019) [研究在扫描过程中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3021) [如何才能获得最好的质量](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3023) [一旦你建立并运行了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3027) [这个开发者样本](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3029) [你会在你的设备上 看到与这个类似的东西](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3030) [第一步是要找到你](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3033) [物体周围的空间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3035) [App 会试图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3039) [自动估算这个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3040) [密封盒子的大小](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3041) [探索不同的特征点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3042) [但你可以随时通过](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3044) [拖拽这个盒子的边框来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3046) [调整它 使它变大或缩小](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3049) [有一点需要特别留意](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3052) [当你围着这个物体扫描时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3055) [不能漏掉这个物体](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3057) [的任何特征点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3058) [的任何特征点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3058) [你也可以从上方用两指手势](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3061) [对盒子进行旋转操作](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3063) [你需要确保这个盒子](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3065) [围绕着物体](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3068) [而且包括了这一物体的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3069) [所有特征点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3071) [接下来就是真正的扫描部分](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3073) [在这个阶段](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3076) [我们希望能真正的从各个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3079) [角度来观察这个对象](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3081) [任何你觉得你的用户可能会想要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3083) [检测的角度都需要被考虑到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3084) [为了让你能更容易的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3087) [统计物体哪部分](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3088) [已经被获取了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3090) [就像对这个美丽的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3091) [地板的重现](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3093) [你可以看到在顶部](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3094) [有一个百分比](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3096) [它能告诉你有多少块地板](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3097) [已经被获取了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3098) [在这个阶段中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3100) [你需要在物体有着](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3101) [许多特征点的 或者](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3103) [有明显区别性的区域花上足够的时间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3105) [这是十分重要的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3106) [你需要走近对象去](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3107) [捕获所有细节](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3109) [你还需要从所有](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3110) [角度对对象进行扫描](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3112) [就好像你在这里看到的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3116) [如果你对你已经获取的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3119) [如果你对你已经获取的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3119) [信息感到满意了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3121) [你可以进入下一步](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3122) [你可以通过简单的拖拽](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3124) [在颜色系统中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3126) [调整原点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3129) [这个系统将会](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3130) [是锚点在检测阶段时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3132) [反馈给你的系统](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3133) [所以你要确保你将它](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3136) [放置在一个适合你的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3137) [虚拟内容的位置上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3139) [现在 你已经有了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3140) [有关物体的完整重现](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3145) [这个重现可以用来检测](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3147) [现在 App 会转换到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3150) [检测模式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3153) [我们强力建议你使用这一模式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3156) [以尽早获得有关](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3157) [检测质量的反馈](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3159) [你可能会想要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3161) [从不同的角度来观察这个物体](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3164) [以确认这个物体](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3166) [已经从所有不同角度](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3167) [检测过了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3170) [你可以将你的设备移开](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3171) [然后从另一个角度拿回来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3173) [你需要确保扫描质量好到可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3175) [用于检测物体](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3178) [用于检测物体](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3178) [你也可以移动这些物体](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3180) [这样 光照条件就会不同](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3183) [你需要确保在这些情况下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3186) [物体还能被检测到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3188) [对像玩具这样的物体而言](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3189) [这是十分重要的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3190) [因为你并不知道](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3192) [它们的真实位置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3193) [我们也建议你将物体](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3197) [放在一个完全不同的环境中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3198) [但还能确保它能被检测到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3202) [如果这个物体不能被检测到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3205) [那你可能需要回到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3207) [扫描环节重新扫描](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3208) [并确保你所处的环境光线充足](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3211) [光线充足的环境](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3213) [在扫描时是至关重要的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3215) [如果你使用的是 Verilux 灯泡](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3218) [那 500 lux 是最佳的亮度](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3219) [如果这个亮度也不够](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3223) [你可能需要保存不同的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3225) [扫描版本](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3226) [当你对检测质量](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3230) [感到满意时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3231) [你只需要将这个模型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3233) [存入你的 Mac 里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3235) [并将它添加到 AR 资源群组中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3237) [就像你对图像所做的一样](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3239) [就像你对图像所做的一样](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3239) [有一些物体](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3243) [十分适合这个系统](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3244) [这些物体就像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3247) [屏幕左侧展示的一样](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3248) [首先 它们都是刚性物体](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3249) [纹理丰富](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3250) [区分明显](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3253) [但也有着一些](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3255) [物体不适用于这一系统](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3256) [可以参考屏幕右侧的物体](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3259) [像金属的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3262) [透明的 或者金属的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3264) [反光的物体不适合用于](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3266) [这个系统](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3267) [透明的物体](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3269) [比如说玻璃材质的物体](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3271) [也不适用于这个系统](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3272) [因为这些物体的外观](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3274) [受它们所处的场景影响](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3275) [太大](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3278) [这就是如何扫描物体](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3279) [让我再强调一次](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3281) [确保你的环境光线充足](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3283) [接下来要了解的是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3284) [我们如何在 ARKit 中检测到这一操作](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3286) [如果你觉得这个很眼熟](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3290) [那时因为这个 API](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3291) [与其中之一的图像十分相似](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3293) [我们会有很方便的特征](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3295) [来将所有对象集中到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3296) [一个群组中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3298) [在这里 指的是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3299) [在这里 指的是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3299) [ARReferenceObjects 这一类](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3300) [当你配置你的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3302) [ARWorldTracking 参数时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3305) [你只需要将这个对象](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3307) [传输到 the detectionObjects 的特征下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3308) [一旦你开始运行这个会话](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3313) [你会收到结果反馈](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3315) [在这里 你会需要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3318) [检查 ARObjectAnchor](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3319) [它能为你提供现实生活中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3322) [物体的位置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3323) [以及方向](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3325) [物体的名字也会](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3328) [在资产目录中得到展示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3330) [你可能已经注意到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3335) [物体检测与](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3336) [世界匹配重新定位之间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3338) [有着某些类似之处](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3340) [但它们也有着一些不同](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3343) [在物体检测时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3344) [我们是根据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3346) [现实世界 赋予物体位置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3348) [而在世界地图的重新定位时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3351) [是相机本身](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3352) [调整了之前的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3353) [世界地图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3356) [而且 你还可以检测多个物体](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3358) [而且 你还可以检测多个物体](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3358) [物体检测十分适合](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3361) [那些在放置在桌面上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3363) [家具大小的物体](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3365) [而世界地图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3367) [获取的则是整个场景](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3368) [以上便是有关物品检测的信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3370) [让我们来总结一下我们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3374) [今天所讲过的东西](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3377) [方向跟踪只能跟踪](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3379) [设备的旋转](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3381) [可以用于探索](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3383) [静止的环境](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3385) [世界跟踪是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3387) [全特征的位置和](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3389) [方向跟踪](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3390) [它能根据世界原点为你](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3392) [提供设备的位置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3393) [并启用有关理解场景的所有](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3397) [相关的功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3398) [比如平面检测](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3401) [平面检测让你可以与真实的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3404) [水平或垂直的平面互动](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3406) [你可以在这些平面上放置虚拟物体](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3410) [我们也了解了你可以通过](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3411) [框架中的保存和上传](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3415) [地图特征的功能创造](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3417) [一个持续的或者多用户的体验](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3418) [一个持续的或者多用户的体验](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3418) [还有你如何才能用图像跟踪来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3421) [检测物理图像并以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3423) [每秒 60 帧的速度来跟踪它们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3424) [以及你是如何通过物体跟踪](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3426) [来检测更多常用物体](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3428) [我希望通过这个演讲](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3432) [你们现在对 ARkit 中的所有](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3435) [不同的跟踪技术以及](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3437) [它们是如何运作的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3439) [有更清晰的理解](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3440) [以及更了解你如何才能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3443) [获得最佳的跟踪质量](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3444) [我们非常期待](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3446) [你即将利用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3448) [ARKit 所创造出来的作品](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3449) [更多的信息可以在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3450) [开发者网站上的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3452) [演讲链接中获得](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3453) [明天早上 9 点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3454) [将会有 ARKit 实验室的活动](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3456) [我和 Marion 都会](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3458) [在现场回答有关](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3459) [ARKit 的任何问题](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3461) [最后 十分感谢大家](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3463) [希望大家能享受这次知识冲击](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3464) [[ 掌声 ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3467)