# Understanding ARKit Tracking and Detection

## Summary
With ARKit your app can see the world and place virtual objects on horizontal and vertical surfaces and recognize images and objects. Go beyond the API to gain insights into the innovative methods and techniques underlying these capabilities. See how ARKit combines device motion with the camera to provide accurate tracking and plane detection. Get a deeper understanding of persistence and multi-device AR and learn the recommended approach for image tracking and object detection.

## Info
* Graphics and Games
* WWDC 2018 - Session 610 - iOS
* https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/

## Text
 [[ Music ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=7) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=19) [&gt;&gt; Hello, everybody.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=26) [I'm very excited to be here](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=27) [today to talk about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=29) [understanding ARKit Tracking and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=31) [Detection to empower you to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=34) [create great augmented reality](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=36) [experiences.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=38) [My name is Marion and I'm from](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=40) [the ARKit Team.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=42) [And what about you?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=43) [Are you an experienced ARKit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=46) [developer, already, but you are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=47) [interested in what's going on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=49) [under the hood?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=50) [Then, this talk is for you.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=51) [Or you may be new to ARKit.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=53) [Then, you'll learn different](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=57) [kind of tracking technologies,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=59) [kind of tracking technologies,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=59) [as well as some basics and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=61) [terminology used in augmented](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=62) [reality, which will then help](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=64) [you to create your very own](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=66) [first augmented reality](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=68) [experience.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=69) [So, let's get started.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=70) [What's tracking?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=75) [Tracking provides your camera](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=78) [viewing position and orientation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=79) [into your physical environment,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=83) [which will then allow you to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=85) [augment virtual content into](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=86) [your camera's view.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=89) [In this video, for example, the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=91) [front table and the chairs is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=93) [virtual content augmented on top](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=95) [of the real physical terrace.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=99) [This, by the way, is Ikea.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=102) [And the virtual content will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=105) [appear always virtually correct.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=107) [Correct placement, correct size,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=109) [and correct perspective](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=112) [appearance.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=113) [So, different tracking](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=115) [technologies are just providing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=116) [a difference reference system](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=119) [a difference reference system](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=119) [for the camera.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=120) [Meaning the camera with respect](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=121) [to your world, the camera with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=123) [respect to an image, or maybe, a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=125) [3D object.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=127) [And we'll talk about those](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=129) [different kind of tracking](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=131) [technologies in the next hour,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=132) [such that you'll be able to make](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=134) [the right choice for your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=136) [specific use case.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=137) [We'll talk about the already](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=139) [existing AR technologies'](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=142) [Orientation Tracking, World](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=144) [Tracking, and Plane Detection.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=146) [Before we then have a close look](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=149) [at our new tracking and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=151) [detection technologies which](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=153) [came out now with ARKit 2.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=156) [Which are saving and loading](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=158) [maps, image tracking, and object](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=160) [detection.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=163) [But before diving deep into](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=165) [those technologies, let's start](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=166) [with a very short recap of ARKit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=168) [like on a high level.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=171) [This is, specifically,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=173) [interesting if you are new to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=174) [ARKit.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=175) [So, the first thing you'll do is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=176) [So, the first thing you'll do is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=176) [create an ARSession.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=180) [An ARSession is the object that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=182) [handles everything from](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=184) [configuring to running the AR](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=186) [technologies.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=189) [And also, returning the results](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=191) [of the AR technologies.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=194) [You then, have to describe what](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=196) [kind of technologies you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=199) [actually want to run.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=200) [Like, what kind of tracking](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=202) [technologies and what kind of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=203) [features should be enabled, like](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=205) [Plane Detection, for example.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=206) [You'll then, take this specific](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=208) [ARConfiguration and call run](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=212) [method on your instance of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=216) [ARSession.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=219) [Then, the ARSession, internally,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=221) [will start configuring an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=224) [AVCaptureSession to start](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=227) [receiving the images, as well as](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=230) [a call motion manager to begin](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=232) [receiving the motion sensor, so,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=235) [data.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=237) [So, this is, basically, the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=237) [built-in input system from your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=238) [built-in input system from your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=238) [device for ARKit.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=241) [Now, after processing the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=244) [results are returned in ARFrames](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=247) [at 60 frames per second.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=249) [An ARFrame is a snapshot in time](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=252) [which gives you everything you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=254) [need to render your augmented](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=255) [reality scene.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=257) [Like, the captured camera image,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=258) [which would then be, which will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=260) [be rendered in the background of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=262) [your augmented reality scenario.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=263) [As well as a track camera](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=265) [motion, which will then be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=267) [applied to your virtual camera](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=269) [to render the virtual content](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=271) [from the same perspective as the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=274) [physical camera.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=276) [It also contains information](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=278) [about the environment.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=280) [Like, for example, detected](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=282) [plates.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=283) [So, let's now start with our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=283) [first tracking technology and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=286) [build up from there.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=288) [Orientation Tracking.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=291) [Orientation Tracking tracks,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=294) [guess what?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=296) [Orientation.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=297) [Meaning it tracks the rotation,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=298) [Meaning it tracks the rotation,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=298) [only.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=300) [You can think about it as you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=302) [can only use your hat to view](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=303) [virtual content, which also,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=305) [only allows rotation.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=307) [Meaning you can experience the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=309) [virtual content from the same](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=311) [positional point of view, but no](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=313) [change in the position is going](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=315) [to be tracked.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=317) [The rotation data is tracked](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=319) [around three axles.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=321) [That's why it's also, sometimes,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=322) [called the three degrees of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=324) [freedom tracking.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=325) [You can use it, for example, in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=326) [a spherical virtual environment.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=328) [Like, for example, experience a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=330) [360-degree video, in which the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=332) [virtual content can be viewed](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=335) [from the same positional point.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=336) [You can also, use it to augment](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=339) [objects that are very far away.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=341) [Orientation Tracking is not](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=344) [suited for physical world](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=346) [augmentation, in which you want](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=348) [to view the content from](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=349) [different points of views.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=350) [So, let's now have a look at](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=354) [what happens under the hood when](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=356) [Orientation Tracking is running.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=358) [It is, actually, quite simple.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=360) [It only uses the rotation data](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=363) [from core motion, which applies](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=365) [sensor fusion to the motion](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=367) [sensors data.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=369) [As motion data is provided at a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=371) [higher frequency than the camera](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=373) [image, Orientation Tracking](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=375) [takes the latest motion data](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=378) [from commotion, once the camera](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=380) [image is available.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=382) [And then, returns both results](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=383) [in an ARFrame.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=386) [So, that's it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=387) [Very simple.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=388) [So, please note that the camera](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=389) [feed is not processed in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=391) [Orientation Tracking.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=393) [Meaning there's no computer](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=394) [version under the hood here.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=395) [Now, to run Orientation Tracking](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=398) [you only need to configure your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=400) [ARSession with an AROrientation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=403) [TrackingConfiguration.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=405) [The results will then be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=408) [returned in an ARCamera object](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=409) [provided by the ARFrames.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=412) [Now, an ARCamera object always](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=415) [contains the transform, which in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=417) [this case of Orientation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=419) [this case of Orientation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=419) [Tracking, only contains the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=421) [rotation data of your tracked](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=422) [physical camera.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=425) [Alternatively, the rotation is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=427) [also represented in eulerAngles.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=429) [You can use whatever fits best](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=432) [to you.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=434) [Let's now move over to more](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=436) [advanced tracking technologies.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=438) [We'll start with World Tracking.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=441) [World Tracking tracks your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=443) [camera viewing orientation, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=445) [also, the change in position](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=448) [into your physical environment](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=450) [without any prior information](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=452) [about your environment.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=454) [Here, you can see on the left](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=456) [side the real camera's view into](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=457) [the environment, while on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=461) [right side you see the tracked](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=462) [camera motion while exploring](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=465) [the world represented in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=467) [coordinate system.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=470) [Let's now explain better, what](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=472) [happens here, when World](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=474) [Tracking is running.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=475) [World Tracking uses a motion](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=476) [World Tracking uses a motion](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=476) [sensor, the motion data of your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=480) [device's accelerometer and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=483) [gyroscope to compute its change](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=485) [in orientation and translation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=488) [on a high frequency.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=491) [It also provides its information](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=494) [in correct scale in Metal.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=497) [In literature, just this part of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=500) [the tracking system is also](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=503) [called Inertial Odometry.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=504) [While this motion data provides](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=507) [good motion information for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=509) [movement across small time](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=511) [intervals and whenever there's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=512) [like, sudden movement, it does](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=514) [drift over larger time intervals](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=516) [as the data is not ideally](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=519) [precise and subject to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=520) [cumulative errors.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=522) [That's why it cannot be used](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=524) [just by its own for tracking.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=525) [Now, to compensate this drift,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=528) [World Tracking, additionally,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=531) [applies a computer version](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=533) [process in which it uses the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=535) [camera frames.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=538) [This technology provides a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=540) [higher accuracy, but at the cost](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=542) [of computation time.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=545) [Also, this technology is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=548) [sensitive to fast camera motions](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=550) [and this results in motion blur](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=552) [in the camera frames.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=554) [Now, this version only part of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=556) [the system is also called Visual](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=558) [Odometry.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=560) [Now, by fusing those both](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=562) [systems, computer vision and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=564) [motion, ARKit takes the best of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=566) [those both systems.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=568) [From computer version, it takes](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=570) [a high accuracy over the larger](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=572) [time intervals.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=574) [And from the motion data it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=575) [takes the high update rates and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=577) [good precision for the smaller](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=579) [time intervals, as well as the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=581) [metric scale.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=583) [Now, by combining those both](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=584) [systems World Tracking can skip](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=587) [the computer version processing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=589) [for some of those frames, while](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=591) [still keeping an efficient and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=592) [responsive tracking.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=594) [This frees CPU resources, which](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=596) [you can then, additionally, use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=598) [you can then, additionally, use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=598) [for your apps.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=600) [In Literature, this combined](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=602) [technology is also called Visual](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=604) [Inertial Odometry.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=606) [Let's have a closer look at the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=608) [visual part of it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=611) [So, within the computer version](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=614) [process interesting regions in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=615) [the camera images I extracted,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=619) [like here, the blue and the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=621) [orange dot.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=622) [And they are extracted such that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=624) [they can robustly all to be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=626) [extracted and other images of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=627) [the same environment.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=630) [Those interesting regions are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=633) [also called features.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=634) [Now, those features are then](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=636) [matched between multiple images](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=637) [over the camera stream based on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=640) [their similarity and their](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=642) [appearance.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=643) [And what then happens is pretty](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=645) [much how you are able to see 3D](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=646) [with your eyes.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=648) [You have two of them and they](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=650) [are within the sidewise small](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=651) [distance.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=653) [And this parallax between the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=655) [eyes is important as this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=656) [results in slightly different](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=658) [results in slightly different](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=658) [views into the environment,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=660) [which allows you to see stereo](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=662) [and perceive the depth.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=664) [And this is what ARKit now,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=667) [also, does with the different](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=668) [views of the same camera stream](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=670) [during the process of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=672) [triangulation.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=673) [And it does it once there's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=674) [enough parallax present.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=676) [It computes the missing depth](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=678) [information for those matched](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=680) [features.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=682) [Meaning those 2D features from](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=683) [the image are now reconstructed](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=686) [in 3D.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=688) [Please, note that this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=690) [reconstruction to be successful,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=692) [the camera position must have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=695) [changed by a translation to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=697) [provide enough parallax.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=699) [For example, with the sidewise](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=702) [movement.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=704) [The pure rotation does not give](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=704) [enough information here.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=707) [So, this is your first small map](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=710) [of your environment.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=712) [In ARKit we call this a World](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=713) [map.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=715) [In this same moment, also, the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=717) [camera's positions and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=719) [camera's positions and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=719) [orientations of your sequences](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=721) [are computed, denoted with a C](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=724) [here.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=726) [Meaning, your World Tracking](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=727) [just initialized.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=728) [This is the moment of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=729) [initialization of the tracking](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=730) [system.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=732) [Please note that also in this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=732) [moment of this initial](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=735) [reconstruction of the World map,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=737) [the world origin was defined.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=739) [And it is set to the first](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=741) [camera's origin of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=743) [triangulated frames.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=745) [And it is also set to be gravity](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=748) [aligned.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=749) [It's denoted with a W in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=751) [slides.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=754) [So, you now have a small](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=754) [representation of your real](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=755) [environment reconstructed as a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=757) [World map in its own world](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=759) [coordinates system.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=760) [And you have your current camera](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=762) [tracked with respect to the same](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=764) [world coordinate system.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=766) [You can now start adding virtual](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=770) [content to augment them into the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=773) [camera's view.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=776) [Now, to place virtual content](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=778) [Now, to place virtual content](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=778) [correctly to an ARSession, you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=781) [should use ARAnchors from ARKit,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=783) [which are denoted with an A](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=786) [here.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=787) [ARAnchors are reference points](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=789) [within this World map, within](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=792) [this world coordinates system.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=794) [And you should use them because](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=796) [the World Tracking might update](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=798) [them during the tracking.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=800) [Meaning that, also, all the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=802) [virtual content that is assigned](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=803) [to it will be updated and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=805) [correctly augmented into the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=807) [camera's view.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=812) [So, now that you've used the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=812) [ARAnchors you can add virtual](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=814) [content to the anchor, which](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=816) [will them be augmented correctly](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=818) [into the current camera's view.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=820) [From now on, this created 3D](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=825) [World map of your environment is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=828) [your reference system for the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=831) [World Tracking.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=832) [It is used to reference new](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=834) [images against.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=835) [And features are matched from](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=837) [image to image and triangulated.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=838) [image to image and triangulated.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=838) [And at the same time, also, new](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=842) [robust features are extracted,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=844) [matched, and triangulated, which](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=846) [are then extending your World](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=848) [map.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=850) [Meaning ARKit is learning your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=851) [environment.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=853) [This then allows, again, the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=855) [computation of tracking updates](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=857) [of the current camera's position](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=858) [and orientation.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=860) [And finally, the correct](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=863) [augmentation into the current](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=864) [camera's view.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=866) [While you continue to explore](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=867) [the world, World Tracking will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=871) [continue to track your physical](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=873) [camera and continue to learn](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=875) [your physical environment.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=878) [But over time, the augmentation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=880) [might drift slightly, which can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=882) [be noticed like you can see in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=885) [the left image, in a small](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=887) [offset of the augmentation.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=889) [This is because even small](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=892) [offsets, even small errors will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=895) [become noticeable when](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=898) [accumulated over time.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=899) [accumulated over time.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=899) [Now, when the device comes back](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=903) [to a similar view, which was](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=905) [already explored before, like](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=907) [for example, the starting point](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=909) [where we started the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=910) [exploration, ARKit can perform](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=911) [another optimization step.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=914) [And this addition makes, a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=916) [Visual Intertial Odometry](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=918) [system, makes the system that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=919) [ARKit supplies to a Visual](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=921) [Inertial SLAM System.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=924) [So, let's bring back this first](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=927) [image where the World Tracking](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=928) [started the exploration.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=930) [So, what happens now is that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=933) [World Tracking will check how](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=935) [well the tracking information](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=937) [and the World map of the current](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=939) [view aligns with the past views,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=941) [like the one from the beginning.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=943) [And will then perform the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=945) [optimization step and align the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=948) [current information and the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=952) [current World map with your real](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=954) [physical environment.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=956) [Have you noticed that during](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=958) [Have you noticed that during](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=958) [this step, also the ARAnchor was](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=960) [updated?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=961) [And that is the reason why you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=963) [should use ARAnchors when adding](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=964) [virtual content to your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=967) [scenario.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=968) [In this video, you can see the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=969) [same step again with a real](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=974) [camera feed.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=976) [On the left side you see the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=978) [camera's view into the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=979) [environment, and also, features](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=980) [which are tracked in the images.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=982) [And on the right side, you see a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=985) [bird eye's view onto the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=986) [scenario, showing what ARKit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=988) [knows about it and showing the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=990) [3D reconstruction of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=994) [environment.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=995) [The colors of the points are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=996) [just encoding the height of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=999) [reconstructed points with blue](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1001) [being the ground floor and red](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1003) [being the table and the chairs.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1005) [Once the camera returns back to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1007) [a similar view it has seen](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1011) [before, like here the starting](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1012) [point, ARKit will now apply this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1014) [optimization step.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1016) [So, just pay attention to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1017) [point cloud and the camera](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1019) [point cloud and the camera](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1019) [trajectory.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1020) [Have you noticed the update?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1022) [Let me show you, once more.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1024) [This update aligns the ARKit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1025) [knowledge with your real](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1030) [physical world, and also, the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1032) [camera movement and results in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1035) [the better augmentation for the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1037) [coming camera frames.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1039) [By the way, all those](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1041) [computations of World Tracking,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1043) [and also, all this information](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1045) [about your learned environment,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1047) [everything is done on your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1049) [device only.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1051) [And all this information, also,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1052) [stays on your device only.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1053) [So, how can you use this complex](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1055) [technology, now, in your app?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1057) [It is actually quite simple.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1061) [To run World Tracking you just](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1065) [configure your ARSession with an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1067) [ARWorldTrackingConfiguration.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1069) [Again, its results are retuned](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1072) [in an ARCamera object of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1075) [ARFrame.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1077) [An ARCamera object, again,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1080) [contains the transform, which in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1083) [this case of World Tracking](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1085) [contains, additionally, to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1087) [rotation, also, the translation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1088) [of the track camera.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1091) [Additionally, the ARCamera also](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1093) [contains information about the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1095) [tracking state and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1096) [trackingStateReason.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1098) [This will provide some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1100) [information about the current](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1102) [tracking quality.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1104) [So, tracking quality.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1106) [Have you ever experienced](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1108) [opening an AR app and the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1110) [tracking worked very poorly or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1112) [maybe it didn't work at all?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1114) [How did that feel?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1116) [Maybe frustrating?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1118) [You might not open the app,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1119) [again.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1120) [So, how can you get a higher](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1122) [tracking quality for your app?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1123) [For this, we need to understand](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1126) [the main factors that are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1128) [influencing the tracking](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1129) [quality.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1131) [And I want to highlight three of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1132) [them here.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1133) [First of all, World Tracking](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1135) [relies on a constant stream of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1136) [camera images and sensor data.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1139) [camera images and sensor data.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1139) [If this is interrupted for too](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1141) [long, tracking will become](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1142) [limited.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1144) [Second, World Tracking also](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1146) [works best in textured and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1148) [well-lit environments because](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1150) [World Tracking uses those](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1152) [visually robust points to map](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1154) [and finally triangulate its](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1156) [location.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1158) [It is important that there is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1158) [enough visual complexity in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1160) [environment.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1163) [If this is not the case because](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1164) [it's, for example, too dark or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1166) [you're looking against a white](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1168) [wall, then also, the tracking](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1169) [will perform poorly.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1171) [And third, also, World Tracking](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1173) [works best in static](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1176) [environments.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1178) [If too much of what your camera](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1180) [sees is moving, then the visual](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1182) [data won't correspond with the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1185) [motion data, which might result](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1187) [in the potential drift.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1190) [Also, device itself should not](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1192) [be on a moving platform like a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1194) [bus or an elevator.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1195) [Because in those moments the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1198) [motion sensor would actually](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1199) [motion sensor would actually](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1199) [sense a motion like going up or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1201) [down in the elevator while,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1202) [visually, your environment had](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1204) [not changed.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1206) [So, how can you get notified](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1208) [about the tracking quality that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1211) [the user is currently](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1214) [experiencing with your app?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1215) [ARKit monitors its tracking](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1218) [performance.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1219) [We applied machine learning,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1221) [which was trained on thousands](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1223) [of data sets to which we had the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1224) [information how well tracking](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1226) [performed in those situations.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1228) [To train a classifier, which](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1231) [tells you how tracking performs,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1233) [we used annotations like the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1235) [number of visual-- visible](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1236) [features tracked in the image](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1239) [and also, the current velocity](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1241) [of the device.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1243) [Now, during runtime, the health](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1245) [of tracking is determined based](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1247) [on those parameters.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1250) [In this video, we can see how](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1252) [the health estimate, which can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1255) [be seen-- which, is reported in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1257) [the lower left, gets worse when](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1258) [the lower left, gets worse when](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1258) [the camera is covered while we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1260) [are still moving and exploring](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1263) [the environment.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1265) [It also shows how it returns](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1267) [back to normal after the camera](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1269) [view is uncovered.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1271) [Now, ARKit simplifies its](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1274) [information for you by providing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1276) [a tracking state.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1278) [And the tracking state can have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1280) [three different values.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1282) [It can be normal, which is the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1283) [healthy state and is the case in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1286) [most of the time.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1289) [It's the case in most of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1290) [times.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1291) [And it can also be limited,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1292) [which is whenever tracking](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1294) [performs poorly.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1295) [If that's the case, then the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1297) [limited state will also come](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1300) [along with the reason, like](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1302) [insufficient features or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1303) [excessive motion or being](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1305) [currently in the initialization](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1307) [phase.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1309) [It can also be not available,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1310) [which means that tracking did](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1313) [not start yet.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1315) [Now, whenever the tracking state](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1317) [changes, a delegate is called.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1318) [changes, a delegate is called.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1318) [The camera did change tracking](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1321) [state.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1323) [And this gives you the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1325) [opportunity to notify the user](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1326) [when a limited state has been](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1328) [encountered.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1330) [You should, then, give](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1332) [informative and actionable](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1333) [feedback what the user can do to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1335) [improve his tracking situation,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1337) [as most of it is actually in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1340) [user's hand.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1342) [Like for example, as we learned](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1343) [before, like a sidewise movement](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1345) [to allow initialization or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1348) [making sure there's enough](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1351) [adequate lightning for enough](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1352) [visual complexity.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1354) [So, let me wrap up the World](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1356) [Tracking for you.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1359) [World Tracking tracks your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1362) [camera 6 degree of freedom](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1366) [orientation and position with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1368) [respect to your surrounding](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1371) [environment and without any](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1373) [prior information about your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1375) [environment, which then allows](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1376) [the physical world augmentation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1379) [the physical world augmentation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1379) [in which the content can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1381) [actually be viewed from any kind](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1382) [of view.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1384) [Also, World Tracking creates a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1386) [World map, which becomes the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1388) [tracking's reference system to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1391) [localize new camera images](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1393) [against.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1394) [To create a great user](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1397) [experience, the tracking quality](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1398) [should be monitored and feedback](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1400) [and guidance should be provided](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1402) [to your user.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1404) [And World Tracking runs on your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1405) [device only.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1408) [And all results stay on your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1410) [device.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1411) [If you have not done it already,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1413) [try out one of our developer](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1415) [examples.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1417) [For example, the Build Your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1417) [First AR Experience, and play a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1419) [bit around, just 15 minutes with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1421) [the tracking quality in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1423) [different situations; light](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1424) [situations or movements.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1426) [And always remember to guide the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1428) [user whenever he encounters a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1430) [limited tracking situation to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1433) [guarantee that he has a great](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1436) [tracking experience.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1438) [tracking experience.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1438) [So, World Tracking is about the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1441) [camera-- where your camera is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1444) [with respect to your physical](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1446) [environment.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1448) [Let's now talk about how the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1450) [virtual content can interact](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1453) [with the physical environment.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1454) [And this is possible with Plane](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1457) [Detection.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1459) [The following video, again, from](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1462) [the Ikea app, shows a great use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1464) [case for the Plane Detection,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1466) [placing virtual objects into](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1468) [your physical environment, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1470) [then interacting with it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1472) [So first, please note how, also,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1475) [in the Ikea app the user is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1477) [guided to make some movement.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1479) [Then, once a horizontal plane is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1482) [detected, the virtual table set](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1484) [is displayed and is waiting to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1486) [be placed by you.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1488) [Once you position it, rotate it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1491) [as you want it, you can lock the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1492) [object in its environment.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1494) [And did you notice the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1496) [interaction between the detected](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1496) [ground plane and the table set](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1499) [ground plane and the table set](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1499) [in the moment of locking?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1501) [It kind of bounces shortly on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1502) [the ground plane.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1504) [And this is possible because we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1505) [know where the ground plane is.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1506) [So, let's have a look at what](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1509) [happened under the hood here.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1510) [Plane Detection uses the World](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1514) [map provided by the world I just](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1516) [talked about, just talked about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1518) [a moment ago, which is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1520) [represented here in those yellow](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1522) [points.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1524) [And then, it uses them to detect](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1525) [surfaces that are horizontal or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1528) [vertical, like the ground, the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1530) [bench, and the small wall.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1532) [It does this by accumulating](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1535) [information over multiple](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1536) [ARFrames.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1538) [So, as the user moves around the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1540) [scene, more and more information](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1542) [about the real surface is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1544) [acquired.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1545) [It also allows the Plane](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1546) [Detection to provide and like](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1548) [extent the surface, like a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1550) [convex hull.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1552) [If multiple planes belonging to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1553) [the same physical surface are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1558) [the same physical surface are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1558) [detected, like in this part now,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1560) [the green and the purple one,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1562) [then they will be merged once](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1565) [they start overlapping.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1566) [If horizontal and vertical](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1568) [planes intersect they are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1571) [clipped at the line of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1573) [intersection, which is actually](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1574) [a new feature in ARKit 2.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1575) [Plane Detection is designed to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1579) [have very little overhead as it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1581) [repurposes the mapped 3D points](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1584) [from the World Tracking.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1587) [And then it fits planes into](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1589) [those point clouds and over time](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1591) [continuously aggregates more and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1593) [more points and merge the planes](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1596) [that start to overlap.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1598) [Therefore, it takes some time](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1600) [until the first planes are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1602) [detected.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1604) [What does that mean for you?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1606) [If your app is started, there](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1608) [might not directly be planes to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1610) [place objects on or to interact](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1613) [with.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1615) [If the detection of a plane is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1617) [mandatory for your experience,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1618) [mandatory for your experience,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1618) [you should again guide the user](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1621) [to move the camera with enough](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1624) [translation to ensure a dense](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1626) [reconstruction based on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1628) [parallax, and also, enough](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1631) [visual complexity in the scene.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1633) [Again, for the reconstruction, a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1635) [rotation only is not enough.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1638) [Now, how can you enable the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1640) [Plane Detection?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1643) [It's, again, very simple.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1645) [As the Plane Detection reuses](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1647) [the 3D map from the World](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1648) [Tracking, it can be configured](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1650) [by using the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1652) [ARWorldTrackingConfiguration.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1653) [Then, the property](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1655) [planeDetection just needs to be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1658) [set to either horizontal,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1660) [vertical, or like in this case,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1661) [both.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1663) [And then, just call your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1665) [ARSession with this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1667) [configuration.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1669) [And the detection of the planes](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1670) [will be started.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1672) [Now, how are those, the results](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1673) [of the detected planes returned](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1676) [to you?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1677) [The detected planes are returned](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1681) [as an ARPlaneAnchor.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1683) [An ARPlaneAnchor is a subclass](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1685) [of an ARAnchor.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1687) [Each ARAnchor provides a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1690) [transform containing the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1691) [information where the anchor is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1694) [in your World map.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1696) [Now, a plane anchor,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1698) [specifically, also has](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1700) [information about the geometry](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1701) [of the surface of the plane,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1704) [which is represented in two](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1706) [alternative ways.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1707) [Either like a bounding box with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1709) [a center and an extent, or as a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1711) [3D mesh describing the shape of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1715) [the convex hull of the detected](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1717) [plane and its geometry property.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1719) [To get notified about detected](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1722) [planes, delegates are going to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1724) [be called whenever planes are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1728) [added, updated, or removed.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1731) [This will then allow you to use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1734) [those planes, as well as react](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1737) [to any updates.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1739) [to any updates.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1739) [Now, what can you do with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1741) [planes?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1743) [Like what we've seen before on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1744) [the Ikea app, these are great](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1745) [examples.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1747) [Place virtual objects, for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1748) [example, with hit testing.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1749) [Or you can interact with some,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1752) [for example, physically.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1753) [Like we've seen bouncing is a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1755) [possibility.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1757) [Or you can also use it by adding](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1759) [an occlusion plane into the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1761) [detected plane, which will then](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1763) [hide all the virtual content](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1765) [below or behind the added](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1767) [occlusion plane.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1770) [So, let me summarize what we've](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1772) [already gone through.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1774) [We've had a look at the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1776) [Orientation Tracking, the World](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1777) [Tracking, and the Plane](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1781) [Detection.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1783) [Next, Michele will explain, in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1785) [depth, our new tracking](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1787) [technologies, which were](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1788) [introduced in ARKit 2.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1790) [So, welcome Michele.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1793) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1795) [&gt;&gt; Thank you, Marion.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1798) [My name is Michele, and it's a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1800) [pleasure to continue with the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1801) [remaining topics of this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1802) [session.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1803) [Next up is saving and loading](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1805) [maps.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1807) [This is a feature that allows to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1808) [store all the information that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1810) [are required in a session.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1811) [So, that it can literally be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1813) [restored in another session at a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1814) [later point in time to create](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1816) [augmented reality experiences](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1818) [that persist to a particular](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1819) [place.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1821) [Or that could, also, be stored](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1822) [by another device to create](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1823) [multiple user augmented reality](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1825) [experiences.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1827) [Let's take a look at an example.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1828) [What you see here is a guy;](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1837) [let's name him Andre, that's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1838) [walking around the table with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1840) [his device having an augmented](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1841) [reality experience.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1843) [And you can see his device now](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1845) [is making this seem more](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1847) [interesting by adding a virtual](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1848) [vase on the table.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1850) [A few minutes later his friends](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1854) [arrive at the same scene.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1856) [And now, they're both looking at](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1858) [And now, they're both looking at](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1858) [the scene.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1860) [You're going to see Andre's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1860) [device on the left and his](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1862) [friend on the right now.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1864) [So, you can see that they're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1866) [looking at the same space.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1867) [They can see each other.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1868) [But most importantly, they see](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1870) [the same virtual content.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1871) [They're having a shared](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1874) [augmented reality experience.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1875) [So, what we have seen in these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1879) [examples can be discovered in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1881) [three stages.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1883) [First, Andre went around the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1884) [table and acquired the World](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1885) [map.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1887) [Then, the World map was shared](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1888) [across devices.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1890) [And then, his friend's device](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1892) [re-localized to the World map.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1894) [This means that the object was](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1897) [able to understand in the new](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1898) [device that this was the same](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1900) [place as the other device,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1901) [computed the precise position of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1903) [the device with respect to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1905) [map, and then, started tracking](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1906) [from there just like the new](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1908) [device acquired the World map](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1910) [itself.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1911) [We're going to go into more](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1912) [detail about these three phases.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1914) [But first, let's review what's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1916) [in the World map.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1919) [in the World map.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1919) [The World map includes all the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1921) [tracking data that are needed](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1922) [for the system to be localized,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1924) [which includes the feature](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1926) [points as Marion greatly](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1928) [explained before.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1929) [As well as local appearance for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1930) [this point.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1932) [They also contain all the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1937) [anchors that were added to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1938) [session, either by the users,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1939) [like planes, for example.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1941) [I mean by the system-- like](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1944) [planes.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1946) [Or by the users, like the vase,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1946) [as we have seen in the example.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1948) [This data is serializable and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1950) [available to you so that you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1953) [create compelling persistent or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1955) [multiple user augmented reality](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1957) [experiences.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1959) [So, now let's take a look at the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1960) [first stage, which is acquiring](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1961) [the World map.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1963) [We can play back the first video](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1964) [where Andre went around the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1968) [table that you can see his](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1969) [device on the left, here.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1971) [And on the right, you see the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1973) [World map from a top view as](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1977) [acquired by the tracking system.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1979) [acquired by the tracking system.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1979) [You can [inaudible] is the table](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1980) [and the chair around it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1983) [There's a few things to pay](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1985) [attention to during this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1986) [acquisition process.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1988) [First, everything that Marion](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1990) [said during tracking also](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1991) [applies here.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1993) [So, we want enough visual](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1994) [complexity on the scene to get](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1995) [dense feature points on the map.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1997) [And the scene must be static.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=1999) [Of course, we can deal with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2002) [minor changes, as you have seen](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2002) [the tablecloth moving by the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2004) [wind.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2005) [But the scene must be mostly](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2006) [static.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2007) [In addition, when we are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2009) [specifically acquiring a World](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2010) [map for sharing we want to go](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2011) [around the environment from](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2013) [multiple points of view.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2015) [In particular, we want to cover](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2017) [all the direction from which we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2018) [want to later be localized from.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2021) [To make this easy, we also made](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2025) [available a world mapping status](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2027) [which gives you information](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2030) [about the World map.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2031) [If you guys have been to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2033) [What's New in ARKit talk,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2034) [[inaudible] greatly expand this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2036) [to quickly recap.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2037) [When you start the session the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2039) [When you start the session the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2039) [World map status will start](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2040) [limited.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2042) [And then, will switch to a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2042) [standing as more of the scene is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2044) [learned by the device.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2046) [And then, finally, we go to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2048) [mapped when the system is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2049) [confident you're staying in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2050) [same place.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2052) [And that's what you want to save](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2053) [the map in the mapped state.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2055) [So, that's good information.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2057) [But this is mostly on the user](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2060) [side applied to acquire the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2062) [session.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2064) [So, what does this mean to you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2064) [as a developer?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2066) [That you need to guide the user.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2067) [So, we can indicate the mapping](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2070) [status and even disabling the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2072) [saving or sharing of the World](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2073) [map until the mapping status](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2075) [goes to the mapped state.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2077) [We can also, monitor the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2079) [tracking quality during the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2084) [acquisition session and report](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2085) [to the user if the tracking](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2088) [state has been limited for more](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2090) [than a few seconds.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2091) [And maybe even give an option to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2093) [restart the acquisition session.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2094) [On the receiving end of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2096) [device, we can also guide the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2098) [device, we can also guide the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2098) [user to better localization](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2100) [process.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2101) [So, when we are, again, in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2103) [acquisition device, when we are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2104) [in the map state we can take a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2106) [picture of the scene and then,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2108) [ship that together with the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2110) [World map.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2111) [And on the receiving end we can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2111) [ask the user find this view to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2113) [start your shared experience.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2116) [That was how to acquire the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2118) [World map.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2120) [Now, let's see how you can share](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2121) [the World map.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2122) [First, you can get the World map](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2124) [by simply calling the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2126) [getCurrentWorldMap method in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2127) [ARSession.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2129) [And this will give you the World](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2130) [map.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2133) [The World map is a serializable](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2134) [class.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2137) [So, then we can simply use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2137) [NSKeyedArchiver utility to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2138) [serialize it to a binary stream](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2140) [of data, which then, you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2142) [either save to disk in case of a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2144) [single user persistent](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2146) [application.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2148) [Or you can share it across](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2149) [devices.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2152) [And for that, you can use the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2152) [MultiPeerConnectivity framework,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2154) [which has great feature like](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2156) [automatic device, nearby device](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2158) [automatic device, nearby device](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2158) [discovery, and allows efficient](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2160) [communication of data between](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2161) [devices.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2164) [We also, have an example of how](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2165) [to use that in ARKit called](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2166) [Creating a Multiuser AR](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2169) [Experience that you can check](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2171) [out on our developer website.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2172) [On the receiving end of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2174) [device, once you've got the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2176) [World map let's see how you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2178) [set up the World Tracking](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2180) [configuration to use it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2181) [Very simple.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2182) [You just set the initial World](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2182) [map property to that World map.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2184) [When you run the session, the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2188) [system will try to find that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2189) [previous World map.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2191) [But it may take some time, even](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2193) [because the user may not be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2195) [pointing at the same scene as](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2196) [before.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2197) [So, how do we know when](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2198) [localization happen?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2199) [That information is available in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2201) [the tracking state.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2203) [So, as soon as you start the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2204) [session with the initial World](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2205) [map, the tracking state will be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2207) [limited with reason](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2209) [Relocalizing.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2210) [Note that you will still get the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2211) [tracking data available here,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2214) [but the world origin will be the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2216) [first camera, just like a new](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2218) [first camera, just like a new](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2218) [session.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2220) [As soon as the user points the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2221) [device to the same scene, the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2224) [system will localize.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2225) [The tracking state will go to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2227) [normal and the world origin will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2228) [be the same as the recorded](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2229) [World map.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2231) [At this point, all your previous](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2233) [anchors are also available in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2235) [your session, so you can put](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2236) [back the virtual content.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2237) [Note here that because of what's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2241) [happening behind the hood,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2243) [behind the scenes, is that we're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2245) [matching those feature points,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2246) [there needs to be enough visual](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2248) [similarity between the scenes](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2249) [where you acquired the World map](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2252) [and the scene where you want to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2253) [relocalize.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2254) [So, if you go back to this table](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2256) [at night, chances are it's not](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2257) [going to work very well.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2258) [And that was how you can create](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2262) [multiple user experiences or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2264) [persistent experiences using the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2266) [saving and loading map.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2267) [Next, image tracking.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2270) [So, augmented reality is all](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2274) [about adding visual content on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2276) [top of the physical world.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2279) [top of the physical world.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2279) [And on the physical world,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2280) [images are found everywhere.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2281) [Think about [inaudible] the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2282) [world, magazine covers,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2285) [advertisements.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2287) [Image tracking is a tool that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2288) [allows you to recognize those](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2290) [physical images and build](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2291) [augmented reality experiences](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2294) [around them.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2295) [Let's see an example.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2297) [You can see here; two images](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2300) [being tracked simultaneously.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2301) [On the left, a beautiful](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2304) [elephant is put on top of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2307) [physical image of the elephant.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2309) [On the right, the physical image](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2311) [turned into a virtual screen.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2312) [Note also, that the images can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2316) [freely move around the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2317) [environment as tracking around](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2319) [at 60 frames per second.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2320) [Let's talk about looking at](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2323) [what's happening behind the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2325) [scenes.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2327) [So, let's say you have an image](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2327) [like this one of the elephant](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2328) [and you want to find it in a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2330) [scene like this.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2332) [We're using grayscale for this.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2334) [And the first type is pretty](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2335) [similar to what we do in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2336) [tracking.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2338) [So, we'll track those](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2338) [interesting points from both the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2340) [reference image and the current](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2341) [scene.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2343) [And then, we try to go in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2344) [current scene and match those](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2345) [features to the one on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2347) [reference image.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2348) [By applying some projected](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2350) [geometry and linear algebra,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2351) [this is enough to give an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2353) [initial estimation of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2354) [position orientation of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2356) [image with respect to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2357) [current scene.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2358) [But we don't stop here.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2360) [In order to give you a really](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2362) [precise pose and track at 60](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2363) [frames per second, we then do a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2365) [dense tracking stage.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2367) [So, with that initial estimate](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2369) [we take the pixels from the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2371) [current scene and warp them back](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2373) [to a rectangular shape like you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2376) [see on the right-- top right](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2378) [there.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2380) [So, that's a reconstructed image](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2381) [by warping the pixels of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2383) [current image into the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2385) [rectangle.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2386) [We can then compare the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2387) [reconstructed image with a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2388) [reference image that we have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2390) [available to create an error](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2391) [image like the one you see](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2394) [below.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2395) [We then optimize the position](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2396) [orientation of the image, such](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2398) [that that error is minimized.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2399) [that that error is minimized.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2399) [So, what this means to you that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2403) [the post would be really](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2404) [accurate.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2406) [Thank you.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2408) [And will still track at 60](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2410) [frames per second.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2412) [So, let's see how we can do all](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2415) [of this in ARKit.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2416) [As usual, the ARKit API is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2418) [really simple.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2421) [We have three simple steps.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2422) [First, we want to collect all](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2424) [the reference images.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2426) [Then, we set up the AR Session](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2428) [Configuration.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2430) [There are two options here.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2431) [One is the World Tracking](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2433) [configuration that gives, also,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2434) [the device position.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2435) [And this is the one we have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2437) [talked, so far.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2438) [And in iOS12, introduced a new](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2439) [configuration, which is a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2441) [standalone image tracking](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2442) [configuration.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2443) [Once you start the session you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2444) [will start receiving the results](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2447) [in the form of an ARImageAnchor.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2449) [We're now going into more](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2453) [details of these three steps,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2454) [starting from the reference](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2456) [images.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2457) [The easiest way to add reference](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2458) [The easiest way to add reference](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2458) [images to your application is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2461) [through the, called asset](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2462) [catalog.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2464) [You simply create an AR Resource](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2466) [Groups and drag and drop your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2468) [images in there.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2469) [Next, you have to set the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2471) [physical dimension of the image,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2473) [which you can do on the property](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2474) [window on the top right.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2476) [Setting the physical dimension](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2477) [is a requirement and there's a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2481) [few reason for that.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2482) [First, it allows the pose of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2484) [image to be in physical scale.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2486) [Which means, also, your content](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2488) [will be in physical scale.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2489) [In ARKit, everything is in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2491) [meters, so also, your visual](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2492) [content will be in meters.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2493) [In addition, it's especially](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2497) [important to set the correct](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2498) [physical dimension of the image](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2500) [in case we combine the image](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2501) [tracking with the World](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2503) [Tracking.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2504) [As this will give immediately](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2504) [consistent pose between the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2506) [image and the world.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2508) [Let's see some example of this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2511) [reference images.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2513) [You can see here, two beautiful](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2514) [images.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2517) [These images will work really](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2518) [great with image tracking.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2519) [great with image tracking.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2519) [They have high texture, high](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2521) [level of contrast, well](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2523) [distributed histograms, as well](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2524) [as they do not contain](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2526) [repetitive structures.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2527) [There are, also, other kinds of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2528) [images that will work less good](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2530) [with the system.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2532) [You can see an example of this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2533) [on the right.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2535) [And if we take a look at these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2537) [top two examples, you can see](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2539) [that the good image we have a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2541) [lot of those interesting points.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2543) [And you can see that the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2545) [histogram is well distributed](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2546) [across the whole range.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2547) [While, [inaudible] image,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2549) [there's only a few of those](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2550) [interesting points and the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2553) [histogram is all skewed toward](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2554) [the whites.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2556) [You can get an estimation of how](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2557) [good an image will be directly](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2560) [in Xcode.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2562) [As soon as you drag an image in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2564) [there, the image is analyzed and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2566) [[inaudible] to you in the form](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2568) [of warnings to give you early](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2570) [feedback, even before you run](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2572) [your application.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2573) [For example, if you click on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2575) [this bottom image that could be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2576) [a magazine page, for example, we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2579) [a magazine page, for example, we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2579) [can see that the Xcode says that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2581) [the histogram is not well](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2584) [distributed.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2585) [In fact, you can see there's a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2586) [lot of whites in the image.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2587) [And it would also say that this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2589) [image contains repetitive](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2590) [structures, mainly caused by the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2591) [text.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2595) [Another example, if you have two](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2595) [images which are too similar and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2598) [are at risk of being confused at](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2600) [detection time, also, Xcode](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2602) [warns you about that.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2604) [You can see an example of these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2605) [two images of the same mountain](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2606) [range, the Sierra.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2608) [There's a few things that we can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2610) [do to deal with this warning.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2612) [For example, let's go back to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2613) [this image that had repetitive](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2614) [structures and not well](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2618) [distributed histograms.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2620) [You can try to identify a region](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2622) [of this image which is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2624) [distinctive enough, like in this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2625) [case, for example, the actual](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2626) [image of the page.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2628) [And then, you can crop that out](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2630) [and use this as the reference](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2631) [image, instead.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2632) [Which will give you, of course,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2633) [all the warnings are going to be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2635) [removed and will give you better](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2636) [tracking quality.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2638) [Another thing that we can do is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2640) [use multiple AR Resource Groups.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2643) [This allow many more images to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2647) [be detected.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2649) [As with the commands to have a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2650) [maximum of 25 images per group](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2651) [to keep your experience](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2654) [efficient and responsive.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2655) [But you can have as many groups](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2657) [as you want.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2659) [And then, you can switch between](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2660) [groups programmatically.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2661) [For example, if you are want to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2663) [create an augmented reality](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2666) [experience in a museum that may](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2667) [have hundreds of images.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2668) [Usually though, those images are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2671) [actually physically located in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2673) [different rooms.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2674) [So, what you can do is put the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2675) [images that physically will be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2678) [present in the room into a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2679) [group.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2681) [And images of another room into](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2681) [another group.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2683) [And then use, for example, core](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2684) [location to switch between](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2685) [rooms.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2688) [Note also, that you can have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2689) [similar images, now, as long as](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2692) [they are in different groups.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2693) [So, that was all about reference](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2695) [images.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2697) [Let's now, see our two](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2698) [Let's now, see our two](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2698) [configurations.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2701) [The ARImageTrackingConfiguration](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2703) [is a new standalone image](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2705) [tracking configuration, which](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2706) [means it doesn't run the World](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2707) [Tracking.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2709) [Which also, means there is no](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2710) [world origin.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2712) [So, every image will be given to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2713) [you with respect to the current](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2714) [camera view.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2715) [You can also combine image](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2718) [tracking with a World Tracking](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2719) [configuration.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2720) [And in this case, you will have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2722) [all the scene understanding](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2724) [capability available like Plane](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2725) [Detection, light estimation,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2727) [everything else.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2729) [So, what is more appropriate to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2731) [use which configurations?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2732) [Let's see.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2735) [So, in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2735) [ARImageTrackingConfigurations is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2737) [really tailored for use cases](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2739) [which are built around images.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2741) [We can see an example on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2743) [left here.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2744) [We can have an image that could](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2746) [be a page of a textbook.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2748) [And to make the experience more](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2750) [engaging, we are overlaying](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2751) [[inaudible] graph.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2754) [In this case, on how to build an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2754) [equilateral triangle.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2755) [So, you can see that this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2757) [experience is really tailored](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2758) [experience is really tailored](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2758) [around an image.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2760) [If you have, let's see this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2761) [other example.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2763) [Image tracking is used to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2764) [trigger some content that then](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2765) [goes beyond the extent of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2767) [image.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2769) [In this case, you want to use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2769) [the ARWorldTrackingConfiguration](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2772) [as you will need the device](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2773) [position to keep track of that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2774) [content outside the image.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2776) [Also, note that the image](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2780) [tracking doesn't use the motion](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2781) [data, which means it can also be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2783) [used on a bus or an elevator,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2784) [where the motion data don't](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2787) [agree with the visual data.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2788) [So, let's see now, how we can do](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2790) [this in code.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2793) [You can easily recognize those](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2795) [three steps here.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2796) [The first one is to gather all](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2797) [the images.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2799) [And there's a convenience](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2800) [function for that in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2801) [ARReferenceImage class that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2803) [gathers all the images that are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2805) [in a particular group.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2807) [In this case, it's named Room1.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2808) [We can then simply set the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2811) [trackingImages property to those](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2813) [images in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2815) [ARImageTrackingConfigurations.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2816) [And run the session.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2818) [You will then start receiving](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2820) [the results, for example, to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2822) [session, didUpdate anchors](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2824) [delegate method, where you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2826) [check if the anchors is of type](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2828) [ARImageAnchor.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2830) [In the anchor, you will find, of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2832) [course, the position and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2834) [orientation of the image, as](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2835) [well as the reference image](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2837) [itself.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2838) [Where you can find, for example,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2838) [the name of the image as you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2839) [named it in the actual title so](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2841) [that you know which image has](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2843) [been detected.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2844) [There's also another Boolean](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2845) [property, which tells you if](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2846) [this image is currently being](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2848) [tracked in the frame.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2850) [Note here that other than these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2853) [use cases that we have seen so](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2855) [far when you build [inaudible]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2856) [around images, image detection](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2858) [and tracking allows a few more](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2860) [things.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2863) [For example, if two devices are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2865) [looking at the same physical](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2867) [image, you can detect this image](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2868) [from both devices.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2871) [And this will give you a shared](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2872) [coordinate system that you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2874) [then use as an alternative way](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2876) [to have a shared experience.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2878) [Another example, if you happen](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2881) [to know where an image is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2883) [physically located in the world,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2885) [like for example, you know that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2888) [the map of this park is in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2889) [physical world.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2891) [You can use image tracking to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2892) [get the position of the device](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2894) [with respect to the image and,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2895) [therefore, also the position of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2897) [the device with respect to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2899) [world, which, you can then use,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2900) [for example, to overlay](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2901) [directions really attached to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2904) [the physical world.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2906) [So, that concludes the image](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2907) [tracking.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2911) [Let's now go and look at the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2911) [Object Detection.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2914) [So, with image tracking we have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2918) [seen how we can detect images,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2919) [which are planar objects in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2921) [physical world.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2923) [Object detection extends this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2925) [concept to the third dimension](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2926) [allowing the detection of more](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2928) [generic objects.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2929) [Note, though, that this object](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2931) [will be assumed to be static in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2933) [the scene, unlike images that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2935) [can move around.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2937) [We can see an example here.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2938) [We can see an example here.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2938) [That's the Nefertiti bust.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2940) [It's a statue that could be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2942) [present in a museum.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2944) [And now, you can detect it with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2945) [ARKit.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2947) [And then, for example, display](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2948) [some information on top of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2950) [physical object.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2952) [Note also that in the object](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2955) [detection in ARKit, we are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2957) [talking about specific instances](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2958) [of an object.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2960) [So, we're not talking about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2961) [detecting statues in general,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2962) [but this particular instance of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2964) [the Nefertiti statue.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2966) [So, how do we represent these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2968) [objects in ARKit?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2969) [You first need to scan the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2971) [object.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2973) [So, really, there's two steps to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2973) [it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2975) [First, you scan the object and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2975) [then you can detect it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2976) [Let's talk about the scanning](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2979) [part, which mostly is going to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2980) [be on your side as a developer,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2982) [to basically, create that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2984) [representation of the object](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2986) [that can be used for detection.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2987) [Internally, an object is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2991) [represented in a similar way as](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2993) [the world map.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2995) [You can see an example of the 3D](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2996) [feature points of the Nefertiti](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2998) [feature points of the Nefertiti](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=2998) [statue there on the left.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3000) [And to scan the object, you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3003) [use the Scanning and Detecting](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3005) [3D Objects developer sample](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3006) [that's available on the website.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3008) [And note here, that the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3011) [detection quality that you will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3013) [get at runtime, later, is highly](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3014) [affected by the quality of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3017) [scan.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3018) [So, let's spend a few moments to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3019) [see how we can get the best](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3021) [quality during the scanning.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3023) [Once you build and run this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3027) [developer sample you will see](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3029) [something like this on your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3030) [device.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3031) [The first step is to find the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3033) [region of space around your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3035) [object.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3037) [The application will try to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3039) [automatically estimate this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3040) [bounding box, exploring](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3041) [different feature points.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3042) [But you can always adjust this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3044) [box by dragging on a side to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3046) [shrink it or make it larger.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3049) [Note here, that what is really](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3052) [important that when you go](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3054) [around the object you make sure](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3055) [that you don't cut any of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3057) [interesting points of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3058) [interesting points of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3058) [object.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3060) [You can also, rotate the box](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3061) [with a two-finger gesture from](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3063) [top.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3064) [So, make sure that this box is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3065) [around the object and not](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3068) [cutting any interesting part of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3069) [it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3071) [The next part is the actual](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3073) [scanning.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3074) [In this phase what we want to do](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3076) [is really go around the objects](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3079) [from all the points of view that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3081) [you think your users will want](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3083) [to detect it later.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3084) [In order to make it easy for you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3087) [to understand which part of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3088) [objects have been, already,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3090) [acquired like this beautiful](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3091) [tile representation.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3093) [And you also can see a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3094) [percentage on top which tells](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3096) [you how many tiles have already](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3097) [been acquired.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3098) [And it's really important in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3100) [this phase that you spend time](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3101) [on the regions of the object](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3103) [which have a lot of features](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3105) [that are distinctive enough.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3106) [And you go close enough to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3107) [capture all the details.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3109) [And again, that you really go](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3110) [around from all the sides.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3112) [Like you see here.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3116) [Once you're happy with the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3119) [Once you're happy with the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3119) [coverage of your objects, you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3121) [can go to the next step, which](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3122) [is allows you to adjust the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3124) [origin by simply dragging on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3126) [coloring system.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3129) [And this will be the coloring](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3130) [system that will be later given](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3132) [to you at detection time in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3133) [anchor.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3136) [So, make sure that you put it in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3136) [a place which makes sense for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3137) [your virtual content.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3139) [So, at this point, you have a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3140) [full representation of your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3145) [object, which you can use for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3147) [detection.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3150) [And the application will now](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3150) [switch to a detection mode.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3153) [We encourage you to use this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3156) [mode to get early feedback about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3157) [the detection quality.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3159) [So, you may want to go around](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3161) [the object from different points](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3164) [of view and verify that the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3166) [object is detected from all](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3167) [these different point of view.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3170) [You can point your device away,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3171) [come back from another angle,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3173) [and make sure that the scan was](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3175) [good to detect the object.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3178) [good to detect the object.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3178) [You can also, move these objects](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3180) [around so that the light](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3183) [condition will be different.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3184) [And you want to make sure that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3186) [those are still detected.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3188) [This is particularly important](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3189) [for objects like toys that you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3190) [don't know where they're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3192) [actually going to be physically](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3193) [located.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3195) [We, also, suggest that you take](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3197) [the object and put it in a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3198) [completely different environment](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3200) [and still make sure that it is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3202) [detected.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3204) [In case this is not detected you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3205) [may want to go back to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3207) [scanning and make sure that your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3208) [environment is well lit.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3211) [We really like, well lit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3213) [environment during the scanning](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3215) [is very important.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3217) [If your Verilux meter, it will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3218) [be about 500 lux will be best.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3219) [And if that is still not enough,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3223) [you may want to keep different](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3225) [versions of the scans.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3226) [So, at this point, once you're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3230) [happy with the detection quality](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3231) [you can simply drop the model to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3233) [your Mac and add it to the AR](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3235) [Resource Groups, just like you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3237) [did for the images.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3239) [did for the images.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3239) [Also note that there are some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3243) [objects that will work really](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3244) [great with this system.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3245) [Object like you can see on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3247) [left.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3248) [First of all, they are rigid](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3249) [objects and they are, also, rich](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3250) [of texture, distinctive enough.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3253) [But there are also certain kinds](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3255) [of object that will not work](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3256) [well with the system.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3257) [You can see an example of this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3259) [on the right.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3261) [And for example, metallic,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3262) [transparent, or metallic or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3264) [reflective objects will not](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3266) [work.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3267) [Or transparent objects like](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3269) [glass material object will also](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3271) [not work because the appearance](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3272) [of these objects will really](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3274) [depend on where they are in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3275) [scene.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3278) [So, that was how to scan the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3279) [objects.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3281) [Again, make sure that you have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3281) [well-lit environment.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3283) [Let's now see how we can detect](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3284) [this in ARKit.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3286) [If this looks familiar to you,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3290) [it's because the API is pretty](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3291) [similar to the one of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3293) [images.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3294) [We'll have convenience metered](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3295) [to gather all the objects in a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3296) [group.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3298) [This time is in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3299) [This time is in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3299) [ARReferenceObjects class.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3300) [And to configure your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3302) [ARWorldTracking configuration,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3305) [you simply pass this object to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3307) [the detectionObjects property.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3308) [Once you run the session, again,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3313) [you will find your results.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3315) [And in this case, you want to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3318) [check for the ARObjectAnchor,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3319) [which will give you the position](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3322) [and orientation of the object](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3323) [with respect to the world.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3325) [And also, the name of the object](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3328) [as was given in the asset](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3330) [catalog.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3335) [So, you guys may have noticed](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3335) [some similarities between the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3336) [object detection and the world](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3338) [mapping relocalization.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3340) [But there's also few](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3343) [differences.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3344) [So, in the case of the object](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3344) [detection we are always giving](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3346) [the object position with respect](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3348) [to the world.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3350) [While in the world map](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3351) [relocalization is the camera](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3352) [itself that adjusts to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3353) [previous world map.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3356) [In addition, you can detect](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3358) [In addition, you can detect](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3358) [multiple objects.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3360) [And object detection works best](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3361) [for objects which are tabletop,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3363) [furniture sized.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3365) [While, the world map is really](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3367) [the whole scene that's been](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3368) [acquired.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3369) [With this side, we conclude the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3370) [object detection.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3373) [Let's summarize what you have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3374) [seen, today.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3377) [Orientation tracking tracks only](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3379) [the rotation of the device and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3381) [can be used to explore statical](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3383) [environments.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3385) [World Tracking is the fully](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3387) [featured position and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3389) [orientation tracking, which will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3390) [give you the device position](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3392) [with respect to a world origin.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3393) [And enables all the scene](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3397) [understanding capabilities like](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3398) [the Plane Detection, which will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3401) [make you able to interact with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3404) [the physical, horizontal, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3406) [vertical planes where you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3408) [then put virtual objects.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3410) [We have seen how you can create](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3411) [persistent or multiuser](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3415) [experiences with the saving and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3417) [loading map features in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3418) [loading map features in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3418) [architecture.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3420) [And how you can detect physical](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3421) [images and track them at 60](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3423) [frames per second with the image](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3424) [tracking and how you can detect](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3426) [more generic objects with the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3428) [object detections.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3429) [And with this, I really hope you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3432) [guys have a better](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3435) [understanding, now, of all the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3435) [different tracking technology](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3437) [that are present in ARKit and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3439) [how they work behind the scenes.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3440) [And how you can get the best](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3443) [quality out of it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3444) [And we're really looking forward](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3446) [to see what you guys are going](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3448) [to do with that.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3449) [More information can be found at](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3450) [the session link in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3452) [developer website.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3453) [And we have an ARKit Lab](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3454) [tomorrow, 9 a.m.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3456) [We will both, me and Marion will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3458) [be there answering any question](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3459) [on ARKit you may have.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3461) [And with that, thank you, very](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3463) [much and enjoy the bash.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3464) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/610/?time=3467)