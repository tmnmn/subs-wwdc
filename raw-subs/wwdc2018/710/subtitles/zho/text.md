# What’s New in User Notifications

## Summary
Local and push notifications enable your app to keep users informed with timely and relevant content, by displaying messages and accepting users' actions, or playing distinctive sounds, or updating the badge on your app icon. Improvements to rich notifications help you create more engaging content and better manage notifications. Find out what's new and get expert advice on implementing user notifications in your app.

## Info
* Frameworks
* WWDC 2018 - Session 710 - iOS, watchOS
* https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/

## Text
 [[ 音乐 ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=7) [[ 掌声 ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=22) [&gt;&gt; 大家下午好](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=28) [欢迎来到我们的会场](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=29) [一起看一下 用户通知的一些更新](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=31) [我叫 Kritarth Jain [ 音质不清晰 ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=33) [是 iOS 用户通知团队的一名工程师](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=35) [很高兴回到 WWDC](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=38) [并跟大家分享](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=39) [在 iOS 12 中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=42) [你的 App 可以采用的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=43) [一些用户通知方面](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=45) [非常赞的新功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=47) [今天我们一起来看一下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=49) [幻灯片上的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=51) [几个主题](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=53) [首先是分组通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=54) [这是之前我们在 iOS 用户通知中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=57) [添加的新范例](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=59) [添加的新范例](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=59) [在用户的通知列表中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=61) [可以看到分组通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=62) [然后来看一下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=64) [通知内容扩展](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=65) [其中包括](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=67) [现有的通知扩展](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=69) [以及新增的接口](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=70) [下一个主题包括](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=74) [通知管理](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=75) [还有针对你的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=77) [用户可以调整的一些](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=79) [通知设置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=80) [以及你要如何处理](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=82) [这些新增选项](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=84) [再然后是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=86) [临时授权 这个机制](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=87) [让你的 App 在一段时间内](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=89) [可以给用户试发送通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=91) [无需用户明确允许](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=93) [但是也不会有声音提醒](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=95) [我们最后一个主题是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=98) [重要提醒](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=100) [此功能让你的 App 可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=102) [在用户允许的情况下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=103) [忽略一些系统设定](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=106) [从而给用户发送](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=107) [重要的提醒](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=109) [今天我们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=111) [要讲的主题不少](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=113) [就让我们先来说说](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=114) [分组通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=116) [在 iOS 11 及之前版本的系统中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=117) [在 iOS 11 及之前版本的系统中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=117) [所有新的用户通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=121) [都是在通知列表中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=122) [以时间顺序](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=124) [排列显示的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=125) [这就造成多个 App 的通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=127) [穿插显示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=128) [而用户很难](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=130) [一下找到某个通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=132) [或分流多个通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=133) [因此从 iOS 12 起](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=137) [我们决定加以改进](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=140) [新增分组通知功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=142) [现在大家可以看到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=143) [多个 App 的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=145) [各种通知都被分到了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=147) [专属于它们的分组](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=150) [下面我们仔细谈谈](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=152) [分组通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=153) [所有通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=156) [会自动进行分组](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=158) [所以你不需要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=159) [任何操作](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=161) [就可以使用该功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=163) [但是如果你想](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=165) [创建自定义分组](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=167) [那就需要使用线程标识](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=169) [线程标识](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=171) [是 UN notification content 对象中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=173) [已有的属性](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=175) [你们当中可能有人](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=177) [给本地通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=179) [给本地通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=179) [加过线程标识](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=181) [正如所示 你可以在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=182) [UNMutableNotificationContent](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=183) [的对象中进行添加](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=185) [而在远程通知的 payload 处](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=188) [你也可以将](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=190) [线程标识添加进去](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=191) [现在你们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=195) [可能已经比较了解线程标识了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=197) [现在我们用它](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=200) [将通知发送给](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=203) [App 的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=205) [通知内容扩展](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=207) [App 必须带有](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=209) [同样的线程标识](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=210) [才能根据新通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=212) [来更新内容扩展视图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=214) [我们从 iOS 11 起](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=217) [如果用户之前开启了 [ 音质不清晰 ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=219) [我们便可以使用线程标识](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=221) [对通知进行分组](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=223) [可以说](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=227) [我们拓展了线程标识的运用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=228) [将其覆盖所有类型的通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=230) [那通知分组是如何实现的呢](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=232) [你的设备](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=235) [接收到新通知时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=237) [如果该通知不包含](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=239) [如果该通知不包含](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=239) [线程标识](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=241) [那这条通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=244) [会根据所属 App 进行分组](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=245) [正如这个例子](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=248) [所展示的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=249) [接收到的新通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=251) [都被分到了同一组](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=253) [而该分组显示的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=254) [是接收到的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=256) [最新通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=257) [然后用户可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=258) [轻松展开分组](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=260) [来阅读现有的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=261) [所有通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=263) [另一方面](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=267) [如果通知带有](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=268) [线程标识](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=270) [这条通知会与](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=272) [相同 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=273) [且带有同样线程 ID 的通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=275) [分到一组](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=277) [这意味着](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=279) [相同 App 可以有](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=280) [多个自定义的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=282) [通知分组](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=283) [通过你设置的不同的线程标识](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=284) [进行区分](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=286) [Messages 这个 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=287) [是一个很好的例子](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=290) [大家可以看到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=292) [这里有两个分组](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=293) [当接收到新通知时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=295) [新通知会被分到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=296) [相对应的分组中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=297) [用户可以打开](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=299) [用户可以打开](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=299) [其中一个分组](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=302) [来查看该分组中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=303) [所包含的通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=305) [所以通过使用线程标识](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=306) [messages 也可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=307) [做到这一点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=309) [使用你的 App 的用户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=312) [也可以在每个 App 的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=314) [通知设置页面](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=316) [来修改](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=317) [通知分组的设置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=319) [用户有三个选项可以选择](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=321) [如果用户选择自动](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=323) [那他所得到的结果](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=325) [我们刚刚讲过](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=326) [然而用户还可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=328) [选择只按照 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=330) [进行分组](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=332) [此时系统会忽略](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=334) [线程标识](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=335) [并将同一个 App 的通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=336) [全部归为一组](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=338) [如果用户想要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=339) [iOS 11 的分组方式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=341) [他们现在可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=343) [关闭分组通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=345) [非常简单](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=346) [所以要记住](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=348) [当你创建了自定义分组](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=349) [这个分组](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=350) [要能在用户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=353) [接收你的 App 的通知时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=355) [对用户有一定的价值](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=356) [下面我们来看看](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=358) [下面我们来看看](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=358) [一个通知组](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=360) [有哪些部分组成](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=361) [这里显示的内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=363) [是该通知组中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=365) [最新的一条通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=366) [用户只需点击这个分组](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=368) [就可以看见其中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=371) [所有的通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=373) [通知的内容也同时展开](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=376) [然后用户可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=377) [单独处理](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=379) [每一个通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=380) [上方的两个按钮](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=382) [可以让用户更好地](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=383) [管理通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=385) [比如一键合并分组](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=386) [或清除该分组的所有通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=388) [通知分组](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=392) [让用户对通知的优先级管理](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=394) [变得更容易](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=396) [举个例子](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=397) [如果用户想要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=398) [清除这些通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=399) [只需向左滑动](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=401) [然后点击清除所有即可](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=403) [除去显示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=406) [通知组的内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=407) [我们还会显示一行概略文本](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=410) [这行概略文本](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=411) [默认显示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=412) [该分组中包含的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=414) [通知数量](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=416) [然而你也可以创建](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=418) [然而你也可以创建](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=418) [自定义的概略文本](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=420) [让用户能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=422) [更好地理解](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=423) [该通知组中的内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=425) [我们会在下一场会议上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=429) [给大家细讲这部分的接口](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=431) [并拓展更多用例](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=434) [告诉大家](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=435) [如何通过分组通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=437) [创建自定义分组](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=438) [现在我给大家](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=442) [简单总结一下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=443) [分组通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=445) [从 iOS 12 起](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=446) [所有 App 的通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=448) [将会被自动分组](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=449) [如果想创建](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=451) [自定义分组](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=454) [你需要使用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=456) [线程标识](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=458) [但是用户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=460) [可以改变](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=462) [这一分组设定](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=463) [最后就是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=467) [你可以自定义](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=468) [概略文本的内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=470) [在通知组中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=471) [展现给用户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=473) [以上就是关于](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=475) [分组通知的内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=478) [我们的下一个主题](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=479) [我们的下一个主题](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=479) [有关于](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=481) [通知内容扩展](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=483) [你们当中有些人](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=485) [可能已经比较熟悉](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=487) [iOS 10 中的通知内容扩展了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=488) [通知内容扩展](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=491) [可以丰富](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=493) [App 通知的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=495) [展现形式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=498) [这样用户看见的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=500) [是更加量身定制](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=501) [交互性也更高的通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=503) [我们来简单回顾一下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=505) [如何创建](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=508) [通知内容扩展](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=509) [Xcode 中提供了一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=511) [标准模板](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=512) [让你在你的 App 中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=514) [为通知内容扩展](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=515) [添加一个 target](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=519) [一旦你设置好 我们就为通知的 view controller](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=520) [创建了一个默认的类](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=522) [这个类会执行](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=524) [UNNotificationContentExtension 协议](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=526) [在这里 did receive notification 方法](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=527) [非常重要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=529) [因为这是创建](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=531) [内容扩展相关视图的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=532) [第一步](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=533) [你可以用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=535) [此处的通知对象](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=537) [来获取通知的相关信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=539) [来获取通知的相关信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=539) [然后创建你的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=541) [自定义视图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=542) [与内容扩展相关联的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=545) [info.plist 文件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=547) [让你有更多选择](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=548) [这里最重要的是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=551) [类别标识](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=552) [此处的类别标识](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=554) [需要与你通知请求中的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=556) [类别标识](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=557) [保持一致](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=558) [这样系统才知道](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=560) [哪个内容扩展](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=561) [对应哪条通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=563) [此外 你也可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=566) [快速配置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=568) [内容扩展](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=570) [例如设置 initial content size ratio](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=571) [隐藏默认内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=573) [以及覆盖](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=574) [该内容扩展的标题](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=576) [用户与这些](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=579) [内容扩展产生交互的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=581) [主要方式是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=583) [通知的 action](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=585) [这些 action](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=587) [显示在内容扩展的内容下方](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=588) [我们也来回顾一下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=592) [如何创建这些 action 吧](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=593) [这一步在代码中非常简单](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=596) [举个例子](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=598) [举个例子](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=598) [这里我们有两个 action 点赞和评论](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=600) [我们为点赞创建一个简单的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=601) [UNNotificationAction](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=603) [为评论创建一个文字输入 action](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=606) [创建完之后](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=611) [我们创建一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=612) [新的类型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=614) [让它的类型标识](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=616) [跟内容扩展的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=617) [保持一致](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=619) [然后我们提交](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=620) [这两个新创建的 action](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=623) [建立好这个类型之后](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=627) [我们就可以调用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=629) [与我们的 class 关联的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=630) [UNNotificationCenter 对象的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=632) [setNotificationCategories](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=634) [赋予它我们创建的新类型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=636) [通过这个简单方法](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=640) [下次用户碰到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=643) [你的内容扩展时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=644) [用户可以通过这些 action](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=646) [与你的通知内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=647) [进行交互](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=649) [下面我们看一下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=651) [如何处理从这些 action 中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=653) [得到的响应](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=654) [有两种方式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=655) [第一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=658) [第一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=658) [你可以在 App 关联的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=660) [AppDelegate（App 委托）中进行处理](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=662) [App 需要执行](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=663) [UNUserNotificationCenter 的授权协议](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=665) [在这里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=668) [UserNotificationCenter](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=669) [接收到响应](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=671) [其中包括](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=672) [请求的信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=675) [和用户行为的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=677) [通知请求](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=678) [然而内容扩展](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=681) [也可以让你](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=683) [拦截这个 action 的响应](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=684) [这样你就可以运用内容扩展](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=686) [来更新视图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=688) [并创建一个更具交互性的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=690) [动态用户体验](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=691) [在这个示例中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=693) [我们输入了 did receive response 方法](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=695) [并对点赞这个动作](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=698) [进行检测](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=699) [然后我们用新的 label](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=702) [更新 UI](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=704) [也更新 App 状态](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=705) [最后调用 completion](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=708) [设为 do not dismiss](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=710) [如果你想要在此处](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=711) [忽略内容扩展视图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=713) [那么你只需将](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=714) [传送给 completion 的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=716) [参数设为 dismiss 或](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=717) [参数设为 dismiss 或](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=717) [dismiss and forward](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=720) [后者会将响应发送给](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=722) [AppDelegate（App 委托）](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=723) [这个功能创建完毕后](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=725) [我们可以看到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=727) [当用户点赞时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=729) [内容扩展](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=731) [可以即时得到更新](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=733) [这种方式增强了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=734) [用户交互](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=736) [他们也可以得到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=737) [即时反馈](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=738) [但是如果观察](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=741) [内容扩展的当前状态](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=742) [我们会发现一些](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=743) [冗余的信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=746) [用户点赞后](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=748) [再保留](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=750) [点赞这个 action](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=752) [就没有意义了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=753) [通常来说](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=756) [通知 action](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=758) [有一定局限](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=759) [通知不太具有动态](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=761) [也无法根据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=763) [内容扩展的场景](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=765) [进行更新](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=766) [还有就是这些情况](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=768) [与通知的类型有关联](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=771) [而通知的类型在创建 App 时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=772) [必须定义好](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=774) [我们想解决这个问题](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=776) [所以新增了一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=778) [所以新增了一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=778) [通知 action 的接口](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=780) [有了这个接口](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=782) [我们就将通知 action](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=784) [纳入](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=785) [NSExtensionContext](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=786) [从而绑定内容扩展](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=788) [这个接口](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=790) [让你可以访问](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=792) [现阶段面向用户的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=794) [通知 action](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=795) [也可以通过](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=797) [为内容扩展建立](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=799) [全新的通知 action 数组进行替换](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=800) [我们再来看示例](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=805) [如果用户点赞后](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=807) [我们想将点赞的 action](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=808) [替换成撤销点赞的 action](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=810) [怎么让用户可以对刚才的操作](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=812) [进行反向操作呢](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=813) [我们看一下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=816) [如何用新的接口](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=819) [进行设置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=820) [我们回到 did receive response 方法](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=821) [再一次识别](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=822) [点赞行为](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=824) [并更新我们的 App 状态](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=826) [这一次我们还创建了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=828) [一个新的撤销点赞的 action](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=831) [给它添加一个独有的标识和标题](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=833) [我们可以再看一下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=836) [现有的 action](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=839) [现有的 action](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=839) [这样就可以提取](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=841) [评论的 action](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=842) [而不用再次创建](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=844) [然后我们创建一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=847) [新 action 的数组](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=849) [将数组设为](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=850) [通知 action 的变量就可以了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=853) [这步完成后](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=857) [用户点赞之后](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=859) [UI 会自动变化](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=861) [展示新的 action](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=863) [然后用户可以再在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=866) [两个 action 中进行选择](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=867) [这取决于你如何](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=868) [在内容扩展中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=869) [处理状态](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=870) [这个接口](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=872) [还有其他多个用法](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=874) [例如](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=876) [在 did receive notification 方法中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=878) [你可以在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=880) [创建内容扩展视图的同时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=881) [创建你的 action](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=883) [这意味着](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=885) [你的通知请求](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=886) [在定义](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=887) [通知的 action 时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=889) [不再与类型绑定在一起](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=891) [现在你还可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=893) [展示二级 action](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=897) [只要将当前 action 替换掉就可以了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=898) [只要将当前 action 替换掉就可以了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=898) [例如](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=901) [如果首发 action 是评分](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=903) [下面你就可以建立一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=905) [包含不同评分类型的二级列表](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=907) [以供用户选择](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=908) [如果你认为](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=912) [内容扩展没有必要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=914) [再显示这些 action 了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=916) [你可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=917) [将它们去掉](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=919) [这就是通知动作的新接口](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=921) [我们认为](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=926) [这可以大大增强](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=928) [你的内容扩展的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=930) [用户体验](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=932) [因为现在你可以 展示给用户多个选择](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=933) [我们来看下一个主题](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=939) [内容扩展的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=940) [用户交互](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=941) [到目前为止](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=943) [通知 action 很重要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=945) [因为 iOS 11 以前](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=948) [我们不允许在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=951) [内容扩展视图中进行用户交互](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=953) [我们收到了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=956) [很多相关反馈](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=957) [而我现在很高兴地宣布](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=958) [而我现在很高兴地宣布](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=958) [我们在 iOS 12 中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=960) [去掉了这项限制](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=961) [[ 掌声 ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=964) [现在你在内容扩展中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=968) [可以选择](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=969) [通过点触](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=971) [接收用户交互](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=973) [设置这个功能也很简单](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=976) [你只需在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=978) [info.plist 文件中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=980) [增添一个键值项](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=982) [也就是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=983) [UNNotificationExtensionUser](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=986) [InteractionEnabled](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=989) [再来看示例](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=992) [如果我们想要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=994) [去掉点赞这个 action](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=996) [将其改成](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=998) [融于视图的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1000) [UI 点触交互](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1002) [我们再次配置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1004) [info.plist 文件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1005) [我们可以回到内容扩展视图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1008) [创建自定义按钮](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1010) [来接收点赞](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1011) [我们在私有方法中添加了一个 target](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1014) [在这个函数中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1016) [我们更新了 UI](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1019) [我们更新了 UI](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1019) [还有 App 的状态](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1022) [这里需要注意](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1025) [由于你在执行](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1026) [自定义的交互](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1027) [你要负责处理](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1029) [所有用户的 action](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1031) [response](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1033) [和 callback](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1034) [这部分完成后](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1037) [用户看到你的内容扩展时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1040) [就可以看见](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1041) [这个点赞按钮](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1043) [它是 UI 中的一部分](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1044) [用户可以即时点击按钮 完成交互](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1046) [这个就是我们为](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1053) [内容扩展添加的新功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1055) [有了这个功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1057) [再加上通知 action](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1058) [还有用户交互点触](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1060) [你就可以利用这一组](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1061) [丰富的工具](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1064) [给你的 App 通知的用户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1066) [带来更具交互性的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1068) [动态内容扩展体验](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1069) [接下来是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1072) [通过通知内容扩展](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1074) [启动 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1075) [现在 即使没有点触位置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1078) [现在 即使没有点触位置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1078) [用户只需点击](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1081) [内容扩展视图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1083) [就可以轻松打开 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1084) [用户也可以点击](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1088) [通知左上角的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1090) [App 图标](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1092) [或者你可以创建一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1094) [foreground action](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1095) [让用户打开 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1097) [那我们如何能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1100) [自定义启动 App 的控制呢](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1102) [如果你想通过代码启动](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1105) [要怎么做呢](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1107) [使用 NSExtensionContext](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1109) [的一个新接口](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1110) [就可以做到这点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1113) [这个接口是 performNotification](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1114) [DefaultAction](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1116) [那么 default action 是什么呢](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1120) [刚才说过 default action](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1123) [可以启动 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1125) [但是同时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1127) [会在 App 委托](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1128) [调用 UserNotificationCenter 的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1129) [did receive response 方法](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1131) [UNNotificationResponse 的对象](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1134) [记录用户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1135) [是从哪条通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1136) [点进来的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1138) [点进来的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1138) [这样你就可以根据通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1140) [更新 App 状态](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1142) [这里使用的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1144) [标识符是 UNNotificationDefault](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1146) [ActionIdentifier](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1148) [让我们通过示例](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1150) [看一下如何设置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1152) [自定义的启动控制](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1154) [现在我们创建了 UI 按钮](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1157) [以显示所有评论](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1159) [然后与我们的私有功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1162) [进行绑定](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1165) [在这个功能里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1167) [我们只需调用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1168) [PerformNotification](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1169) [DefaultAction](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1170) [这样的话](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1171) [此功能就可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1173) [在内容扩展的代码中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1175) [自动调用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1176) [这个方法](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1177) [这部分是关于启动 App 的内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1180) [如何解除内容扩展视图呢](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1183) [我们再来看看](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1188) [现在用户可以如何实现这一点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1189) [用户可以点击](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1191) [右上角的退出按钮](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1192) [或者你可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1195) [自定义通知 action](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1197) [同样可以退出](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1199) [同样可以退出](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1199) [内容扩展视图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1201) [我们之前讲过如何创建](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1202) [那就是向 completion block](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1204) [传递退出请求](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1205) [如果我们想](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1208) [通过自定义按钮](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1210) [退出视图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1212) [我们如何通过代码实现呢](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1214) [假设用户点击](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1215) [点赞按钮](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1216) [视图会退出](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1218) [因为我们认为用户已经完成](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1219) [与内容扩展的交互](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1221) [为了实现这一点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1223) [我们设了一个新接口](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1225) [dismissNotification](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1226) [ContentExtension](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1227) [它归属 NSExtensionContext](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1229) [让我们回到创建点赞按钮处](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1232) [这一次](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1235) [我们一同调用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1236) [退出内容扩展视图的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1239) [新功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1241) [创建好后](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1244) [当用户触发点赞](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1246) [内容扩展的视图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1247) [会直接退出](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1249) [需要注意的一点是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1252) [调用这个方法](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1253) [并不会撤回](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1256) [推送给用户的通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1257) [如果你想要撤回通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1259) [如果你想要撤回通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1259) [就需要使用现有的接口](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1261) [移除已发送的通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1264) [你需要使用标识符](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1265) [才能使用这个功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1266) [现在让我们总结一下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1269) [今天介绍的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1271) [所有通知内容扩展的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1273) [新接口](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1274) [首先是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1278) [通知 action](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1280) [你可以访问](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1282) [通知 action](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1283) [也可以在你的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1285) [内容扩展代码中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1286) [将其动态替换掉](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1287) [你现在可以选择 在内容扩展视图中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1288) [创建可点触的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1294) [用户交互体验](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1295) [你还可以通过内容扩展的代码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1296) [自动启动 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1302) [或退出](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1304) [内容扩展视图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1306) [你需要根据内容扩展的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1308) [用户体验需求进行选择](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1310) [这些就是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1312) [内容扩展的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1316) [几个新的接口](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1317) [希望使用后](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1319) [希望使用后](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1319) [可以帮助大家](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1321) [增强内容扩展的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1322) [用户体验](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1323) [这些就是通知内容扩展的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1324) [相关内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1326) [我们今天的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1327) [下一个主题是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1329) [通知管理](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1331) [现在欢迎](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1332) [我的同事 Teja 上台](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1334) [谢谢大家](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1335) [[ 掌声 ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1336) [&gt;&gt; 谢谢你 Kritarth](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1343) [大家好](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1344) [我是 Teja Kondapalli](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1345) [我也是 iOS 通知团队的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1347) [一名工程师](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1349) [下面由我](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1350) [给大家介绍几个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1351) [新的接口](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1353) [第一个是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1355) [通知管理](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1356) [但是在我深入讲解前](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1359) [我想先介绍几个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1360) [面向用户的功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1362) [给大家一些背景知识](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1366) [然后再让我们深入了解这些接口](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1367) [现在 用户手机上的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1373) [App 越来越多](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1374) [通知是用户与 App 产生交互的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1376) [主要方式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1379) [主要方式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1379) [然而通常](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1380) [用户会陷入这样一种情况](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1382) [那就是通知过多](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1385) [筛选](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1387) [重要通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1389) [变得非常困难](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1390) [为了减负](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1391) [有些用户认为](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1394) [播客的通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1397) [无需在锁屏处显示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1399) [如果想要进行调整](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1401) [用户需要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1403) [打开设置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1404) [在通知里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1405) [找到播客](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1409) [再修改设置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1410) [我们想要缓解这个状况](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1412) [所以在 iOS 12 中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1414) [新增了管理视图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1417) [用户可以直接](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1419) [在接收通知的地方](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1421) [调整通知设置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1423) [无需到设置中调整](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1426) [有三个简单的方式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1431) [可以进入通知管理视图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1432) [第一个我们刚才已经看过](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1434) [你只需将通知向左滑](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1436) [点击管理](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1437) [管理视图就会出现](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1440) [第二个方式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1443) [打开通知组](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1447) [点击右上角](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1448) [你也可以打开管理视图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1450) [第三种方式会出现在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1452) [列表中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1455) [这取决于用户与](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1457) [通知之间的交互](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1458) [用户有时会看到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1459) [管理建议](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1461) [就像这个一样](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1462) [会询问用户是否保留](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1464) [播客的通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1465) [在这里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1467) [用户可以点击管理](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1469) [进入管理视图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1471) [下面我们来仔细看一下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1472) [管理视图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1475) [非常明显](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1476) [用户可以自行](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1478) [在这个视图中直接修改](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1480) [通知设置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1481) [如果用户想要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1484) [在设置里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1485) [做更详细的修改](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1487) [可以通过设置按钮](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1490) [更快地打开](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1492) [设置程序](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1493) [在这处视图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1496) [有一些操作用户可以直接操作](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1498) [一个是 通知静音](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1499) [一个是 通知静音](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1499) [这个对于大家来说](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1504) [可能比较陌生](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1505) [有时管理视图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1507) [会显示优先发送](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1508) [我们来看看 这是什么](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1512) [在 iOS 中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1516) [有很多设置用户都可以修改](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1518) [对于比较玩得转的用户来说](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1519) [这是一大优点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1521) [他们可以自行修改设置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1523) [精确到细节](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1524) [但是对于普通用户来说](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1527) [我们就需要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1529) [协助他们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1531) [将通知设置分成](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1532) [两大类](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1534) [一是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1536) [优先发送的通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1537) [二是静音发送的通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1539) [我们比较熟悉优先发送的通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1543) [这类通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1547) [出现在我们的锁屏上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1548) [出现在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1549) [Notification Center](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1550) [也会以横幅的形式出现](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1552) [或在 App 图标上生成角标](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1554) [也有声音提示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1556) [静音发送的通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1559) [静音发送的通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1559) [只会显示在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1560) [Notification Center 中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1562) [并且没有声音提示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1564) [在管理视图中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1568) [除了可以设置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1569) [优先发送通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1572) [和静音通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1573) [用户还可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1575) [选择关闭通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1577) [我知道现在大家](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1581) [担心用户会关闭](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1583) [你的 App 通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1585) [所以我们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1586) [增加了一步确认](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1589) [以防用户误点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1591) [用户在这里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1593) [也可以关闭通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1595) [我们还新增了一个接口](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1597) [可以在确认窗口添加](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1599) [另一个选项](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1601) [播客就使用了这个接口](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1604) [所以这里显示去播客中设置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1606) [这个地方](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1609) [链接到播客 App 内部的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1612) [自定义设置视图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1614) [用户可以更细致地设置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1616) [想要接收哪个播客](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1619) [想要接收哪个播客](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1619) [的通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1621) [当你的 App 通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1624) [数量越来越多](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1626) [类型越来越丰富时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1627) [让用户可以细致地](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1629) [管理什么通知是重要的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1633) [对他们来说很重要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1635) [这个链接也可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1641) [从系统设置访问](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1643) [只需进入你的 App 的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1646) [通知设置就可以找到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1647) [对于播客来说](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1648) [这个链接在页面的下方](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1650) [名称是播客通知设置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1651) [下面我们看看](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1654) [这些如何在代码中实现](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1657) [在 UNUserNotificationCenter](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1658) [Delegate 这个 class 中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1661) [我们新增了一个委托方法](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1663) [也就是 openSettingsFor notification](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1666) [只要你执行](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1669) [这个委托方法](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1671) [刚才我们提到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1673) [管理视图和系统设置中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1674) [管理视图的链接](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1676) [系统会自动将其扩充](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1677) [系统会自动将其扩充](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1677) [所以当用户点击](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1680) [这些链接时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1683) [就会调用这个委托方法](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1684) [重要的是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1686) [调用这个委托方法时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1689) [你必须立即给用户展示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1690) [可以在 App 内](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1692) [调整通知设置的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1693) [管理视图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1695) [有人可能注意到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1699) [我们给这个方法增加了一个参数](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1702) [叫做 notification](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1703) [链接在不同地方触发](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1706) [会有不同影响](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1707) [如果是在某个管理视图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1709) [链接会包含](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1711) [该 notification 参数的值](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1713) [如果在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1715) [系统设置中触发](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1717) [则 notification 参数的值为空](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1719) [你可以在这个委托方法](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1721) [被调用时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1723) [显示合适的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1724) [通知设置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1726) [这些就是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1728) [通知管理部分的内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1732) [对于用户来说](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1733) [这是一个新的方式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1736) [可以设置重点发送或静音发送](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1737) [关闭通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1739) [关闭通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1739) [甚至可以在 App 中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1742) [更细致地进行设置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1744) [为了鼓励用户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1749) [持续接收你的通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1752) [我们认为很重要的一点是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1755) [你的通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1756) [要切题](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1758) [我们也鼓励大家](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1760) [使用线程标识](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1763) [在适当的时候](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1764) [将通知分组](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1766) [这可以帮助用户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1768) [更好地管理通知列表](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1769) [也确保他们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1772) [看到你的 App 通知时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1773) [不会觉得无从下手](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1775) [我们还认为](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1777) [如果你的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1780) [会发送多个类型的通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1781) [你最好能在 App 中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1783) [提供自定义设置视图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1784) [这样用户可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1787) [更细致地管理](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1788) [哪种通知对他们最重要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1790) [以上就是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1794) [通知管理](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1795) [下面我想介绍的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1797) [一个比较大的功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1799) [一个比较大的功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1799) [就是临时授权](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1800) [现在 如果一个用户安装了你的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1802) [在他开始接收通知前](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1808) [必须回应](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1810) [这样的一个提示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1812) [提示会询问用户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1814) [是否想接收通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1815) [这最大的问题是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1817) [现在用户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1819) [无法判断](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1822) [App 会发送哪种通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1823) [所以他们也不知道](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1825) [是否想要接收](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1826) [在 iOS 12 中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1829) [我们新增了临时授权](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1832) [你的 App 会自动](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1834) [试发送通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1836) [这可以帮助你的用户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1839) [更好地判断](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1841) [他们是否需要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1843) [这些通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1844) [你可以选择使用这个功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1846) [使用后](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1848) [你的用户就不会收到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1851) [我们刚才看到的授权提示了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1852) [相反 你的通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1853) [会开始自动推送](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1856) [但是这些通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1858) [但是这些通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1858) [都没有声音提示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1860) [并且 静音发送的通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1864) [只会显示在 Notifications Center](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1868) [这些通知是无声的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1870) [通过临时授权](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1875) [发送的通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1877) [都会带有这样的提示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1879) [在接收了几条通知后](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1883) [可以帮助用户决定](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1887) [是否要继续接收](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1889) [这些通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1891) [还是决定](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1892) [关闭通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1895) [在确认关闭的位置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1900) [如果你创建了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1902) [自定义设置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1904) [在这里它依然会出现](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1906) [我们来看看](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1909) [如何通过代码实现](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1910) [在你通常](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1912) [请求授权的位置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1913) [除了请求的 option](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1916) [除了请求的 option](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1916) [你还可以添加一个限定 option](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1920) [.provisional](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1924) [添加这个以后](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1926) [你的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1930) [自动加入通知试发送](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1931) [大家需要注意](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1934) [除 .provisional option 外](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1936) [你还需要有](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1939) [其他的 option](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1941) [这是因为如果用户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1943) [决定继续接收](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1944) [你的通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1945) [系统必须知道](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1947) [你想如何发送](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1948) [是否要角标 声音 还是作为提醒](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1951) [这就是临时授权](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1953) [它是自动的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1956) [通知试发送](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1958) [可以帮助你的用户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1960) [更好地决定](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1961) [是否要继续接收你的通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1963) [同样 为了鼓励用户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1966) [继续接收](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1969) [你的通知内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1971) [一定要与你的 App 相关](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1973) [并且要记住一点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1977) [并且要记住一点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1977) [使用 .provisional 作为预选项时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1981) [还需要有其他](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1983) [你请求的 option](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1985) [这就是临时授权](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1986) [的全部内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1987) [我想介绍的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1990) [最后一个大的功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1994) [就是重要提醒](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1996) [通常在我参加会议](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=1998) [或有重要的事情时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2003) [我的手机是这样的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2005) [大家可以看到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2006) [我开启了免打扰模式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2007) [或者 我至少会](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2009) [关闭铃声](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2011) [这样我接收通知时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2012) [就不会有声音提示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2014) [通常来说 这样很好](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2016) [但是我可能会错过](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2019) [非常重要的通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2022) [就像这个 这是一条](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2024) [与健康相关的通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2026) [我的血糖仪提醒我](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2028) [我的血糖过低](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2029) [这样的通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2031) [我会希望能及时看到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2033) [这样的场景](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2035) [让我们意识到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2038) [让我们意识到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2038) [我们需要一类新的通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2040) [我们将它称为重要提醒](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2042) [重要提醒是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2045) [医药 健康](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2048) [家庭 安全](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2050) [或公共安全](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2052) [相关的通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2054) [重要提醒的关键](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2056) [在于需要用户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2059) [马上做出回应](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2061) [重要提醒](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2066) [可以忽略](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2067) [免打扰模式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2070) [和铃声静音](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2071) [发出声音提示 你甚至可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2074) [自己设置提示音](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2075) [但是这也意味着](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2077) [重要提醒会产生干扰](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2078) [因为这一点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2080) [我们认为不能允许所有的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2083) [发送重要提醒](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2084) [想要发送重要提醒](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2089) [首先你需要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2091) [申请授权](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2093) [你可以登录](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2095) [developer.apple 的网站申请](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2096) [重要提醒](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2099) [重要提醒](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2099) [是这个样子](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2101) [有一个独特的图标](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2103) [表示其重要性](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2105) [接收重要提醒时 还会有声音提示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2106) [在通知设置中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2112) [重要提醒 可单独进行设置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2114) [这表示 用户可以允许某个 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2117) [发送重要提醒](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2122) [但是不允许接收该 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2124) [其他类型的通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2126) [接收重要提醒之前](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2127) [用户需要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2132) [通过这样的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2133) [一个提示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2135) [询问他们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2137) [是否想要接收某个 App 的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2139) [重要提醒](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2141) [所以 在发送重要提醒前](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2143) [你当然需要获得授权](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2147) [当你的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2149) [授权申请通过后](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2150) [在你通常请求授权](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2153) [请求授权的位置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2154) [除了其他](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2156) [需要请求的 option](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2158) [需要请求的 option](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2158) [你还可以请求](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2160) [.criticalAlert option](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2162) [用户会先看到提示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2165) [下面我们看看](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2173) [如何创建和发送重要提醒](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2174) [其实重要提醒](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2175) [和普通通知的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2177) [原理相近](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2178) [可以看到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2180) [我创建了一个通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2181) [带有标题 主体 和类型标识](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2183) [但是最独特的一点是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2185) [重要提醒](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2186) [有声音提示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2188) [所以我需要设置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2189) [重要提醒的提示音](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2191) [大家可以看到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2192) [我设置的是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2195) [重要提醒的默认提示音](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2197) [由框架提供](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2198) [我还可以自定义提示音](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2200) [还可以自定义](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2204) [提示音量](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2206) [当然](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2208) [重要提醒也可以是推送通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2212) [这样所有的这些信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2215) [可以在 push payload 中进行创建](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2217) [这就是重要提醒](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2221) [它是新类型的通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2223) [需要用户及时回应](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2227) [重要提醒会产生干扰](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2230) [所以你需要得到授权 才可以发送](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2232) [这就是今天要给大家介绍的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2238) [所有新的接口](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2240) [我来很快给大家总结一下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2243) [今天的主要内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2244) [我们介绍了如何](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2246) [使用线程标识对通知分组](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2250) [对通知分组](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2252) [以帮助用户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2255) [更好地管理通知列表](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2256) [我们介绍了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2258) [通知内容扩展的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2260) [全新接口](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2262) [可以让你的通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2264) [变得更具交互性](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2265) [我们还谈到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2268) [如何在你的 App 中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2271) [创建自定义设置视图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2272) [让用户可以更精细地](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2274) [筛选想要保留](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2277) [哪些通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2279) [哪些通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2279) [再然后是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2283) [临时授权](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2284) [让你的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2286) [可以自动试发送通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2287) [这样你的用户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2289) [可以更好地决定](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2290) [是否要保留](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2293) [你的通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2294) [最后我们介绍了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2295) [重要提醒](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2298) [这是新的一类通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2300) [需要用户采取](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2302) [及时回应](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2304) [还会产生干扰](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2305) [我们希望你们可以利用好](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2307) [这些非常棒的接口](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2309) [给你们的用户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2311) [带来更好的通知用户体验](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2313) [有关本次会议的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2315) [所有信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2316) [可以在会议页面看到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2317) [developer.apple.com](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2319) [我们的会议号码是 710](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2321) [接下来还有一次会议](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2323) [在三号大厅举行](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2325) [内容是如何使用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2326) [分组通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2328) [我们会帮助大家决定](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2330) [如何将你的通知分组最有效](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2332) [我们有两个通知实验议程](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2334) [一个在今天 一个在明天](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2336) [你可以向我们团队的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2338) [工程师询问](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2339) [工程师询问](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2339) [任何相关问题](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2341) [周五上午](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2343) [我们还有一场非常有趣的会议](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2345) [叫做如何设计通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2346) [讲者是我们的设计师](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2348) [他们帮助我们设计了所有的这些](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2351) [到时候他们会介绍](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2353) [通知的最佳使用方法](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2354) [感谢大家 祝大家顺利](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2357) [[ 掌声 ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/710/?time=2359)