WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:22:58.226 --> 00:23:00.846 A:middle
我们的 NSTextBlock 子类需要

00:23:00.846 --> 00:23:02.756 A:middle
在顶部有一些

00:23:02.756 --> 00:23:04.626 A:middle
额外的留白

00:23:04.626 --> 00:23:07.346 A:middle
还需要一个浅灰色背景

00:23:07.546 --> 00:23:08.906 A:middle
我们将重写 drawBackground()

00:23:09.566 --> 00:23:11.346 A:middle
并使用字符串绘制来绘制

00:23:11.346 --> 00:23:12.666 A:middle
标头 Swift Code

00:23:13.606 --> 00:23:14.836 A:middle
实际上这些我们想

00:23:14.836 --> 00:23:16.386 A:middle
让文本块看起来

00:23:16.386 --> 00:23:18.886 A:middle
像一个代码片段所需要做的

00:23:18.986 --> 00:23:20.216 A:middle
现在回到我们的 customTextStorage

00:23:20.216 --> 00:23:21.866 A:middle
我们可以创建

00:23:21.866 --> 00:23:23.076 A:middle
新代码块的实例

00:23:24.256 --> 00:23:27.286 A:middle
而不是使用纯文本块

00:23:27.856 --> 00:23:31.476 A:middle
最后 我们还要

00:23:31.476 --> 00:23:32.896 A:middle
告诉我们的 textView 使用

00:23:32.896 --> 00:23:34.606 A:middle
我们的 customTextStorage

00:23:34.606 --> 00:23:36.076 A:middle
所以我们要在布局管理器中

00:23:36.116 --> 00:23:37.096 A:middle
把原来的文本存储替换掉

00:23:37.706 --> 00:23:41.076 A:middle
现在这变成了一个真正的

00:23:41.076 --> 00:23:42.266 A:middle
所见即所得的 Markdown 编辑器了

00:23:43.126 --> 00:23:44.366 A:middle
现在在大多数 Markdown 编辑器上

00:23:44.366 --> 00:23:45.556 A:middle
都有的一个功能是

00:23:45.666 --> 00:23:47.726 A:middle
并排视图

00:23:47.726 --> 00:23:49.046 A:middle
左侧是编辑区域

00:23:49.046 --> 00:23:50.016 A:middle
右侧是渲染版本

00:23:51.516 --> 00:23:52.996 A:middle
我们可以通过使用

00:23:52.996 --> 00:23:54.426 A:middle
两个文本视图来实现

00:23:55.936 --> 00:23:57.946 A:middle
我们停用右侧视图的编辑功能

00:23:58.866 --> 00:24:00.376 A:middle
现在我们有两个文本视图

