WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:09:59.316 --> 00:10:02.316 A:middle
接下来 我们希望

00:10:02.316 --> 00:10:04.536 A:middle
将所有日期属性的值相同的日期

00:10:04.536 --> 00:10:05.716 A:middle
分到一组

00:10:06.316 --> 00:10:07.076 A:middle
因为我们现在抓取的是

00:10:07.076 --> 00:10:08.566 A:middle
总量而不是单个的对象

00:10:08.566 --> 00:10:09.796 A:middle
我们也需要将结果类型修改得

00:10:09.796 --> 00:10:10.876 A:middle
更加合理

00:10:10.876 --> 00:10:13.066 A:middle
在这里是字典

00:10:14.726 --> 00:10:17.346 A:middle
最后 我们要定义一个

00:10:17.346 --> 00:10:19.316 A:middle
在每个组里代表对象数量的表达式

00:10:19.316 --> 00:10:20.976 A:middle
然后告诉读取请求 

00:10:20.976 --> 00:10:23.616 A:middle
返回它所代表的日期的计数

00:10:24.926 --> 00:10:26.996 A:middle
这个读取请求返回了 30 个结果

00:10:26.996 --> 00:10:28.416 A:middle
它们中的每一个都是

00:10:28.416 --> 00:10:29.876 A:middle
图表中的一个点

00:10:31.216 --> 00:10:34.466 A:middle
如果你进入数据库

00:10:34.466 --> 00:10:35.546 A:middle
这是核心数据从

00:10:35.546 --> 00:10:36.686 A:middle
读取请求里

00:10:36.686 --> 00:10:37.186 A:middle
生成的 SQLite 查询

00:10:37.646 --> 00:10:38.846 A:middle
如果你自己写查询语句

00:10:38.846 --> 00:10:39.516 A:middle
那么这就是

00:10:39.516 --> 00:10:40.046 A:middle
你要做的

00:10:40.496 --> 00:10:41.816 A:middle
核心数据知道如何

00:10:41.816 --> 00:10:43.226 A:middle
将许多表达功能

00:10:43.226 --> 00:10:45.196 A:middle
转换成最佳的数据库查询

00:10:45.776 --> 00:10:46.856 A:middle
一个通过查询得到的组

00:10:46.856 --> 00:10:48.066 A:middle
可以聚合

00:10:48.066 --> 00:10:50.076 A:middle
例如平均 求和 以及标量查询

00:10:50.076 --> 00:10:51.736 A:middle
比如一般的读取请求

00:10:51.736 --> 00:10:53.336 A:middle
可以使用标量计数以及日期功能

00:10:53.336 --> 00:10:54.926 A:middle
就像 abs 之于绝对值

00:10:54.926 --> 00:10:57.026 A:middle
now 之于当前时间一样

00:10:57.156 --> 00:10:59.366 A:middle
如果你想知道

00:10:59.366 --> 00:11:00.236 A:middle
更多的关于 NSExpression 的内容

