# Object Tracking in Vision

## Summary
Vision is a high-level framework that provides an easy to use API for handling many computer vision tasks. We'll dive deep into a particularly powerful feature of Visionâ€”tracking objects in video streams. Learn best practices for using Vision in your app. Gain a greater understanding of how request handlers function in terms of lifecycle, performance, and memory utilization.

## Info
* Media
* WWDC 2018 - Session 716 - iOS, macOS
* https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/

## Text
 [[ Music ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=7) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=20) [&gt;&gt; Good afternoon, everybody,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=27) [and welcome to Object Tracking](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=28) [in Vision session.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=30) [Do you ever need to face and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=32) [solve various computer vision](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=34) [problems?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=35) [If you do, and whether your Mac](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=36) [and iOS, or each of you as](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=39) [developer, you're in the right](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=40) [place.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=42) [My name is Sergey Kamensky.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=43) [I'm excited to share with you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=44) [how Vision Framework can help.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=46) [Our agenda today consists of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=51) [four items.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=52) [First, we're going to talk about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=53) [Why Vision?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=54) [Second, we're going to look](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=56) [about what's new that we're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=57) [introducing this year.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=58) [Third, we're going to have a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=60) [deeper dive into helping](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=62) [throughout this Vision API.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=63) [And then, finally, we're going](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=64) [to get to the main topic of our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=66) [presentation, which is Tracking](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=67) [in Vision.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=69) [So, why Vision?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=73) [When we designed our framework,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=77) [we wanted it to be one central](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=79) [stop to solve all of your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=80) [computer vision problems while](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=82) [first in simple and consistent](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=84) [interface, one multi-platform;](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=86) [our framework runs on iOS,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=88) [macOS, and tvOS.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=91) [We're privacy oriented.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=94) [What that means is that your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=95) [data never leaves the device.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=97) [All the [inaudible] sync is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=99) [local, and we're continuously](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=100) [working.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=103) [We're enhancing our existing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=104) [algorithms, and we're developing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=106) [new ones.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=108) [Let's look at the Vision basics.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=111) [When you think about how to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=113) [interact with Vision API, I want](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=115) [you to think about in these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=117) [terms, what to process, how to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=119) [terms, what to process, how to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=119) [process, and where to look for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=121) [results.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=123) [What to process is about a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=124) [family of requests.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=126) [That is how you tell us what you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=127) [want to do.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=129) [How is about our request](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=130) [handlers or engines-- our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=132) [request handlers, they're used](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=134) [to process our requests.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=136) [And finally, the results; the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=139) [results in Vision come in forms](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=140) [of observations.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=142) [Please take a look at this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=144) [slide.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=145) [If you were to remember anything](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=146) [from this presentation, this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=147) [slide is probably one of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=148) [more important ones.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=149) [This slide presents a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=151) [philosophy, how to interact with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=152) [Vision, requests, request](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=153) [handlers,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=156) [and observations.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=158) [Let's look at the requests](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=162) [first.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=163) [This is a collection of requests](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=164) [that we offer today.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=166) [As you can see, we have various](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=166) [detectors.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=169) [We have Image Registration](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=170) [Request.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=171) [We have two trackers, and we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=172) [have a CoreML request.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=174) [If you're interested to learn](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=176) [more about integration of Vision](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=177) [and CoreML, I invite you to come](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=179) [and CoreML, I invite you to come](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=179) [to the next session in this room](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=180) [where Fran, my colleague, will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=182) [cover details of that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=183) [integration.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=185) [Let's take a look at the request](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=187) [handlers.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=189) [In Vision, we have two.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=190) [We have Image Request Handler,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=192) [and we have Sequence Request](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=193) [Handler.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=195) [Let's compare the two using this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=196) [criteria.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=198) [First, we'll look at the Image](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=200) [Request Handler.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=201) [Image request handler is used to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=203) [process one or more requests on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=205) [the same image.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=207) [What it doesn't say, it caches](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=210) [certain information like image](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=211) [derivatives and results of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=213) [posting requests.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=214) [So, other requests in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=215) [pipeline can use that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=217) [information.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=218) [I'm going to give you an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=219) [example.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=220) [If a request depends on running](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=221) [neural network, as you know,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=223) [neural network expects images in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=224) [certain sizes and certain colors](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=226) [schemes.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=227) [Let's say your neural network](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=228) [expects 500 by 500 black and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=230) [white.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=232) [It's very rare that you'll get](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=233) [user input just in that format.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=235) [So, what we'll do inside, we'll](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=237) [convert the image.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=238) [We'll feed it into that neural](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=239) [We'll feed it into that neural](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=239) [network to get results for the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=241) [current request, but we will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=242) [also cache that information on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=243) [the request handler object.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=245) [So, the next request, when it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=246) [comes, if it needs to use the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=247) [same format, it's already there,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=249) [and it doesn't need to be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=251) [recomputed.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=251) [We'll also cache results that we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=253) [get from the requests so other](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=254) [requests can use it in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=256) [pipelines, and we're going to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=257) [look at pipelines going forward](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=258) [in this presentation.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=260) [Let's take a look at the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=261) [Sequence Request Handler.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=263) [Sequence request handler is used](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=265) [to process a particular](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=267) [operation like tracking in a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=268) [sequence of frames.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=270) [What it does inside, it caches](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=272) [the state of that operation from](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=274) [frame to frame to frame for the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=275) [entire sequence.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=277) [In Vision, it's used to process](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=279) [tracking and image registration](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=281) [requests.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=283) [All other requests are processed](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=283) [with our Image Request Handler.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=285) [Let's look at the results.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=290) [Results in Vision coming from](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=292) [observations.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=294) [Observations is a collection of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=295) [classes derived from](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=297) [VNObservation class.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=299) [VNObservation class.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=299) [How do we get an observation?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=301) [Well, first, the most natural](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=303) [way is when the request is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=304) [processed, you're going to look](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=306) [at the results property of that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=307) [request, and that results](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=308) [property is a collection of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=310) [observations.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=311) [That's how we tell you results](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=311) [of processing.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=313) [The second way is you create it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=314) [manually.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=318) [We're going to look at examples](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=319) [for other presentations how to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=320) [do both.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=322) [Let's now look at what's new](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=326) [coming this year.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=328) [First, we have our new face](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=330) [detector.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=332) [Now, we can detect more faces,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=333) [and we're now](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=337) [orientation-agnostic.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=338) [Let's look at example.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=339) [On the left-hand side, you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=341) [see an image with seven faces in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=342) [it, and we could process that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=343) [image with the detector from](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=345) [last year, we can detect only](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=346) [three faces, and those faces are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=348) [the ones that are close to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=350) [upright position.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=351) [If you process the same image](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=353) [with the face detector that's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=355) [coming this year, as you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=357) [see, all faces can be detected,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=358) [and orientation is not a problem](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=359) [and orientation is not a problem](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=359) [anymore.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=361) [Let's look a little bit more](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=361) [into details.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=364) [Thank you.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=365) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=367) [So, first, our new face detector](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=375) [uses the same API as from last](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=378) [year.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=380) [The only difference is if you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=380) [want to specify revision, you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=382) [need to overwrite a revision](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=383) [property of that request and set](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=384) [it explicitly to User Vision #2.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=386) [Again, I'll talk about the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=388) [reasons right on the next slide.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=389) [We're also introducing two new](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=391) [properties.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=393) [One is roll, which is when the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=394) [head rotates like this, and the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=396) [other one is yaw, which when the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=398) [head rotates around the neck.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=399) [Revisions.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=405) [What happens with Vision where](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=406) [when we need to introducing a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=407) [new algorithm, we don't](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=408) [deprecate the old one right](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=410) [away.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=411) [Instead, we're going to keep for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=412) [some time both revisions or,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=413) [maybe going forward, even more,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=415) [simultaneously.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=416) [You tell us which one you want](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=418) [to work with by specifying](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=419) [to work with by specifying](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=419) [revision property of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=421) [request.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=422) [So, that's the explicit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=424) [behavior.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=424) [But we also have a default](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=425) [behavior.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=426) [If you create a request object,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=427) [and you don't tell us anything](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=429) [at all, and you start processing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=430) [that request, here's what's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=432) [going to happen.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=433) [By default, you're getting the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=434) [latest revision of the request](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=437) [that your app is linked](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=439) [against-- of the SDK that your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=440) [app is linked against.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=442) [This is important to understand,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=443) [and I'll give you an example.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=445) [Let's say your app is linked](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=447) [against there's the SDK from the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=448) [last year.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=449) [Last year, we had only single](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=450) [detector.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=452) [So, this is the detector you're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=453) [going to get, even if you take](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=454) [that app and without a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=456) [compilation, run it on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=457) [current OS.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=458) [If, on the other hand, you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=460) [recompile your app with the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=462) [current SDK without changing a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=464) [single line or coordinate, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=465) [you run it on the current OS,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=467) [you're going to get by default](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=468) [revision #2 because this is the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=469) [way this from the current SDK.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=471) [We highly recommend you to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=474) [future-proof your apps, but](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=476) [again it's exclusive to Vision.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=477) [What you get is, first, you get](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=479) [What you get is, first, you get](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=479) [the deterministic behavior.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=481) [You know performance of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=483) [algorithm that you're quoting](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=484) [against.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=486) [You know what to expect.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=487) [We also can be-- you can get](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=488) [your app to be future-proof from](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=490) [the errors like, for example, if](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=492) [we deprecate certain revision](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=494) [going forward, like a couple of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=495) [years from now, then you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=496) [[inaudible]against that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=498) [[inaudible] today.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=502) [Let's have a deeper dive into](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=505) [how to interact with Vision API.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=507) [First, we're going to look at](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=512) [the example with Image Request](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=512) [Handler.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=513) [So, as you remember, image](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=515) [request handler is used to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=516) [process one or more requests on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=517) [the same image.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=519) [It's optimized by caching some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=521) [information like image](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=524) [derivatives and request results.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=525) [So, the consecutive requests](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=527) [that are coming to be processed](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=529) [can use this information.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=531) [Let's look at code sample.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=533) [Before we dive into the code](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=537) [sample, I just want to emphasize](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=538) [a couple of points about the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=539) [a couple of points about the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=539) [code samples in this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=541) [presentation.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=541) [The error handling is not a good](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=543) [example how errors should be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=544) [handled.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=546) [I use a short version of try,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=546) [and I use [inaudible].](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=547) [This is just to simplify the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=549) [examples.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=551) [When you code your apps, you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=551) [probably should use guards to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=552) [protect against unwanted](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=554) [behavior.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=555) [I also use Image URL when I](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=557) [create my image request handler](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=560) [objects, and that is just a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=562) [place on the SSD where the file](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=564) [is located.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=566) [Now, let's look at example.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=568) [First, I'm going to create my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=570) [detect faces request object.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=572) [Then, I'm going to create my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=575) [image request handler passing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=576) [the image URL with the file of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=578) [the image where the faces should](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=580) [be located.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=581) [Then, I'm going to ask my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=583) [request handler to process my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=584) [request.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=585) [And finally, I'm going to look](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=586) [at the results.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=587) [Very simple.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=590) [If I had an image with a single](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=591) [face in it, my results would](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=592) [look something like this.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=594) [So, what I get back?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=600) [I get back a face observation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=601) [object, and the one of the more](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=602) [important fields in that object](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=604) [is the bounding box where the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=605) [face is located.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=606) [Let's take a look at this slide](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=609) [again.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=610) [The first three lines is pretty](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=611) [much all you need to find all](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=612) [the faces in the image.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=614) [Isn't that cool?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=615) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=618) [Let's now take a look at the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=622) [Sequence Request Handler.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=623) [Well, sequence request handler,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=627) [as you remember, is used to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=628) [process a particular operation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=629) [like tracking on a sequence of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=631) [frames.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=633) [Let's look at code sample, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=635) [this code sample is pretty much](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=636) [the simplest tracking sequence](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=638) [we can imagine with Vision API.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=640) [First, I'm going to create my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=643) [Sequence Request Handler.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=645) [Then, I need to specify which](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=647) [object I want to track, and I'm](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=649) [going to do that by creating a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=650) [detected object observation,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=652) [which gets us a parameter](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=653) [location, a bounding box.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=655) [Then, I'm going to start my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=658) [Then, I'm going to start my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=658) [tracking signals.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=660) [In this example, I'm going to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=661) [track my object for five](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=663) [consecutive frames.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=664) [Let's look how the sequence](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=666) [works.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=667) [First, I have a frame feeder](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=668) [object, which in your case could](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=670) [be like camera feed, for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=671) [example.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=673) [This is where I get my frames.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=674) [I get my frame, I create my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=675) [request object, passing the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=678) [detected object observation as a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=679) [parameter with its initializer.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=681) [And that's something that I just](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=684) [created before the loop started.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=685) [Then, I'm going to ask my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=687) [request handler to process](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=689) [request.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=691) [I'm going to look at the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=692) [results, and this is the place](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=694) [where I should be analyzing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=695) [results and doing something with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=697) [them.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=698) [And the last step, which is very](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=699) [important, what I'm doing here,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=701) [I'm taking the results from the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=703) [current iteration, and I'm](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=704) [passing it to the next](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=706) [iteration.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=707) [So, when the next iteration](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=708) [request is created, I want to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=709) [see those results inside.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=710) [If I were to want it in a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=711) [sequence of five frames, my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=713) [results would look something](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=714) [like this.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=715) [How to create a request object.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=726) [Well, first, it's important to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=727) [understand that our requests](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=730) [have two types of properties.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=731) [There are mandatory properties](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=733) [and there are optional](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=734) [properties.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=735) [And mandatory properties, as the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=736) [name suggests, they need to be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=738) [provided via initializer in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=740) [order to be able to create a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=741) [request object.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=743) [Let's look at the example.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=744) [There is something that would](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=748) [just go in the previous slide.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=749) [I detected object observation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=751) [that is passed into the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=753) [initializer of the [inaudible]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=754) [object request is an example of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=755) [a mandatory property.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=757) [We also have optional](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=760) [properties.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=761) [By the way, both types of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=763) [properties are declared.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=764) [You can find them in the place](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=765) [where the request object is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=767) [declared.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=770) [Optional properties is separate](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=771) [properties where we have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=773) [meaningful defaults for them.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=774) [So, we'll initialize them for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=775) [you, but you can override them](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=777) [later if you need to.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=778) [Let's look at the example.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=780) [What I'm doing here, I'm](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=785) [breaking my detect barcodes](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=786) [request object.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=788) [If I were to do nothing else and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=789) [just took my request object and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=791) [fed it into request handler, I](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=792) [would be working on the entire](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=795) [image, looking for my barcodes.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=796) [What I'm going to do here](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=799) [instead, I'm going to specify a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=800) [small portion like a central](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=802) [property image.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=803) [There's this where I want to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=804) [focus to look for my barcodes,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=805) [and I'm going to overwrite my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=807) [region of interest property with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=809) [that.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=810) [If I take my request object now](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=811) [and feed it into request](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=812) [handler, I'm going to be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=813) [focusing on the smaller portion](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=815) [of the image only.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=816) [A region of interest property](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=818) [here is an example of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=819) [optional property that we have.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=821) [What's important to understand](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=823) [here also that once you get a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=825) [request object in your hands,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=827) [it's a fully constructed object.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=829) [It's the object that you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=831) [start working with whenever you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=832) [have constructed objects.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=834) [If you decide to overwrite](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=835) [certain properties later on,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=836) [you're welcome to do so.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=838) [But whenever you have the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=840) [object, it's the object that you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=841) [can work with.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=842) [One thing that's not maybe on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=847) [this slide is, which will be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=848) [covered in more details in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=849) [next session, is to look at the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=850) [bounding boxes.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=854) [As you can see, the coordinates](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=856) [that we receive are normalized.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=858) [They are from 0 to 1 and they're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=860) [always relative to the lower](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=862) [left corner.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=863) [The next session, which is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=865) [CoreML integration with Vision,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=866) [will cover this aspect in more](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=867) [details.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=869) [Let's look at how to understand](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=873) [results.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=874) [As we said, results in Vision](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=875) [come in forms of observations.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=878) [Observations are populated](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=881) [through results property of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=883) [request object.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=885) [How many observations can you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=886) [get?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=887) [All the collection be 0 to N.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=888) [There's one more aspect here.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=892) [If you get results set to nil,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=894) [that means that the [inaudible]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=895) [single request failed.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=897) [This is different than getting 0](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=898) [This is different than getting 0](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=898) [observations met.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=900) [Getting 0 observations met means](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=901) [that whatever you were looking](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=903) [for is just not there.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=904) [As an example, let's say you run](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=905) [a face detector.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=908) [If you feed an image with no](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=910) [faces in it, naturally, you will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=911) [get 0 observations met.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=913) [On the other hand, if you feed](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=915) [the image with one or more faces](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=916) [in it, you'll get appropriate](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=918) [number of observations met.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=920) [Another important property of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=924) [observations is that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=925) [observations are immutable.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=927) [We will look at the example](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=928) [where it's used.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=930) [There are two more properties](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=932) [that I want to pay your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=934) [attention to, and they are both](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=934) [declared in the base [inaudible]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=936) [for all observations.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=937) [One is the unique ID.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=939) [This unique ID identifies the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=941) [processing step for this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=942) [particular-- where this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=944) [particular result was created.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=945) [Another one is the confidence](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=947) [level.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=948) [Confidence level tells you how](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=950) [confident the algorithm was](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=951) [producing the results.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=953) [The confidence is in the range](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=955) [from 0 to 1.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=957) [Again, this topic also will be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=959) [Again, this topic also will be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=959) [covered in the next session in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=960) [more details.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=962) [Let's look at the request](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=966) [pipelines.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=968) [So, what is a pipeline?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=969) [Let's say I have three requests,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=971) [and it happens to be that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=973) [request #1 depends on execution](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=974) [of request #2, which in turn](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=976) [depends on execution of request](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=978) [#3.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=980) [How do we process the sequence](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=982) [while the processing is done in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=983) [the opposite order?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=985) [What I'm going to do here,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=986) [first, I'm going to process my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=987) [request #3.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=989) [I'm going to get the results](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=990) [from that request and feed it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=991) [into request #2.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=992) [I'm going to do exactly the same](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=994) [with request #2.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=995) [And finally, I will process my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=996) [request #1.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=998) [Let's look at the examples of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1001) [how to run request pipeline in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1003) [implicit and explicit order.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1005) [We're going to look at the next](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1008) [two slides in these two use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1009) [cases, and we're going to run](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1010) [our face landmarks detector.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1012) [As you probably know, landmarks,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1014) [face landmarks are the features](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1015) [on the face.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1018) [It's both your eyes, eyebrows,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1018) [It's both your eyes, eyebrows,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1018) [nose, and mouth location on your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1020) [face.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1021) [Let's first look at how to do it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1022) [implicitly.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1025) [I have a simple [inaudible] a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1033) [bit similar to what we have seen](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1034) [already.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1036) [First, I'm going to create my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1037) [face landmarks request.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1038) [Then, I'm going to create my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1040) [image request handler.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1042) [Then, I'm going to process my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1043) [request.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1045) [And finally, I'm going to look](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1046) [at the results.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1047) [If I had an image with a single](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1048) [face in it, my results would](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1050) [look something like this.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1051) [Sorry.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1055) [N is for the sequence, and the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1056) [results.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1059) [So, I get the bounding box of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1060) [the face.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1062) [That's the location for the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1063) [face, and I get the landmarks](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1063) [for the face.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1066) [What's important to understand](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1068) [here is that when the processing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1069) [of the face landmark request](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1071) [starts, face landmarks request](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1072) [figures out that faces have not](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1075) [been detected yet, and it runs](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1076) [on our behalf inside face](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1079) [on our behalf inside face](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1079) [detector.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1081) [It gets results from that face](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1082) [detector, and that's where](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1083) [landmarks are being searched](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1085) [for.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1086) [On the right-hand side, you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1088) [see a snippet of what face](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1091) [observation object would look](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1094) [like.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1095) [These are just a couple of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1095) [fields from that object.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1096) [One is a unique ID that we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1097) [discussed that is set to some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1099) [unique number.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1100) [Then, the bounding box, that's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1101) [where the face is located, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1103) [then, finally, the landmarks](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1105) [field, which points to some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1106) [object where the landmarks are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1107) [described.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1109) [Now, let's take a look at the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1113) [same use case but now done](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1115) [explicitly.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1117) [What I'm going to do here](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1120) [first-- first, I'm going to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1121) [explicitly run my face detector.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1122) [You've seen these four lines of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1125) [code already several times in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1127) [the presentation.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1129) [When I run it, I get my bounding](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1129) [box back.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1131) [As you can see, the results are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1132) [returned in the same type, face](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1134) [observation.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1136) [The fields that we saw on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1137) [previous slide may look like](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1138) [this, so you get some unique](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1139) [this, so you get some unique](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1139) [number to identify this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1141) [particular processing step.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1142) [Then, you get the bounding box](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1144) [location, which is the main](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1145) [outcome of processing this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1146) [request.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1148) [And the landmarks field is set](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1148) [to nil because face detector](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1150) [doesn't know anything about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1151) [landmarks.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1152) [What I'm going to do next is I'm](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1154) [going to create my landmarks](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1156) [request, and then I'm going to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1157) [take the results from the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1159) [previous step and feed it into](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1160) [the input object observation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1162) [property of that request.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1163) [Then, I'm going to ask my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1165) [request handler to process it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1167) [And finally, I'm going to look](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1169) [at the results.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1170) [If I run it in the same image, I](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1171) [get exactly the same results as](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1173) [I would on the previous slide.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1175) [But let's see what happens with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1178) [observations.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1179) [Remember, we said that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1180) [observations are immutable even](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1181) [though both face detector and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1183) [face landmarks detector return](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1185) [the same type, but we don't](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1188) [override the observation that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1190) [was fed in.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1191) [What we do instead, we take the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1193) [first two fields and copy it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1194) [into a new object, and then we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1196) [calculate landmarks and populate](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1198) [calculate landmarks and populate](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1198) [the landmarks field.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1200) [Now, if you look now, you will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1202) [notice that the UID in most](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1203) [cases is the same.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1205) [Why is that?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1207) [Because we're talking about the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1208) [same face.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1209) [It's the same processing step,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1210) [if you will.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1211) [Where would you use implicit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1214) [versus explicit?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1215) [Well, if your application is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1217) [very simple, you would probably](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1218) [want to opt for implicit way.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1220) [It's very simple.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1222) [You create a single request;](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1223) [everything else is done on your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1224) [behalf.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1225) [If, on the other hand, your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1228) [application is more complex, for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1230) [example, you want to process](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1231) [faces first, detect them, then](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1233) [do some filtering.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1235) [Let's say you don't care about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1236) [faces on the periphery, or you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1237) [want to just focus on the ones](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1238) [that are in the center, you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1239) [do that step, and then you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1242) [do landmarks on the remaining](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1244) [set of faces.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1245) [In this case, you probably want](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1247) [to use the explicit version](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1248) [because, in this case, landmarks](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1250) [detector is not going to rerun](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1252) [face detector inside.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1254) [We want your apps to have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1262) [optimal performance both in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1263) [terms of memory usage and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1265) [execution speed.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1266) [That's why it's important to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1267) [look at the next two slides.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1268) [How long should you keep your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1271) [objects in memory?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1272) [Well, for the image request](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1276) [handler, you should keep it as](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1277) [long as the image needs](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1279) [processing.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1281) [This may sound like a very](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1282) [innocent and simple statement,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1283) [but it is very important that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1285) [you do just that.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1286) [If you release the object early,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1288) [and you still have outstanding](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1289) [requests to be processed, you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1291) [will have to recreate your image](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1292) [to request handler.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1293) [But now you have lost all the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1294) [cache that was associated with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1296) [the previous object, and you'll](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1297) [have to pay this performance to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1299) [recalculate these derivatives.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1300) [If you release it too late, on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1302) [the other hand, then, first](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1305) [you're going to start causing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1307) [memory fragmentation, and then](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1308) [the memory is not going to be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1310) [reclaimed by your app for other](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1311) [meaningful things that you want](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1313) [to do.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1314) [So, it's important to release](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1316) [it, use it as long as you need](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1317) [and release it right after.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1319) [and release it right after.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1319) [Remember, it caches the image](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1320) [and multiple image derivatives](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1322) [inside.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1323) [The situation with sequence](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1326) [request handler is very similar](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1328) [with the only difference is if](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1329) [you release it too early, you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1331) [pretty much kill the entire](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1332) [sequence because the entire](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1333) [cache is gone by now.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1334) [What about requests and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1338) [observations?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1340) [Well, requests and observations](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1341) [are very lightweight objects.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1343) [You can create them and release](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1345) [them as needed.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1346) [There's no need to cache them.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1347) [Where should we process your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1355) [requests?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1357) [Well many requests in Vision](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1359) [rely on running neural networks](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1361) [on the device.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1362) [And, as we know, running neural](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1364) [networks is usually faster on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1365) [GPU versus the CPU.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1367) [So, the natural question is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1369) [where should we run it?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1373) [Here's what we do in Vision.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1375) [If request is runnable in GPU,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1377) [we will try to do that first.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1379) [we will try to do that first.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1379) [If GPU is not available for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1381) [whatever reason at that point in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1383) [time, we will switch to CPU](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1384) [because that's our default](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1386) [behavior.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1388) [But let's say your application](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1389) [is dependent on displaying a lot](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1393) [of graphics on the screen, so](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1394) [you may want to save the GPU for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1396) [that particular job.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1398) [In this case, you can override](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1400) [user CPU on the property and set](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1401) [it to true on the request](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1403) [object.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1404) [This will tell us to process](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1405) [your request directly on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1406) [CPU.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1408) [Now that we've covered basic how](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1415) [to interact with Vision, Vision](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1417) [API, in particular, we've seen a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1419) [couple of examples, let's switch](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1421) [to the main topic of our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1423) [presentation, which is tracking](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1424) [in Vision.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1426) [So, what is tracking?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1428) [Tracking is defined as a problem](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1430) [of finding an object of interest](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1432) [in a sequence of frames.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1434) [Usually, you find that object in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1436) [the first frame, and you try to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1437) [look for it in the sequence of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1439) [look for it in the sequence of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1439) [frames.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1440) [What are the examples of such](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1442) [application?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1443) [You will probably see many of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1444) [them.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1446) [It's live annotational sports](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1446) [events, focus tracking with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1450) [camera, many, many others.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1451) [You may say why should they use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1455) [tracking if I can do detection](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1456) [on every frame in the sequence?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1458) [Well, there are multiple reasons](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1460) [for that.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1462) [First, you probably don't have a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1463) [specific tracker for every](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1465) [single type of object that you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1466) [want to track.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1467) [Let's say if you're tracking](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1469) [faces, you're lucky.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1469) [You have a face detector for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1471) [that purpose.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1472) [But if you need, for example, to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1474) [track a specific type of bird,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1475) [you probably don't have that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1477) [detector, and now you're in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1479) [business to create that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1480) [particular detector, which you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1481) [may not want to do because of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1483) [the other things that you want](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1484) [to have done with your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1487) [application.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1488) [But let's say you are lucky, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1489) [you're tracking faces, should](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1491) [you use detector then?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1493) [Well, probably not in this case](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1495) [either.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1497) [So, let's look an example.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1498) [You start your tracking](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1500) [sequence, and you run your face](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1501) [detector on the first frame.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1502) [You get five faces back.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1504) [Then, you run it in the second](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1506) [frame; you get another five](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1507) [faces back.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1508) [How do you know that the faces](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1509) [from the second frame are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1511) [exactly the same faces as from](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1512) [the first frame?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1514) [One person could have stepped](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1515) [out; another one showed up.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1516) [So, now, you're in the business](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1518) [of matching objects that you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1520) [found, which is a completely](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1522) [different task that you may not](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1523) [want to deal with.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1525) [Trackers, on the other hand, use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1527) [[inaudible] information to match](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1530) [objects.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1531) [They know the trajectory how the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1532) [objects move, and they can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1533) [slightly predict where they](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1535) [would be moving in the next](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1536) [frame.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1538) [But let's say you're lucky](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1539) [again.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1540) [You're tracking faces, and your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1541) [use case is limited to a single](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1543) [face in the frame.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1545) [Should you use detectors then?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1546) [Well, maybe not even in this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1548) [case.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1550) [Now, speed is a problem.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1556) [Trackers are usually lightweight](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1558) [Trackers are usually lightweight](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1558) [algorithms, while detectors](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1560) [usually run your [inaudible],](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1561) [which is much longer.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1563) [In addition, if you need to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1565) [display your tracking](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1567) [information on a graphical user](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1568) [interface, you may find that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1570) [trackers are smoother and not as](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1571) [jittery.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1573) [Remember, in one of the first](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1577) [slides, I asked you to remember](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1578) [these three terms, what, how,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1581) [and results.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1584) [Let's see how this maps into the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1585) [track and use case.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1588) [First, request.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1591) [So, in Vision, we have two types](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1594) [of requests for tracking.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1596) [There is a general purpose](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1598) [object tracker, and there is a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1599) [rectangular object tracker.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1600) [How?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1603) [As you should have guessed by](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1604) [now, we're going to use our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1605) [sequence request handler.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1607) [Results.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1609) [There are two types that are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1611) [important here.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1612) [There is a detected object](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1613) [observation, which has an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1614) [important property in it,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1615) [bounding box, which tells you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1617) [where the object is located, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1618) [where the object is located, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1618) [there is a rectangular](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1620) [observation, which has four](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1621) [additional properties telling](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1623) [you where the vertices of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1624) [rectangle are.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1626) [Now, you say if I had my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1627) [bounding box, why do I need the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1628) [vertices of the rectangle?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1630) [Well, when you draw up](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1632) [rectangles, they are rectangular](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1633) [objects in the real life.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1635) [The way they are projected in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1636) [the frame, they may look](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1638) [differently.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1639) [They may look like trapezoid,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1640) [for example.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1641) [So, the bounding box in this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1642) [case is not the rectangle](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1644) [itself.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1646) [It [inaudible] the minimal box](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1646) [that includes all the vertices](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1648) [of the rectangle.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1649) [Let's look at the demo now.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1653) [So, what I have here, I have a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1667) [sample app that you, by the way,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1668) [can download from WWDC website](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1670) [and the link is right next to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1672) [this session.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1674) [What the app does is it takes](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1675) [the movie; it parses that movie](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1677) [the movie; it parses that movie](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1677) [into frames.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1680) [In the first frame, you select](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1682) [an object.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1683) [You want to track a multiple](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1683) [objects or you want to track,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1684) [and it does the tracking.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1686) [So, let's first use this movie.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1688) [The user interface is simple.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1691) [First, you can choose between](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1693) [objects or rectangles, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1694) [second, you can choose which](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1695) [algorithm you want to use, fast](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1697) [or accurate.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1699) [What happens in Vision that we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1699) [support two types, fast and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1701) [accurate, and this is a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1703) [trade-off between the speed and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1704) [the accuracy.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1706) [I'm going to show objects in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1707) [this case, and I'm going to use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1709) [my fast algorithm.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1710) [Let's select objects.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1712) [So, I'm going to track this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1713) [person under the red umbrella,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1716) [and I'm going to try to track](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1718) [this group of people here.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1720) [Let's run it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1726) [As you can see, we can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1734) [successfully track the object](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1735) [that we selected.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1738) [Let's look at the more complex](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1746) [example.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1748) [What I want to track here, I](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1750) [want to track this wakeboarder](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1752) [guy, and in this case, I'm going](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1753) [to use my accurate algorithm.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1755) [So, I'm going to select my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1757) [object,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1758) [and I'm going to run it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1763) [As you can see, this object](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1770) [changes pretty much everything](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1771) [about itself, its shape, the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1773) [location, the colors, everything](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1775) [comes.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1777) [We're still able to track it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1777) [I think this is pretty cool.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1779) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1780) [Now, we're going to switch to my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1787) [demo machine and see how the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1788) [actual tracking sequence is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1790) [implemented in this app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1791) [So, I have the Xcode running,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1801) [and I have my headphones](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1802) [connected to it, which is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1803) [running the same app as we just](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1805) [saw.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1807) [I'm going to run it in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1808) [debugger,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1810) [going to select my objects, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1816) [it's not important what I select](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1819) [because we just want to look at](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1820) [the sequence.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1821) [And I'm going to run it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1823) [So, I have a breakpoint set up](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1826) [here and it breaks in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1829) [perform tracking function, which](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1830) [is the most important function](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1832) [of this app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1833) [That's the function that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1834) [implements the actual sequence.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1835) [Let's see what we do here.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1837) [First, we're creating our video](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1840) [reader.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1842) [Then, we are reading first](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1844) [frame, and we're discarding that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1845) [frame because that frame was](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1846) [used to select the objects.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1847) [There's the cancellation flag](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1850) [here.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1851) [Then, I'm going to initialize](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1852) [the collection of my input](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1854) [observations.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1855) [Remember, as we saw an example](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1856) [in the slides.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1857) [Then, I have my bookkeeping to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1861) [be able to display results in a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1862) [graphical user interface, which](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1864) [are kept in the trackedPolyRect](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1866) [type.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1870) [Then, I'm going to run the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1870) [switch on the type, and the type](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1872) [is something that comes from the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1874) [user interface, and in this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1875) [case, we're working with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1876) [objects.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1877) [Now, we selected two objects.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1879) [So, this is the information](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1883) [coming from the user interface.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1884) [We should see these two objects](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1886) [here.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1887) [Okay, there are two of them.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1892) [So, this loop will run two](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1893) [times.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1895) [It will initialize input](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1896) [observations.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1897) [It'll create detected object](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1898) [observation as also shown in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1899) [slides by passing bounding box](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1901) [in.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1904) [And we initialize our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1906) [bookkeeping structures.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1907) [Let's run it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1910) [Let's look at the observation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1918) [object.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1919) [object.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1919) [There are a couple of fields](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1927) [that are important here.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1929) [This is the unique ID that we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1930) [discussed.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1931) [And then it's our bounding box](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1931) [in normalize organize.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1934) [Now, if I run through, I'm going](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1938) [to hit this breakpoint because](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1939) [this case we're not using](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1941) [[inaudible] rectangles.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1943) [This is where I create my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1946) [sequence request handler.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1947) [Now, I have my frame counter,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1949) [I have my flag if something has](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1952) [failed, and I'm finally going to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1955) [start my tracking sequence.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1957) [As you can see, this is an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1959) [infinite loop, and the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1960) [conditions to get out of that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1962) [loop is if the cancellation was](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1963) [requested, or if the movie has](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1964) [ended.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1966) [I'm going to initialize my rect](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1971) [structure to keep the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1974) [information for the graphical](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1976) [user in this interface to be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1977) [displayed later, and I'm going](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1979) [displayed later, and I'm going](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1979) [to start iterating over my input](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1981) [observations, which we have to.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1984) [For each one, I'm going to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1986) [create a track object request.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1987) [I'm going to advance my request](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1995) [to the collection of all](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1996) [requests, and we have to in this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1997) [case.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=1999) [Going to break off the loop, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2002) [finally, I'm ready to process my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2004) [requests.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2006) [Now, if you can see the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2007) [performed request, the perform](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2008) [function accepts a collection of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2009) [requests.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2011) [In the slides, we only used a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2013) [single request to be passed into](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2015) [that collection, but here we're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2017) [going to track two requests at](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2018) [the same time.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2019) [I'm going to perform it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2020) [Now, since the requests are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2024) [performed, I'm going to start](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2026) [looking at the results, and I'm](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2028) [going to do that by looking at](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2029) [the results property of each](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2030) [one.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2034) [So, I'm going to get results](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2035) [property.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2035) [I'm going to get the first](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2036) [object in that property because](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2037) [we expect them, the single one](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2039) [we expect them, the single one](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2039) [in there as an observation.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2040) [What I'm going to do here, I'm](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2043) [going to look at the confidence](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2044) [property of my observation, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2046) [I set an arbitrary threshold to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2048) [0.5.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2050) [So, if it's above the threshold,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2052) [I'm going to paint the bounding](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2053) [box with solid line, and if it's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2055) [below the threshold, I'm going](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2057) [to paint it with a dashed line.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2058) [So, I have, so I can have an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2059) [indication if something is going](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2061) [wrong.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2063) [The rest is simple bookkeeping.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2066) [I'm just going to populate my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2067) [rect structure, and this is the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2070) [last step, which is very](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2072) [important where I take the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2073) [observation from the current](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2074) [iteration, and I assign it for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2076) [the next iteration.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2078) [I'm going to do it a second](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2083) [time.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2084) [I'm going to get to this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2086) [breakpoint.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2087) [Going to display my frame.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2089) [I'm going to sleep for the frame](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2091) [rate in seconds time to simulate](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2093) [the actual movie.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2094) [And then, before you know it,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2096) [you're in the second iteration](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2098) [of your tracking sequence.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2100) [So, let's get back to the slides](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2103) [now.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2105) [Thank you.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2111) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2112) [So, let's look at what's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2118) [important to remember from what](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2119) [we have just seen.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2121) [First, how to initialize initial](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2123) [object for tracking, and we saw](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2125) [two ways.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2128) [There's automatic way, which is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2128) [usually done by running certain](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2130) [detectors and getting bounding](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2131) [boxes out.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2133) [And the second is manual, which](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2134) [usually comes from the user](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2136) [input.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2137) [We also saw that we used a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2152) [single tracking request per](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2154) [tracked object.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2157) [The relationship here is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2158) [one-to-one.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2159) [one-to-one.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2159) [We also saw that there are two](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2163) [types of trackers.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2164) [One is the general purpose](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2165) [tracker, and another one is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2166) [rectangular object tracker.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2168) [We also learned that there are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2172) [two algorithms for each tracker](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2173) [type.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2175) [There is fast and accurate, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2176) [this represents the tradeoff](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2178) [between speed and accuracy.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2180) [And last but not least, we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2181) [looked at how to use a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2184) [confidence level property to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2185) [judge whether we should or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2188) [should not trust our results.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2189) [What are the limits of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2194) [implementing tracking sequence](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2195) [in Vision?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2197) [First, let's talk about number](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2198) [of trackers.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2202) [How many objects can you track](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2205) [simultaneously?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2206) [Well, in Vision we have a limit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2208) [that is set to 16 trackers for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2210) [each type.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2213) [So, you can have 16 general](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2214) [purpose object trackers and 16](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2215) [rectangular object trackers.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2218) [If you try to allocate more,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2220) [you'll get an error back.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2221) [So, if it happens, you probably](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2223) [need to release some of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2226) [trackers that you're already](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2227) [using.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2228) [How to do that?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2229) [First way is you can set a last](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2232) [frame property under request and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2234) [feed that request into the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2236) [request handler for processing.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2238) [That way, the request handler](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2240) [will know that the tracker](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2241) [associated with this request](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2243) [object should be released.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2244) [Another way is to release the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2246) [entire sequence request handler;](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2247) [in this case, all the trackers](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2249) [associated with that request](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2251) [handler will be released.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2252) [Now, let's say you've](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2258) [implemented the tracking](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2259) [signals.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2260) [What are the potential](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2261) [challenges that you may face?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2262) [Well, as you've seen, objects in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2264) [tracking sequence can change](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2266) [pretty much everything about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2267) [themselves.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2269) [They can change their shape,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2270) [appearance, color, location, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2270) [that represents a great](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2273) [challenge for the algorithm.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2274) [So, what can you do here?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2276) [Well, one unfortunate answer is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2278) [Well, one unfortunate answer is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2278) [that there's no one size that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2280) [fits all solution here, but you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2281) [can try a couple of things.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2282) [First, you can play with fast or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2284) [accurate, and you can figure out](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2285) [that your particular use case](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2286) [works better with a particular](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2289) [algorithm.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2290) [If you're in charge of selecting](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2294) [bounding box, try to find a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2296) [select salient object in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2298) [same.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2302) [Which confidence threshold to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2302) [use?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2303) [Again, there is no single answer](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2305) [here.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2306) [You will find that some use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2307) [cases work with certain](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2308) [thresholds while other use cases](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2309) [work with other thresholds.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2310) [There's one more technique that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2314) [I could recommend.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2316) [Let's say you have a long](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2317) [tracking sequence, and for the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2317) [sake of this example, 1,000](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2319) [frames.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2320) [If you start that tracking](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2322) [sequence, your object that you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2323) [selected in the first frame will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2325) [start deviating, and it'll](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2326) [change everything about itself](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2328) [the more you go off of that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2330) [initial frame.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2332) [What you can do instead, you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2334) [break that sequence into smaller](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2335) [subsequences, let's say 50](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2337) [frames each.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2338) [You run your detector, you track](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2339) [You run your detector, you track](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2339) [that object for 50 frames.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2341) [You rerun the detector; you run](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2343) [it again for 50 frames, and you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2345) [keep doing just like that.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2346) [From the end user point of view,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2348) [it'll look like you're tracking](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2350) [a single object.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2352) [But what you do instead, what](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2353) [you do inside instead, you're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2355) [tracking smaller sequences, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2356) [that's a smarter way of running](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2358) [and tracking sequence.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2360) [Let's summarize what we have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2367) [seen today.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2368) [First, we talked about why you'd](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2370) [use Vision, and we talked about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2371) [a multi-platform framework,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2373) [privacy-oriented, which offers](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2375) [simple and consistent interface.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2376) [Second, we talked about what's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2381) [new, and we introduced a new](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2382) [orientation-agnostic face](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2385) [detector.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2386) [We talked also about revisions.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2388) [Then, we talked about how to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2390) [interact with Vision API, and we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2392) [discussed requests, request](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2394) [handlers, and observations.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2396) [And finally, we looked at how to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2398) [And finally, we looked at how to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2398) [implement tracking sequence in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2401) [Vision.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2403) [For more information, I](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2405) [recommend you to refer to this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2406) [link on the slide.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2408) [I can also recommend you to stay](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2410) [for the next session, which will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2412) [be at 3 o'clock in this room](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2413) [where Frank will cover details](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2414) [of integration of Vision and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2416) [CoreML.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2417) [This is especially important if](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2417) [you want to deploy your own](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2419) [models.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2420) [That session will also cover](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2421) [some details about Vision](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2422) [Framework that were not covered](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2424) [by this session.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2425) [And we'll also have Vison Lab](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2427) [tomorrow, which is 3 to 5.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2428) [Thank you and have a great rest](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2431) [of your WWDC.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2433) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/716/?time=2434)