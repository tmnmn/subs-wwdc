WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:34:59.666 --> 00:35:02.469 align:middle line:-1
确保你的app尽快启动

00:35:03.337 --> 00:35:06.540 align:middle line:-2
现在大多数app都必须
在启动时做一些设置工作

00:35:06.840 --> 00:35:09.877 align:middle line:-2
尽管这种工作
对于常规app的启动是必要的

00:35:10.310 --> 00:35:12.913 align:middle line:-2
但当你的app作为
测试运行程序启动时

00:35:12.980 --> 00:35:14.648 align:middle line:-1
很多工作可能是不必要的

00:35:15.249 --> 00:35:19.152 align:middle line:-1
例如加载视图控制器 启动网络请求

00:35:19.219 --> 00:35:21.588 align:middle line:-1
或配置分析包

00:35:21.655 --> 00:35:24.091 align:middle line:-1
这些都是单元测试场景中

00:35:24.157 --> 00:35:25.692 align:middle line:-1
通常不必要的东西

00:35:27.094 --> 00:35:30.898 align:middle line:-1
XCTest在开始运行测试之前

00:35:30.964 --> 00:35:32.699 align:middle line:-1
等待app委托完成启动方法返回

00:35:33.133 --> 00:35:35.302 align:middle line:-2
因此若你分析并注意到
app启动在测试中

00:35:35.369 --> 00:35:37.371 align:middle line:-1
花费了很长时间

00:35:38.071 --> 00:35:41.008 align:middle line:-2
一个技巧就是检测你的app
何时作为测试运行程序启动

00:35:41.074 --> 00:35:42.176 align:middle line:-1
并避免这项工作

00:35:44.111 --> 00:35:49.016 align:middle line:-2
一种方法是指定自定义环境变量
或启动参数

00:35:49.850 --> 00:35:53.353 align:middle line:-2
打开方案编辑器
转到左侧的测试操作

00:35:53.620 --> 00:35:55.155 align:middle line:-1
然后到参数选项卡

00:35:55.355 --> 00:35:58.559 align:middle line:-2
然后添加一个环境变量
或一个启动参数

00:35:59.259 --> 00:36:01.862 align:middle line:-2
在这个屏幕截图中
我添加了一个环境变量

