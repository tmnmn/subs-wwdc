WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:16:58.526 --> 00:17:00.346 A:middle
首先我将

00:17:00.346 --> 00:17:02.216 A:middle
为我的用户展示

00:17:02.216 --> 00:17:04.286 A:middle
他们目前的疫苗接种

00:17:04.286 --> 00:17:05.915 A:middle
并且我将用这个

00:17:05.915 --> 00:17:07.836 A:middle
HKClinicalRecords 来显示名称属性

00:17:08.646 --> 00:17:09.986 A:middle
我已经在我的项目中

00:17:09.986 --> 00:17:11.866 A:middle
添加了健康记录功能

00:17:12.156 --> 00:17:14.516 A:middle
并且我已经创建了一个目标字符串

00:17:14.516 --> 00:17:16.195 A:middle
来告诉我的用户们我要如何

00:17:16.195 --> 00:17:17.596 A:middle
使用他们的免疫接种记录

00:17:18.516 --> 00:17:20.836 A:middle
现在是时候来展示我的仪表板了

00:17:21.816 --> 00:17:22.695 A:middle
所以现在 我正在

00:17:22.695 --> 00:17:24.195 A:middle
ImmunizationsViewController 中

00:17:24.296 --> 00:17:25.256 A:middle
使用这个面板

00:17:25.976 --> 00:17:27.856 A:middle
在 HealthKit 中

00:17:28.006 --> 00:17:29.806 A:middle
每次你的用户进入要用到 HealthKit 的 App

00:17:29.806 --> 00:17:31.486 A:middle
的部分时都要请求权限

00:17:31.486 --> 00:17:33.496 A:middle
是非常好的一个做法

00:17:34.086 --> 00:17:36.526 A:middle
所以对于这个 App 来说

00:17:36.676 --> 00:17:37.456 A:middle
ViewWillAppear 是个很棒的地方

00:17:38.836 --> 00:17:43.156 A:middle
在这里 首先我需要说明

00:17:43.956 --> 00:17:44.776 A:middle
我对于免疫记录样本

00:17:44.776 --> 00:17:46.256 A:middle
很感兴趣

00:17:46.886 --> 00:17:50.816 A:middle
接下来 调用我的

00:17:50.816 --> 00:17:52.306 A:middle
健康中心的 requestAuthorization 方法

00:17:53.356 --> 00:17:54.786 A:middle
在回调中 我将检查是否成功

00:17:54.786 --> 00:17:56.906 A:middle
并且恰当地

00:17:56.906 --> 00:17:57.846 A:middle
去处理错误

00:17:59.196 --> 00:18:01.476 A:middle
最终 一旦我未经授权

