WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:09:00.040 --> 00:09:03.544 align:start position:30% line:-2
JWT署名ライブラリに
パスされると

00:09:03.644 --> 00:09:08.382 align:start position:23% line:-2
MapKit JSが使用可能な
JWTトークンが出力されます

00:09:08.515 --> 00:09:12.619 align:start position:29% line:-2
短期トークンの有効期限が
セッション中に切れた時は

00:09:12.719 --> 00:09:18.492 align:start position:21% line:-2
サーバーはMapKit JSへの
エンドポイントの提供が必要です

00:09:18.826 --> 00:09:23.230 align:start position:29% line:-2
エンドポイント認識方法は
後ほど示すとして

00:09:23.330 --> 00:09:28.101 align:start position:23% line:-2
エクスプレスJSルートの
エンドポイント例をお見せします

00:09:28.502 --> 00:09:32.239 align:start position:34% line:-2
このルートは
呼び出されるたびに

00:09:32.339 --> 00:09:36.677 align:start position:25% line:-2
30分後に期限が切れる新しい
アクセストークンを返します

00:09:36.844 --> 00:09:41.248 align:start position:25% line:-2
トークンの期限にかかわらず
セッション中に認証が必要なら

00:09:41.348 --> 00:09:45.252 align:start position:25% line:-2
MapKit JSが この
エンドポイントを呼び出します

00:09:46.687 --> 00:09:50.657 align:start position:30% line:-2
呼び出されるたびに
新規トークンを返すため

00:09:50.757 --> 00:09:53.594 align:start position:30% line:-2
ブラウザのキャッシュを
止めましょう

00:09:53.760 --> 00:09:57.130 align:start position:23% line:-2
キャッシュコントロールヘッダで
設定できます

00:09:57.698 --> 00:10:03.337 align:start position:27% line:-2
サーバー上に このような
トークンのルートが現れます

