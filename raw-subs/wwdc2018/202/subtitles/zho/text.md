# What's New in Cocoa Touch

## Summary
iOS 12 enhances the Cocoa Touch frameworks to improve app performance and deliver exciting new features. Learn about performance best practices, security improvements, tools for supporting multiple screen sizes and shapes, new APIs for iMessage apps, Siri Shortcuts, and Swift refinements. Find out which sessions you won't want to miss throughout the week.

## Info
* Frameworks
* WWDC 2018 - Session 202 - iOS
* https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/

## Text
 [[ 音乐 ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=6) [[ 掌声 ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=18) [&gt;&gt; 早上好](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=24) [感谢你们今天](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=26) [来到这里了解](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=28) [Cocoa Touch 的新功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=30) [一般情况下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=33) [Eliza 之后会上台讲解](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=34) [不过今年](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=35) [只有我为大家进行讲解](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=37) [她在未来的几年里会回来的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=39) [别担心](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=41) [今天我们主要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=43) [从三个类别](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=44) [进行讨论](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=46) [首先是框架更新](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=47) [比如性能和安全](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=50) [然后是在 SDK（软件开发包）中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=52) [不同 API 的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=56) [API 功能增强](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=57) [API 功能增强](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=57) [包括通知和信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=60) [最后是 Siri 捷径](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=62) [那我们开始](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=65) [第一个话题性能更新](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=67) [我们要讨论](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=71) [三个领域的性能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=72) [滚动 内存和自动布局](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=74) [开始之前](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=79) [很重要的是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=81) [记住一点关于滚动的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=83) [背景信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=84) [iOS 里的滚动](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=87) [大多遵从一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=90) [固定模式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=91) [我们加载内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=92) [显示在视图里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=94) [然后移动这些内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=96) [当我们滑动的时候](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=98) [大多数帧](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=99) [都很容易生成](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=101) [因为我们不用加载任何](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=103) [新的东西](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=104) [但是偶尔](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=105) [当打开一个新的视图时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=107) [第一帧相对于其他](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=109) [容易生成的帧](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=113) [生成更高耗](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=114) [当然一旦第一帧生成](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=116) [当然一旦第一帧生成](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=116) [我们再滑动内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=120) [这时 CPU 的工作量

00:02:03.696 --> 00:02:05.236 A:middle
又变小了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=122) [和一般滑动差不多](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=125) [为什么那个第一帧](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=127) [会比别的帧更高耗](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=131) [让我们从 UITableView 的角度看一下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=134) [但其实这个和 UICollectionView](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=138) [或者其他相似的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=142) [自定义视图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=143) [都是一样的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=144) [这一帧的工作](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=145) [开始于当你](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=148) [在 TableView 执行](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=150) [cellForRowAt IndexPath](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=152) [的委托方法时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=153) [首先选择想显示的 Cell](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=154) [我们要试着让它](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=159) [从重复使用序列中脱离出来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=160) [如果它本身不在序列中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=164) [我们需要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=165) [做一些内存分配](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=166) [来做好准备](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=168) [有了 Cell 之后 我们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=171) [会用你的模型数据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=172) [来填充这个 Cell](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=173) [这一步有多高耗](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=174) [取决于你的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=176) [但可能包含很多](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=179) [但可能包含很多](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=179) [高耗的操作](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=181) [比如读取文件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=182) [从数据库加载数据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=185) [或其他类似的事情](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=186) [所以你应该](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=187) [看一下你的 App 里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=189) [在这一方面的消耗](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=190) [一般来说很大一部分](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=193) [会在这里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=194) [看到这里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=197) [你可能以为](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=198) [高耗工作就此结束](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=199) [但是当你从这个方法返回](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=201) [为了让 Cell](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=203) [显示在屏幕上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=204) [其实有更多的工作要做](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=205) [所以 接下来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=208) [我们要把所有内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=209) [布局到 Cell 中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=211) [我们要调整视图大小](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=212) [并把它们放到正确的位置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=213) [这一步可能会](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=216) [消耗我们的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=217) [很多时间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=218) [因为它包含一些](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=219) [其他的高耗操作](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=221) [比如 测量文本](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=223) [当大小和位置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=225) [都调整好之后](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=226) [就要使用绘制命令](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=228) [来生成所有](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=230) [需要被绘制的内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=232) [我们要调用这个 Cell 里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=234) [所有的子视图的 draw Rect](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=235) [重申一下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=238) [这一步可能很费时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=239) [这一步可能很费时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=239) [因为我们需要做](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=241) [像绘制文本这样的工作](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=243) [总体而言 在整个代码中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=245) [有很多要做的工作](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=248) [而且都需要在短时间里完成](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=251) [在我们 60 赫兹的设备上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=254) [你只有 16 毫秒](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=255) [来完成所有的工作](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=257) [确保不会丢帧](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=259) [并流畅滑动](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=260) [在 120 赫兹的 iPad](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=263) [iPad Pro 上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=265) [你只有 8 毫秒来完成所有工作](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=267) [所以真的是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=270) [越快越好](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=271) [为此在 iOS 10 里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=274) [我们引入了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=276) [Cell 预读取 API](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=277) [这个预读取 API](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=280) [就是帮助做一些工作](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=282) [用模型数据生成 Cell](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=283) [并把需要在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=285) [短时间里做到的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=287) [这个部分的内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=288) [更早地开始](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=290) [并在后台线程做](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=292) [这样可以和其他工作](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=293) [异步进行](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=295) [尤其是我们提到过的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=297) [低耗滚动帧](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=298) [采用这个 API](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=300) [很容易 只是一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=302) [UITableViewDataSourcePrefetching](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=303) [protocol](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=304) [只有两个方法](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=306) [其实只有其中一个是必须的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=308) [主要目的是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=310) [把一些高耗工作](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=312) [例如从文件中加载内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=313) [或者读取数据库 放在这里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=314) [这样你就不用主动操作了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=317) [当你的 Cell 要显示时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=319) [你的数据已经准备就绪](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=321) [大多数情况下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=323) [它都很有帮助](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=328) [但在一些运行 iOS 12 的 App 里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=331) [我们发现](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=334) [它造成了一些问题 而不是提供帮助](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=336) [让我们来看一看](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=339) [是什么情况](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=340) [这个例子是 我们记录的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=343) [在 iPhone 6 Plus 上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=345) [滑动的情况](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=347) [上面的竖线](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=349) [代表我们希望](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=351) [显示的帧](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=353) [下面交替的深蓝和浅蓝](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=355) [代表我们为了让](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=356) [显示变化而](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=358) [替换的帧](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=359) [替换的帧](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=359) [那个两格的浅蓝色区域](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=361) [就表示 我们在两帧时间中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=363) [绘制了同一帧](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=368) [在个性化定制的设备上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=369) [一但这种情况发生](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=371) [看起来就像丢帧](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=372) [或者滚动故障](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=374) [这当然是我们试图避免的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=375) [那么到底发生什么了呢](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=378) [这个红色部分](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=380) [表示我们花费在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=382) [刚刚提到的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=383) [临界区域上的时间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=384) [所有的索引路径 布局和绘制](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=386) [绘制这一帧](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=390) [实际花费时间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=391) [比 16 毫秒要长](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=393) [因为这个设备](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=394) [只能在固定时间内](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=396) [把新的一帧替换到屏幕上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=399) [一旦错过截止时间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=401) [我们只能把同一帧](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=403) [显示两帧的时长](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=405) [这可不太好](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=406) [为什么会这样呢](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=408) [在这个例子中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=409) [我们已经安装了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=410) [Cell 预读取方法](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=412) [因此我们的数据应该](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=413) [已经准备好了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=415) [理想状态下 这一步应该](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=415) [完成得更快才对](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=416) [如果我们再仔细](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=418) [看一下这个记录](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=419) [看一下这个记录](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=419) [就会发现问题所在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=420) [这个 Cell 预读取 API 和请求](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=421) [当前 Cell 的指令](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=425) [同时被调用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=426) [调用的数据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=428) [不是为了现有 Cell 的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=429) [而是为了之后可能需要的 Cell](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=430) [但是它们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=432) [被同时运行](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=434) [所以现在 CPU 出现了冲突](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=435) [是加载当前帧](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=439) [还是加载现在并不需要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=441) [但以后需要的帧](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=443) [因为这个冲突](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=445) [两个任务都会花费更多时间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=447) [在 iOS 12 里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=450) [我们在安排](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=453) [这些后台预读取操作时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=455) [更加智能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=457) [这两个步骤会接连发生](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=459) [而不是同时发生](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=460) [并产生冲突](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=462) [这可以缩短](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=464) [加载当前帧的时间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=465) [并且防止丢帧的出现](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=467) [[ 掌声 ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=472) [这个问题解决之后](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=476) [我们继续测试 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=478) [我们继续测试 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=478) [会发现另外一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=480) [比较意外的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=481) [引起丢帧的问题](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=482) [我们发现 当设备没有在加载](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=485) [没有任何后台活动时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=489) [我们只是在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=490) [前台 App 滑动](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=492) [奇怪的是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=494) [这时可能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=495) [比起后台有少量工作时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=498) [丢失的帧更多](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=499) [看起来并不合理](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=502) [为了弄清这个问题](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=504) [我们要再深挖一层](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=505) [看一下 CPU 安排工作负荷时的行为](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=507) [让我看一下另一个记录](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=513) [这里有同样的问题](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=516) [双格蓝色部分](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=518) [让我们丢失一帧 或者就是丢失帧](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=519) [这个表格显示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=523) [时段里 CPU 的性能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=525) [大部分低耗帧时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=527) [CPU 性能都维持在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=529) [比较低的水平](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=530) [没有后台任务运行](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=532) [我们只是在单纯的滚动](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=533) [这正是我们希望的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=535) [因为当我们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=536) [不在做高耗工作时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=538) [我们希望尽量](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=539) [我们希望尽量](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=539) [让 CPU 保持在低水平来节省电量](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=541) [这很好 但不太好的是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=545) [在性能提升前需要一点时间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=548) [昨天的演讲中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=551) [也提到过这个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=552) [等性能提升后](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=554) [再加载我们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=557) [想显示的 Cell](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=558) [已经太晚了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=560) [所以还是丢失了这一帧](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=561) [现在 因为我们拥有](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=564) [整个软件栈](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=566) [在 iOS 12 里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=567) [我们把在高级别 UIKit 框架里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=569) [滚动时或当临界区域发生时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=573) [的所有信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=576) [传递到低级别 CPU 性能控制器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=578) [这样就可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=581) [更智能地分析](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=583) [现有任务](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=585) [并预测这些高峰何时出现](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=586) [以及需要多少 CPU 性能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=590) [来赶上你 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=592) [历史需求的截止时间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=593) [经过这个改变](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=596) [当加载开始](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=598) [当加载开始](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=598) [我们就可以发现](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=600) [我们更频繁更快地](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=602) [让 CPU 提升到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=603) [需要的程度](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=605) [来赶上截止时间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=607) [以防丢帧出现](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=608) [这一改变让很多 iOS 的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=612) [滚动场景](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=614) [得到了极大提升](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=616) [你所有的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=620) [都可以免费得到提升](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=624) [而且你不需要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=627) [进行任何更多操作](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=628) [但是还有几件事情](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=630) [你可以做 来确保](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=631) [你充分利用了这些特性](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=632) [首先如果你还没有采用这个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=634) [tableView Cell 预读取 API](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=637) [或者 CollectionView 的 API](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=639) [一定要先做这个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=640) [因为预先准备好数据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=642) [是能确保尽快](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=643) [加载 Cell 的重要步骤](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=644) [当然 分析](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=647) [加载 Cell 的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=650) [整个临界区域](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=651) [并尽量减少需求](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=653) [也是很重要的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=655) [iOS 12 会尽力](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=656) [让 CPU 性能在此期间匹配](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=658) [让 CPU 性能在此期间匹配](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=658) [你的 App 的需求](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=660) [但是你最应该做的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=661) [就是保持](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=663) [减少所需的工作量](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=664) [以确保给你的客户带来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=666) [流畅的滚动体验](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=669) [这就是 iOS 12 里的滚动部分](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=671) [接下来让我们关注](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=674) [下一个性能话题内存](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=676) [你也许会想](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=679) [为什么内存会成为](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=681) [性能讨论中的话题](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=682) [但是我保证](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=683) [这其实很必要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=685) [实际上是因为内存](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=686) [就相当于性能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=690) [你的 App 使用的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=692) [内存越多](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=694) [对 App 性能的影响越大](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=696) [要理解这一点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=699) [让我们在较高层面](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=701) [来看一下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=703) [通常情况下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=705) [系统内存是什么样的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=706) [你可以看到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=709) [系统的内存](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=710) [很大部分被其他 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=712) [和系统本身占用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=714) [你的 App 现在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=716) [占用了一部分](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=717) [还有一部分](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=718) [空闲出来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=719) [空闲出来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=719) [应对新的分配请求](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=722) [其实那里的很大一部分](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=724) [都不是真正空闲的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=725) [它包含很多东西](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=727) [比如缓存 或者其他](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=728) [很快可以被丢弃的内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=731) [以确保内存](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=732) [可以很快满足需求](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=733) [但是一般而言](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=735) [它可能正在被占用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=737) [但随时可用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=739) [让我们看一下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=742) [当你的 App 需要内存时会发生什么](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=743) [如果你只提出较少的需求](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=745) [是现有的空闲空间就可以满足的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=749) [如果是这样的话](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=752) [很快就能返回到你的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=753) [然后你就可以继续](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=755) [你的工作](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=756) [但是如果](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=759) [你的 App 提出了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=760) [较大的需求](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=762) [可能并不需要占用很久](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=764) [所以你也觉得不用担心](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=765) [也许你只是需要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=768) [从磁盘里加载一个图像并解压](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=769) [在一些像素上做简单处理](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=772) [然后就可以丢弃](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=774) [看起来只是一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=775) [不需要操心的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=776) [很快速的操作](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=777) [我们如果](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=779) [我们如果](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=779) [提出这个需求](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=780) [需要的内存大于](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=782) [现在系统可提供的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=784) [系统无法立刻满足](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=786) [那么 我们需要从别的地方](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=789) [得到这些内存](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=790) [最可能获取的地方](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=792) [就是别的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=793) [或者系统内部](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=795) [你可能并不怎么担心](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=798) [因为你只是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=800) [为你的 App 申请更多内存](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=801) [所以并不关注](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=802) [别的地方发生了什么](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=803) [但实际上这会影响](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=805) [你的客户接下来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=809) [会遇到的事情](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=810) [更此刻重要的是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=812) [它也会对你的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=813) [产生影响](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=815) [因为系统需要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=817) [为你获取这些内存](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=819) [因为内存现在无法提供](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=821) [所以内核需要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=822) [从别处获取](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=824) [并运作 CPU](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=826) [来满足需求](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=829) [而为此花费的时间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=830) [其实可以更好的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=833) [花在你的 App 上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=834) [所以找到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=837) [分解这些大块需求](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=838) [分解这些大块需求](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=838) [或者减少整体需求高峰](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=840) [的方法 实际上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=841) [对提升你的 App 的性能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=843) [以及客户接下来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=845) [使用其他 App 的体验](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=847) [都有很大影响](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=848) [有很多方法](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=852) [可以减少 APP 内存使用量](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=854) [其中一个很好的方法](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=857) [就是用 profile 和 instruments](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=859) [不过今天上午](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=860) [我们要了解一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=861) [iOS 12 里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=863) [帮助减少 App 使用内存的新技术](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=865) [这就是 Automatic Backing Stores](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=869) [打个比方](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=871) [我们要在 iPhone X 里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=872) [让这个土拨鼠变成肖像模式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=874) [这会是多大呢？](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=877) [iPhone X 的肖像模式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=879) [宽 375 点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=881) [为保持相同比例](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=883) [就是 250 点高](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=885) [这样会占用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=886) [多少内存呢](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=888) [375 乘 250 乘 @3x](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=889) [再乘上 64 位每像素](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=894) [因为这是一个色深设备](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=896) [等于 2.2 M](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=898) [等于 2.2 M](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=898) [这是绘制一只土拨鼠需要的内存量](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=900) [这个数据看起来很合理](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=902) [这是当内存](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=903) [很好地配置时的情况](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=905) [我们想要保留这个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=907) [保真度很好的图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=908) [这就是把图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=910) [放在缓存里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=911) [所需要的内存量](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=913) [这是在预料之中的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=914) [但是如果我们要绘制一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=916) [低保真度版本的土拨鼠](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=920) [比如用 Apple Pencil 和 iPad](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=921) [绘制出的黑白色的简单图形](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=923) [就像这样](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=928) [这个低保真度版本的土拨鼠](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=930) [又需要占用多少内存呢](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=932) [其实占用的内存量](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=935) [是一样多的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=937) [这显然没有](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=939) [很好的利用内存](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=941) [全都是灰度图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=942) [所有的色深信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=943) [在这个图像中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=945) [都没有被使用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=947) [我们希望找到更好的方法](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=949) [而 iOS 12 中引入的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=950) [Automatic Backing Store 上支持](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=953) [正好做到了这一点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=954) [所有安装了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=958) [所有安装了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=958) [draw Rect 的视图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=960) [它们的 Backing Stores](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=962) [都会由被写入内容的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=964) [深度来决定](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=966) [因此 当我们用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=967) [Core Graphics 来绘制](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=968) [只有灰度的内容时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=969) [会自动使用 8 位的 Backing Stores](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=971) [而不是 64 位的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=975) [对内存的需求量](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=977) [成量级减少](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=979) [从 2.2 M 降低成 275 K](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=981) [这对于很多 App 来说](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=986) [都是很大的改进](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=988) [对于你们的 App 和我们的都是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=989) [[ 掌声 ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=991) [用 iOS 12 SDK](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=996) [创建的所有 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=998) [都可以采用 Automatic Backing Stores](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1000) [所有在 UIView 上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1002) [安装了 draw Rect 的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1004) [都会自动采用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1006) [用 UIGraphicsImageRenderer](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1008) [绘制到离屏位图的内容也一样](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1009) [用 UIGraphicsImageRenderer 时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1013) [我们并不知道](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1014) [你打算把你获取的图片](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1015) [用来做什么](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1018) [用来做什么](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1018) [所以 如果你知道](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1020) [这个自动行为](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1022) [并不是你想要的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1023) [你可以在 ImageRenderer](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1025) [制定某个你想要的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1027) [特定的 Backing Stores 模式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1029) [比如用 newRange API](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1030) [来定制你想要的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1032) [扩充域图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1033) [更多关于这个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1035) [和其他有关 UI Image 的技术](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1038) [你可以在这周的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1040) [图像和图形的最佳实践会议中了解到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1042) [这就是关于性能的第二个主题](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1044) [接下来 让我们聊一聊自动布局](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1048) [现在 iOS 10 中的自动布局](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1051) [有一些很大的进步](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1054) [我们团队很努力地](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1056) [为你的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1057) [尽可能优化自动布局](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1060) [所以你会发现](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1062) [自动布局在 iOS 12 中默认更快了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1064) [我们会讲到在好几种情况下都是这样的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1067) [当团队在分析和优化](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1069) [自动布局时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1072) [他们在系统中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1073) [看了很多我们自己的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1074) [如何使用自动布局的情况](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1076) [然后发现了一些](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1077) [不同的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1079) [不同的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1079) [可能遇到的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1080) [比较普遍的陷阱](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1082) [所以我们会](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1084) [向你们展示一些简单的方法](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1085) [让你们可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1086) [优化你们的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1088) [今天 让我们先了解一下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1090) [自动布局在 iOS 12 中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1091) [怎样能做到更快](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1093) [我们首先要知道](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1096) [当我们在普遍用户场景中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1098) [添加更多视图时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1100) [自动布局的渐近行为](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1103) [这样做的原因是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1105) [讨论渐近性](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1106) [是想了解](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1108) [如果我们大量增加视图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1109) [会发生什么](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1111) [如果我们一下增加](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1112) [非常多的视图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1113) [可以很快地让](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1115) [性能问题显现](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1117) [这样可以帮助我们看清楚](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1118) [这次优化](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1120) [即使对少量视窗](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1121) [也有提速作用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1123) [让我们从普通模式开始](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1125) [最简单的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1126) [一个容器里的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1128) [Independent Sibling Views](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1130) [这些视图的位置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1133) [受到容器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1134) [或者其他视图的约束](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1135) [但彼此之间并没有约束](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1137) [它们相互独立](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1138) [在 iOS 11 里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1140) [添加这些 Independent Siblings 的成本](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1142) [线性上升](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1146) [这很棒](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1147) [这应该正是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1148) [你所预料到的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1150) [也就是说](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1152) [每添加一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1153) [独立于其他视图的层级的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1155) [新的视图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1157) [增加的成本](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1158) [都是固定的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1159) [因为这已经](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1162) [和我们期待的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1163) [增长指数一样](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1164) [所以在 iOS 12 里依旧如此](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1166) [但是我们的团队很努力地](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1169) [想减少这个固定成本](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1170) [希望使添加视图变得](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1173) [更加容易](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1175) [让我们来看一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1177) [更有趣的例子](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1178) [这次让我们看一下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1179) [Dependent Siblings](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1182) [这里有好几个子视图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1183) [它们彼此之间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1186) [相互约束](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1187) [他们的布局相互影响](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1189) [在 iOS 11 里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1192) [渐近性的表现](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1194) [并不很好](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1196) [实际上是以指数级增长的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1198) [实际上是以指数级增长的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1198) [随着视图的增加](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1200) [添加新的视图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1203) [会使成本大幅度增加](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1204) [我们团队](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1207) [努力地识别出](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1209) [这一指数级增长的原因](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1210) [并修正了算法](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1212) [解决这一问题](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1214) [在 iOS 12 中它们也以线性增长了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1215) [[ 掌声 ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1218) [同时 我们团队](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1223) [也在努力的减少](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1224) [这些固定成本](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1225) [现在除了 Dependent Siblings](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1229) [还有一种其他的布局类型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1231) [Nested Views](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1232) [当一个视图在另一个视图里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1234) [并且被外面的视图所限制](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1235) [这是你的 App 里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1238) [一个很常见的模式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1239) [然而在 iOS 11 里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1241) [我们遇到相同的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1242) [指数级增长](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1244) [又一个好消息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1245) [在 iOS 12 里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1247) [这个也变成线性的了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1248) [[ 掌声 ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1250) [iOS 12 的自动布局](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1255) [有很多改进](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1256) [你只要用 iOS 12](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1258) [你只要用 iOS 12](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1258) [运行你的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1260) [就能发现这些](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1261) [改进的地方](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1262) [如果想获取更多内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1264) [想了解更多](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1266) [获得更好的直觉](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1268) [了解关于不同布局的性能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1271) [以及一些](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1273) [我刚才提到的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1275) [普遍的陷阱](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1276) [请一定关注](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1278) [这周晚些时候的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1279) [高性能自动布局会议](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1281) [最后的主题是框架更新](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1283) [让我们了解一下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1286) [Swiftification

00:21:29.676 --> 00:21:32.906 A:middle
你应该听说了 iOS 12 引入了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1288) [Swift 4.2](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1292) [在 Swift 4.2 里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1294) [我们希望确保](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1296) [UIKit 在你的 App 里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1298) [用 Swift 时能有很好的体验](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1300) [尤其是当它和](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1303) [其他 Swift Standard Library](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1304) [或者和 Swift 有相同模式的地方互动时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1305) [所以我们测试了所有的 UIKit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1309) [并确保一切](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1311) [都很合适](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1313) [而且 我们还让](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1315) [我们对 UIKit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1316) [做出的改变](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1318) [做出的改变](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1318) [都能够自动迁移](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1320) [这样你不用做任何更多的操作](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1321) [就能得到这些更新](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1323) [有关这些更新](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1325) [我们今天上午主要讨论](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1327) [三个方面](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1328) [其实如果你看一下 SDK](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1330) [就会发现](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1331) [有非常多一致性的改进](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1333) [但是今天我们只讨论](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1336) [嵌套类型 常量和函数](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1337) [首先是嵌套类型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1339) [在 Swift 4 中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1343) [全局命名空间中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1345) [有很多不同类型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1346) [比如 UIApplicationState](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1348) [像这样跟其他的类](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1350) [有很强的联系的类型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1352) [我们让它们直接](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1355) [嵌套进这一类](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1357) [所以现在所有的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1358) [枚举和其他](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1359) [这类的全局类型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1362) [现在变成了相关类的子类型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1363) [现在变成了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1366) [UIApplication.State](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1367) [这样更清晰地](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1369) [表明两者之间的关系](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1371) [并且让它们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1372) [更容易找到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1374) [很多情况下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1376) [这样可以帮助理解](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1377) [这样可以帮助理解](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1377) [减少混淆](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1380) [让我们看一下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1382) [UITabBarItemPositioning](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1383) [你觉得这应该是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1385) [UITabBar ItemPositioning](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1386) [还是 UITabBarItem Positioning](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1389) [两者都有可能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1390) [两个类都是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1392) [在 Swift 4.2 里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1394) [现在变得非常清楚](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1396) [实际是 UITabBar ItemPositioning](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1397) [除了嵌套类型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1400) [我们还嵌套了很多常量](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1403) [在 Swift 4 里

00:23:27.486 --> 00:23:29.926 A:middle
NSNotifications](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1406) [都在 NSNotification.Name 的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1409) [全局命名空间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1410) [他们相关的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1413) [UserInfoKey](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1414) [其实只是在外面的全局常量](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1415) [为了和 AppKit 保持一致](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1418) [更容易找到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1419) [并且把这些类型联系在一起](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1421) [它们现在都被](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1422) [嵌套在他们使用的类之下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1424) [所以 didChangeStatusBarOrientation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1426) [现在是在 UIApplication 下的 didChange](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1429) [StatusBarOrientationNotification](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1431) [它的 UserInfoKey](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1432) [和它在一块儿](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1434) [位于相同位置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1435) [我们检查了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1437) [所有其他 UIKit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1439) [所有其他 UIKit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1439) [里的全局常量](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1441) [并把它们嵌套在该有的位置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1443) [所以像 UIFloatRangeZero](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1445) [和 UIFloatRangeInfinite](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1446) [现在都变成](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1448) [UIFloatRange 的属性](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1450) [这样就更容易找到和使用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1452) [在需要 UIFloatRange 的地方](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1455) [你可以输入](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1456) [.zero 或者 .infinite](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1458) [因为它们现在是属性了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1460) [Xcode 可以帮你](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1461) [自动完成](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1463) [放置在应该的位置上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1464) [除了常量](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1467) [我们也测试了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1469) [所有的全局函数](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1470) [UIEdgeInserts](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1471) [和 UIImage](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1472) [为了在不同的类型上运行](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1476) [有一些全局函数](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1477) [在 Swift 4.2 里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1478) [这些变成了类型的方法](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1480) [所以现在要 insetRect](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1484) [或者从图像里提取](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1486) [pngData 都可以很容易](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1488) [[ 掌声 ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1492) [接下来 今天上午还有](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1497) [我还想要聊一聊](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1499) [我还想要聊一聊](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1499) [另外一大类函数](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1500) [就是所有的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1501) [String Conversion 函数](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1502) [UIKit 里面的所有类型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1503) [CGPoint CGRect CGSize CGVector](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1505) [所有的这些](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1507) [有很多 既可以是转换到字符串](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1509) [也可以反过来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1511) [当我们想决定](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1512) [它们应该放在哪里时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1514) [就会发现](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1515) [它们其实有两种用途](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1516) [一个是编码和解码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1519) [另一个是它们总用来 print](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1521) [当你想得到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1524) [debug 描述时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1525) [这两个用途很不一样](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1526) [但其实 Swift 对](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1528) [这两种用途 都有一级支持](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1530) [我们现在可以确保](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1533) [所有的类型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1534) [和 Swift 的内置支持](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1536) [都可以和谐共处](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1537) [在 Swift 4.2 里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1538) [所有的类型都变得可编码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1540) [这样你可以很容易的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1542) [给这些类型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1544) [编码和解码 JSON](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1546) [[ 掌声 ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1548) [在 Swift 里 debug printing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1554) [其实比在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1555) [Objective-C 更容易](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1556) [因为你不需要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1558) [因为你不需要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1558) [其他额外转换](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1560) [这些类型的内省](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1561) [可以让你直接 print 它们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1563) [在 Swift 4.2 里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1565) [你可以直接把这些类型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1566) [传输到 print 函数](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1567) [如果你希望为了 debug 把它们 print 出来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1569) [或者 log 它们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1570) [最后如果你已经有一个代码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1572) [用的是旧的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1575) [string conversion 函数](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1577) [并且需要一个兼容函数](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1578) [来继续进行](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1580) [我们已经](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1583) [把它们都重命名](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1584) [并变成 NSCoder 里的属性](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1585) [这可以帮助](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1588) [用来强调这些方法](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1589) [的目的是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1590) [编码和解码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1592) [这样把它们放过去就很自然](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1594) [这只是一部分](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1597) [你会在 iOS 12](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1599) [Swift 4.2 的 SDK 里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1600) [发现改进的地方](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1603) [但其实还有更多](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1606) [说到编码和解码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1609) [NSSecureCoding](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1611) [在 iOS 12 里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1615) [有新的默认安全](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1617) [编码解码 API](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1619) [为所有在 NSKeyedArchiver 上的编码需求](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1621) [采用 NSSecureCoding](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1622) [是非常重要的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1624) [以防止你的客户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1627) [受到恶意和损坏数据的影响](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1628) [你会发现](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1632) [旧的不安全的 API 没有被弃用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1633) [更多的内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1636) [以及相关细节](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1638) [你可以在周四 9 点的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1640) [可信任的数据会议了解到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1641) [这就是关于框架更新的内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1643) [下面 让我们了解一下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1646) [对一些现有 API 的增强](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1648) [首先是通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1652) [在 iOS 12 里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1654) [通知有很多新的改进](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1656) [但是今天](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1657) [我们主要关注三点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1659) [自定义通知内的交互](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1661) [通知分组](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1662) [和在你的 App 里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1664) [如何访问](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1666) [通知设置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1667) [首先是交互](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1670) [现在个性化通知允许你](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1672) [为通知定义一组预先行为](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1676) [为通知定义一组预先行为](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1676) [在 iOS 12 里 这些行为](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1681) [不再是静态的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1683) [它可以以编程方式定义](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1685) [你也可以在运行时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1685) [改变它们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1687) [除了这些行为](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1689) [更棒的是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1692) [通知本身也可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1693) [变成交互的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1696) [比如说这里信息允许你](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1698) [直接在通知中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1701) [快速进行回复](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1703) [除了交互](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1708) [iOS 12 还可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1709) [默认通知分组](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1712) [这个默认行为](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1713) [可以把某个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1714) [特定 App 的通知分为一组](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1716) [当然你的 App 可能需要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1719) [更细化的分组](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1722) [比如 iMessage](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1724) [可以把某一个对话的信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1726) [分为一组](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1727) [和别的从同一 App 来的通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1729) [分离开来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1730) [现在你的 App 也可以这样](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1733) [你只要用一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1734) [特定的 thread identifier](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1736) [来标记你的通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1738) [来标记你的通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1738) [那么那个 thread identifier](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1740) [下的所有通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1741) [都会成为单独一组](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1743) [iOS 12 里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1745) [通知的 UI 更新](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1748) [也能够让用户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1750) [个性化设置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1753) [通知的推送](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1756) [当然你的 App 可能也包含](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1758) [一些对通知管理的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1761) [更细化的控制](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1762) [iOS 12 有一个新的 API](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1766) [能够让你的用户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1768) [直接进入到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1769) [通知设置 UI](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1771) [这正是他们想寻找的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1773) [细化控制的地方](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1775) [你可以了解更多](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1777) [关于通知的内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1779) [在通知的新功能会议](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1781) [和使用分组通知会议](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1783) [它们会在这周晚些时候](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1785) [这就是关于通知的内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1786) [下面是信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1789) [iOS 12 里的信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1792) [加入了一些很有意思的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1794) [相机的新特点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1796) [你也可以把](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1798) [iMessage 里的表情包](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1799) [iMessage 里的表情包](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1799) [直接导入相机](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1801) [如果你在用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1802) [Xcode 表情包模板](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1804) [这会默认自动发生](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1805) [你不用再做什么](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1807) [但是如果你想用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1808) [MSMessagesAppView 控制器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1811) [创建一个更加个性化的表情包体验](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1814) [就需要做一些

00:30:17.726 --> 00:30:18.846 A:middle
简单的调试](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1815) [有一个新的 API](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1818) [MSMessagesSupportedPresentationContexts](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1821) [你可以添加到你的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1822) [用户 info.plist](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1825) [指定同时在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1827) [信息语境和](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1828) [媒体语境显示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1830) [完成之后](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1832) [你的 App 会显示在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1833) [AppStrip 和相机里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1834) [如果在运行时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1839) [你想要知道](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1840) [你在哪个语境下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1841) [以便你能够定制](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1843) [你的表情包](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1845) [有一个新的 API 可以做到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1846) [通过查看](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1848) [PresentationContext](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1851) [你可以很快知道你在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1852) [信息还是相机](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1855) [除了这些](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1856) [iOS 12 还给信息 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1857) [iOS 12 还给信息 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1857) [新的交互方式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1861) [在紧凑模式下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1862) [之前把信息 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1865) [水平往下滑](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1867) [就会在 App 间切换](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1869) [在 iOS 12](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1870) [这些水平滑动](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1873) [以及水平移动的互动](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1874) [可以直接](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1875) [在你的 App 里使用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1877) [所以就会和你的 App 互动](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1879) [而不是换成其他 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1880) [这就是关于信息的内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1883) [接下来是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1885) [自动填入密码和安全码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1887) [iOS 11 首先引入](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1890) [为 App 自动填入密码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1894) [在 iOS 12 里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1899) [我们又进了一步](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1900) [让我们暂时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1902) [先回到开头](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1905) [看一下整个体验](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1906) [如果用户把密码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1909) [储存在 iCloud Keychain](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1911) [从 iOS 11 开始](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1914) [这些密码就可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1915) [自动填入到你的 App 的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1916) [登录流程](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1918) [在 iOS 12 里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1920) [这些密码可以通过两种形式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1922) [储存到 iCloud Keychain](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1924) [从登录窗口流程](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1926) [和改变密码请求 UI](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1929) [都可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1930) [当用户登录后](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1933) [会弹出提示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1934) [储存密码到 iCloud Keychain](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1936) [在 iOS 12 里可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1938) [在新帐户流程](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1940) [和改密码流程](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1942) [自动生成密码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1945) [这个很容易采用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1946) [你只需要确保](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1948) [你的密码字段标记了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1949) [要么是密码文本内容类型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1952) [如果是登录字段](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1953) [要么是新密码文本内容类型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1955) [如果是新帐户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1957) [或者是更改密码字段](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1959) [如果你对密码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1961) [有特别的要求](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1965) [比如有必须出现](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1967) [或者不能出现的字符](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1969) [又或者对重复字符](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1971) [有上限要求](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1975) [你也可以标明这些规则](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1976) [这样自动生成的密码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1978) [这样自动生成的密码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1978) [就可以满足](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1980) [你所有的要求](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1982) [登录的时候](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1984) [也许会遇到的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1986) [另外一个小麻烦就是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1987) [当你需要把验证码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1989) [从信息里复制出来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1990) [然后放入 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1992) [IOS 12 让这一步变得非常容易](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1995) [它会自动识别](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1997) [这类通知](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=1999) [记录里面的安全码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2001) [然后显示在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2003) [快速键入候选栏里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2004) [这样很容易就可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2005) [输入进 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2007) [为了让这个特性可行](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2008) [你唯一需要做的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2009) [就是确保](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2010) [你使用的是标准的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2012) [iOS text interaction API](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2014) [来接收这些内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2017) [这些新特性](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2020) [使得 iOS 12 可以让你](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2022) [使用每项服务](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2024) [都可以有更安全又独特的密码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2027) [而你完全不需要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2029) [记住或者打出来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2031) [更多的内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2032) [在这周晚些时候的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2035) [自动增强密码和自动填入安全码会议](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2037) [会有介绍](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2038) [会有介绍](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2038) [最后的 API 改进话题](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2041) [其实有一点回顾性质](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2044) [但是我们添加了一些内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2045) [在 iOS 11 里 我们引入了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2049) [安全区域嵌入](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2051) [安全区域嵌入能够](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2052) [很好地用来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2054) [确保你的内容不会和](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2056) [其他用户界面的部分重叠](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2059) [例如屏幕顶端和下部的栏](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2061) [在 iPhone 这个很好用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2065) [因为栏都比较](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2067) [简单 但其实](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2068) [它也很强大](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2070) [安全区域嵌入](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2072) [为你 App 的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2074) [任何本地坐标空间](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2075) [提供安全区域坐标](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2077) [所以可以应用于](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2079) [更复杂的界面](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2081) [比如 iPad 分屏视图](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2083) [分屏视图的主视图和](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2085) [细节部分](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2088) [包含不同高度的栏](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2089) [安全区域嵌入确保](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2090) [在任何视图下的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2094) [所在分屏内](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2095) [都不会被这些栏覆盖](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2096) [所以在长方形屏幕的设备上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2101) [这个很好用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2102) [但是在非长方形屏幕](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2104) [比如 iPhone X 上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2106) [它也同样强大](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2108) [跟有 home 键的设备相比](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2111) [我们可以看到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2112) [顶部和底部的栏](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2114) [都比较大](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2116) [显然安全区域嵌入](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2117) [适应了这个尺寸](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2119) [iPhone X 特殊的是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2121) [没有栏显示的时候](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2123) [安全区域嵌入依然存在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2125) [这同样适用于](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2127) [横屏模式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2129) [这样可以确保](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2131) [你可以有一个长方形区域](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2132) [来显示内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2134) [而不会被截出去](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2136) [所以我想感谢](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2141) [所有采用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2143) [安全区域嵌入](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2144) [和为 iPhone X 更新 App 的各位](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2146) [过去的几年里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2148) [都有很好的体验](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2149) [而且我相信你们大多数](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2151) [已经这么做了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2152) [如果还没有](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2153) [现在是个好时机](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2155) [你们的用户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2156) [一定更喜欢与时俱进的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2157) [配合 iPhone X 更新](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2159) [配合 iPhone X 更新](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2159) [能够很好的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2161) [体现这一点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2163) [所以如果还没有](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2165) [赶紧去更新吧](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2166) [为了确保](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2167) [你能够得到所有需要的信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2168) [请关注这周晚些时候的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2170) [适用所有大小和形状的 UIKit App 会议](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2173) [这个课程会给你讲](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2175) [安全区域嵌入](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2176) [和其他相关的嵌入 API 的内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2178) [确保你的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2182) [能够适应所有的大小和形状](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2183) [这就是关于框架更新](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2188) [和 API 改进的所有内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2189) [接下来 我们再说一下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2191) [Siri 捷径](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2193) [Siri 捷径是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2194) [iOS 12 里的一个很棒的新 API](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2197) [Siri 捷径](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2201) [可以让 App 的常用操作](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2202) [通过 Siri 很容易地调用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2205) [Siri 捷径](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2209) [可以在封面](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2210) [预先显示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2212) [以便在你希望的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2214) [时间和地点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2215) [访问常用操作](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2217) [访问常用操作](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2217) [他们还可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2220) [显示在 Apple Watch 的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2221) [Siri watch face 上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2223) [Siri 操作不光可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2226) [预先显示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2228) [还可以设置成](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2229) [用个性化声音短语执行](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2231) [给你的 App 添加](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2237) [Siri 行为支持非常容易](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2239) [有两个 API 可以用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2241) [NSUserActivity](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2243) [你可能已经为了支持](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2244) [接力和聚焦整合](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2246) [开始使用它了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2248) [还有一个 Siri Intents 支持](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2250) [为了应对更复杂的情况](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2252) [例如有更多的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2253) [个性化互动时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2255) [我们先看一下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2256) [NSUserActivity](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2258) [我刚才说过](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2259) [NSUserActivity 对接力和聚焦](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2260) [是一个常见的 API](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2262) [当你的 Siri 捷径](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2263) [需要把你的用户](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2265) [转回 App 中一个特定位置时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2266) [这个 API 也很有用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2268) [比如加载一个特定的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2270) [信息或者文件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2271) [这跟你切换到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2274) [另一个设备时是一样的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2275) [如果你已经这么做了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2277) [为 Siri 捷径添加支持](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2278) [为 Siri 捷径添加支持](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2278) [非常容易](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2280) [只需要把 EligibleforPrediction](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2281) [设置为 true](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2282) [要是你还没有这么做](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2284) [如果你的捷径](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2285) [符合这几个类别](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2286) [那这样做或很好](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2287) [如果你的 App 有](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2289) [更多的个性化需求](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2291) [或者你就是想要更好地控制](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2293) [你可以采用 SiriKit Intents API](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2294) [SiriKit Intents 提供](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2297) [很多预先设定的 Intent](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2298) [你可以很简单地采用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2300) [这跟前几年的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2303) [SiriKit Intents 是一样的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2304) [如果你的 App 有](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2306) [更多的个性化行为](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2307) [在 iOS 12 你可以定义](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2309) [你自己的个性化 Intent](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2310) [个性化 Intent](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2313) [可以很灵活](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2315) [满足你的要求](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2316) [这里 我创建了一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2317) [来帮助我做明年的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2318) [WWDC 幻灯片](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2320) [放置你的 Intent 的类别](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2322) [其实非常广泛](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2325) [这里我用的是创建类别](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2326) [但是如果你的 Intent](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2328) [比这个还宽泛](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2330) [有更加宽泛的选择](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2331) [比如运行和开始](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2333) [创建好你的 Intent 之后](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2337) [你还希望你的用户可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2339) [你还希望你的用户可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2339) [很容易地创建](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2341) [个性化捷径](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2342) [现在你的 App 里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2343) [有一个 API 可以让](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2345) [你的用户创建](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2346) [个性化声音捷径](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2348) [这个按键可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2349) [打开一个新的面板](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2350) [操作完之后](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2352) [可以在我的 App 里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2354) [创建一个新的捷径](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2356) [所以如果你在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2357) [早上点咖啡](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2358) [然后你觉得这是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2359) [以后可能会重复的事情](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2362) [这是个很好的机会](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2363) [来创建一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2365) [Siri 捷径 以便下次使用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2367) [你还可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2369) [把这些捷径结合在一起](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2370) [用 App Store 里的捷径 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2372) [所有这些](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2375) [和更多内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2377) [会在这周晚些时候的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2378) [Siri 捷径介绍](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2380) [创建声音 Siri 捷径](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2381) [和 Siri Watch Face 上的 Siri 捷径](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2384) [会议了解到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2385) [今天我们说了很多](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2386) [iOS 12 的新功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2388) [不过还有一些会议](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2390) [很值得一提](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2392) [虽然可能讲的不是新功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2394) [如果你刚开始](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2396) [为 iOS 创建 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2398) [为 iOS 创建 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2398) [有一个很好的会议叫](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2400) [我有一个关于 App 的想法](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2401) [一定要去](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2403) [如果你已经有一个 App 了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2406) [只是想更加完善](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2407) [也有一些很好的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2408) [会议推荐](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2410) [UI Collection View 介绍](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2411) [和为你的 iOS App 添加乐趣](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2413) [非常感谢](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2415) [你们今天来到这里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2417) [希望在实验室再次看到你们](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2419) [祝你们拥有](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2420) [愉快的一周 谢谢](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2421) [[ 掌声 ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/202/?time=2423)