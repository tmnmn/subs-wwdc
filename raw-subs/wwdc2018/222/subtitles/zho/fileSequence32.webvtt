WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:31:57.484 --> 00:32:00.387 align:middle line:-2
让你可以更容易地在归档时
开启SecureCoding

00:32:00.454 --> 00:32:01.788 align:middle line:-1
这是很重要的

00:32:02.122 --> 00:32:05.259 align:middle line:-1
因为它可以保证你不会不小心地归档

00:32:05.325 --> 00:32:07.427 align:middle line:-2
不遵从
NSSecureCoding的对象

00:32:07.494 --> 00:32:09.329 align:middle line:-1
你后面就不能将它解码了

00:32:10.531 --> 00:32:13.467 align:middle line:-2
旧的初始化器和便利方法
也会被设为过期

00:32:13.867 --> 00:32:15.402 align:middle line:-1
这就意味着如果你有

00:32:15.469 --> 00:32:16.436 align:middle line:-1
像是这样的旧代码

00:32:17.037 --> 00:32:19.940 align:middle line:-2
在归档时
打开SecureCoding

00:32:20.507 --> 00:32:21.975 align:middle line:-1
并切换到允许你提前传入类型信息的

00:32:22.042 --> 00:32:24.611 align:middle line:-1
便利方法

00:32:25.579 --> 00:32:28.248 align:middle line:-2
这样你就可以使用
SecureCoding徽章了

00:32:28.682 --> 00:32:29.816 align:middle line:-1
请确保你获得了该徽章

00:32:31.084 --> 00:32:33.253 align:middle line:-1
如果你因为你的类型不能遵从

00:32:33.320 --> 00:32:34.855 align:middle line:-1
还不能支持安全编码的话

00:32:35.255 --> 00:32:38.625 align:middle line:-2
或它们本身是取决于还未遵从的类型
那没关系

00:32:38.692 --> 00:32:40.160 align:middle line:-1
你还是可以在代码中

00:32:40.761 --> 00:32:41.595 align:middle line:-1
使用这些方法

00:32:41.662 --> 00:32:44.064 align:middle line:-1
只需要关掉安全编码需求就可以了

00:32:44.398 --> 00:32:45.232 align:middle line:-1
在解码中

00:32:45.299 --> 00:32:47.901 align:middle line:-1
这些便利中的安全编码一直是启用的

00:32:48.836 --> 00:32:52.272 align:middle line:-2
你可以使用新的初始化器来创建
KeyedUnarchiver

00:32:52.339 --> 00:32:54.641 align:middle line:-1
并手动关闭安全编码

00:32:55.909 --> 00:32:59.079 align:middle line:-1
你可以在需要的时候将解码失败政策

00:32:59.146 --> 00:33:01.181 align:middle line:-1
重设回旧的默认值

