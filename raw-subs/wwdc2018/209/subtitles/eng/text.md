# What's New in Cocoa for macOS

## Summary
Gain insights into the latest in Cocoa frameworks for macOS. Hear about Dark Mode, control tinting, contextual workflows for Touch Bar and Finder, and other improvements in AppKit, Foundation, and related areas. Get an overview and guide to the sessions that we have this year covering advancements in Cocoa.

## Info
* Developer Tools
* WWDC 2018 - Session 209 - macOS
* https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/

## Text
 [[ Music ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=7) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=21) [&gt;&gt; Good afternoon.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=29) [My name is Ali Ozer.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=30) [I, with my colleagues, Chris](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=31) [Dreessen and Jesse Donaldson,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=33) [will be talking to you about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=35) [what's new in Cocoa in macOS](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=36) [Mojave.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=38) [As you saw yesterday, we have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=40) [some amazing new features in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=42) [AppKit this year.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=43) [We'll be touching up on many](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=44) [topics, among which are these.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=45) [We'll be talking about some of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=48) [the API refinements we've been](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=49) [doing.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=50) [The amazing new Dark Mode, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=51) [related features, some changes](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=52) [in layer backing, and also](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=54) [custom Quick Actions.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=56) [So, let's dive right in.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=58) [Now, as you know, we pride](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=60) [ourselves on our API's, and our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=61) [goal always, is to have API's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=64) [that are capable, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=65) [consistent, and powerful.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=67) [So, with that in mind, we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=69) [continue to do refinements that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=70) [improve both the Objective-C and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=72) [Swift exposure of our API's.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=74) [And, this is not just in AppKit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=76) [or Foundation, but also other](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=78) [frameworks including UIKit, as](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=80) [you might have heard in this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=81) [morning's "What's New in Cocoa](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=83) [Touch."](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=84) [Now, the API changes we're doing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=86) [are fully source compatible in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=88) [Objective-C, and we also expect](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=90) [them to be 100% migratable in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=92) [Swift by the time we GM the SDK.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=94) [So, with that, let's look at](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=97) [some of the API refinements](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=98) [within this release.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=99) [First I'm going to talk about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=101) [some updates to string types.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=104) [Last release, we introduced](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=108) [string enumeration types as a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=109) [way to collect groups of related](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=111) [string constants together.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=112) [These helped make API's that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=114) [deal in these types much](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=115) [clearer.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=116) [And, here are some examples.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=118) [And, here are some examples.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=118) [The first one is declared as NS](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=120) [STRING ENUM.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=122) [This is used for string](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=123) [enumerations, where we provide](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=125) [some values out of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=127) [frameworks with no ability to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=128) [extend them, so it's a fixed set](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=129) [of values.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=131) [The next two here, NS EXTENSIBLE](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=132) [STRING ENUM, this is used to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=134) [declare string enumerations](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=137) [where we might provide some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=139) [values out of the box, but other](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=140) [frameworks and applications can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=142) [also add to that set.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=143) [So, we've done two changes here.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=146) [First one is a simple one.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=148) [We've simply replaced NS STRING](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=150) [ENUM and NS STRING EXTENSIBLE](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=151) [ENUM with their typed variants.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=154) [This is effectively a no-op](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=156) [change.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=157) [These are just more general](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=158) [forms of the same declarations.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=159) [So, no changes in your code, or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=161) [call sites, or anything.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=163) [Now, the next one, NSImageName,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=164) [underwent a bigger change, a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=166) [more significant change, instead](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=169) [of a string enumeration, it's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=170) [now declared as NS SWIFT BRIDGED](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=172) [TYPEDEF, which is effectively a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=174) [typedef.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=176) [Now, here's what the Swift](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=176) [exposure of this looks like.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=178) [In Swift 4, NSImage.Name came](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=180) [across as a struct, which is the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=183) [way you would declare the string](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=185) [enumerations.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=186) [In Swift 4.2, it's as a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=187) [typealias, a simple, good old,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=189) [garden variety typealias.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=192) [Much simpler.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=194) [So, the question is, why did we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=196) [do this?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=197) [Let's look at a call site](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=198) [example.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=199) [Here in Swift 4 is how you would](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=202) [take a string, and create an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=204) [NSImage with it, by using the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=206) [named method.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=208) [As you'll see here, you'll be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=209) [taking the string, and we're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=211) [converting it to an NSImage.Name](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=212) [into the [inaudible] name before](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=214) [we call NSImage named.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=216) [This does not feel](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=217) [super-streamlined to have to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=218) [repeat NSImage.Name here.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=220) [Now, with changes in Swift 4.2,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=222) [this is all we have to write.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=225) [You do not have to convert to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=226) [the NSImage name, which is more](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=227) [streamlined, a little cleaner,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=229) [less redundancy there.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=230) [So, we believe this typedef](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=232) [approach is appropriate for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=233) [passed-through values.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=235) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=236) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=236) [Yes, we had heard from some of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=241) [you.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=242) [So, we believe this appropriate](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=244) [for passed-through values, such](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=245) [as resource names or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=247) [identifiers.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=248) [Basically, values that are not](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=249) [interpreted by the framework but](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=251) [are just used in a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=253) [passed-through fashion.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=254) [So, image name, color name,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=255) [window frame autosave names, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=256) [so on.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=258) [So, these are the types that are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=258) [appropriate for this.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=259) [Now, note that you still have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=261) [the benefits of a specific API](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=263) [declaration however with this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=265) [new approach.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=266) [Here's the declaration for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=267) [NSImage named method.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=268) [You'll note that the argument is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=270) [still NSImage.Name, as opposed](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=271) [to a string.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=273) [So, we still have that come](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=274) [through.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=275) [Now, here's the full list of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=276) [types.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=277) [We did this to NSAppKit.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=277) [Turns out a lot of types could](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=279) [benefit from this.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=282) [It's not just this, it's also](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=285) [this set as well.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=286) [So, a number of types have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=287) [changed in this fashion.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=289) [So, next, I'm going to talk](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=292) [about common prefixes.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=294) [As you've seen in previous](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=296) [years, over time, we've been](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=297) [switching from common suffixes,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=298) [switching from common suffixes,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=298) [which is what we used to to many](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=300) [years ago, to common prefixes in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=302) [Objective-C.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=304) [Using common prefixes enables](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=305) [names to group together, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=307) [become more easily discoverable,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=308) [and come across better in Swift.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=310) [So, let's look at an example.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=313) [Here is NSLineJoinStyle as it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=316) [appears in the 10.13 SDK.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=318) [And, here is how it appears in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=321) [10.14.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=322) [You'll note that enumeration](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=324) [values such as](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=325) [MiterLineJoinStyle now have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=326) [become LineJoinStyleMiter.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=328) [So, a common prefix.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=330) [The Swift exposure changes from](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=333) [miterLineJoinStyle to just](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=335) [miter.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=338) [So, it's-- you know, you don't](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=338) [have to repeat the type any](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=340) [more; it's pretty obvious in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=341) [call site, so much cleaner.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=343) [And, so good it deserves a happy](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=344) [emoji.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=346) [[ Scattered Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=347) [Thank you.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=349) [And, we did this to a number of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=351) [other types that we had not](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=353) [done, applied this change to,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=354) [and here is that list of types.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=356) [Next, I want to talk about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=360) [formalized protocols.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=361) [In the olden days, we used to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=363) [use informal protocols, which](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=364) [are basically categories on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=366) [NSObject to group related](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=368) [methods together.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=369) [And, since then, we added](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=370) [features such as optional](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=371) [methods on protocols and so on,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=373) [and we've been switching to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=374) [formal protocols where possible.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=375) [And, I'll show you an example of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=377) [one of the ones we did this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=379) [release.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=380) [Here is the method](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=383) [validateMenuItem, and it used to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=384) [be an informal protocol, a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=386) [categorization object in 10.13.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=388) [Now, it's a formal protocol,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=391) [called NSMenuItemValidation,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=392) [with .method in it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=394) [The Swift exposure changes from](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=395) [an extension NSObject to a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=397) [formal protocol, of course.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=399) [NSMenuItemValidation in Swift](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=401) [4.2.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=402) [Of course, the benefits here are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=403) [that objects that do menu item](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=404) [validation now have a way to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=406) [formally declare that they do](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=408) [that by conforming to this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=409) [protocol.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=411) [Again, we like this so much, we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=412) [did it across a bunch of other](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=413) [API's.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=414) [So, here's the full list of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=415) [formal protocols we added in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=417) [AppKit.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=419) [You'll notice things like color](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=420) [changing, font changing,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=421) [NSEditor, NSEditorRegistration](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=422) [combines the bindings-related](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=425) [methods, and so on.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=426) [So, it's a good list of new,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=427) [formal protocols.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=429) [Next, I want to talk about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=432) [direct instance variable access.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=433) [Now, most-- in our API's almost](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=435) [all of the instance variables](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=439) [are private.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=441) [And, we've said so, but in a way](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=442) [that they have been declared,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=444) [especially in some older AppKit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=445) [classes, subclasses were allowed](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=447) [to touch the instance variables,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=449) [directly access those instance](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=451) [variables.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=452) [Now, some of you may not even be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=453) [aware of this, so please don't](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=454) [go ahead and start using them,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=456) [because this is probably an old](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=457) [code, code I'm sure you didn't](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=459) [write, but maybe inherited, that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=460) [may be using instance variables](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=462) [directly.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=463) [So, for now, we are going to be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=464) [frowning upon this practice a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=466) [bit more vigorously by](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=467) [deprecating it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=470) [Now, you'll be-- code that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=471) [accesses instance variables](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=472) [directly will get a warning, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=473) [our intent is to break this in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=475) [future updates.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=477) [So, as you get the chance,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=477) [please go ahead and clean these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=479) [please go ahead and clean these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=479) [usages.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=480) [And, the fix is pretty](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=482) [straightforward.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=484) [Instead of accessing the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=485) [instance variable directly,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=486) [please go ahead and call the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=487) [getter, or the property](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=488) [accessed, or whatever there](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=490) [might be.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=491) [And, if you have some reason to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=491) [access the instance variable,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=494) [and you don't see a way around](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=495) [it, you might want to let us](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=496) [know.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=497) [Now, speaking of deprecation,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=498) [we're doing one more thing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=500) [called formal soft deprecation.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=503) [So, over the years we have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=505) [deprecated a lot of API's, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=506) [have replaced them with better](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=508) [ones.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=510) [In cases where the deprecation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=510) [isn't urgent, we usually go](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=512) [through an informal deprecation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=513) [phase, where we tell you the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=515) [API's deprecated, we release](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=516) [note it, we comment it, and so](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=518) [on, before we actually mark the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=519) [API's deprecated.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=521) [Usually to reduce disruption.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=522) [But now, we have a way to mark](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=524) [API's as to be formally](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=526) [deprecated.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=527) [Let me give you an example.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=528) [Here we have a symbol,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=530) [NSBoxOldStyle, which of course](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=531) [happens to be a name that begs](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=534) [to be deprecated.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=535) [And, you'll note that we've](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=537) [marked it as deprecated.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=538) [And, the version number for the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=540) [deprecation is API TO BE](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=541) [DEPRECATED.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=542) [So, what this does is, it tells](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=544) [the compiler not to generate a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=547) [deprecation warning or an error,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=549) [however our intent is that if](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=551) [you try to use the symbol in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=552) [Xcode, or new code, or in access](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=554) [documentation, you will get a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=556) [warning that the symbol is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=558) [deprecated, and it will be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=559) [pointed at the replacement](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=560) [symbol.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=561) [So, of course, comes across in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=562) [Swift as well.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=563) [As you can see here, one thing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=564) [to note, the version number](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=566) [100,000.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=568) [This is not a pre-announcement,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=569) [or a leak of some far, future](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=570) [SDK.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=572) [It's just that's a placeholder](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=572) [number we're using for now to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=574) [indicate this feature.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=576) [Now, we use formal soft](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=580) [deprecation in a few other](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=581) [cases.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=582) [Earlier I showed you this.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=583) [And, I told you that we renamed](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=586) [MiterLineJoinStyle to by](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=587) [LineJoinStyleMiter.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=589) [And, I also said that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=590) [Objective-C source code was 100%](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=591) [compatible.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=593) [So, you might be wondering,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=594) [well, what happened to that old](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=596) [symbol that you renamed?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=597) [Well, we actually declared that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=598) [Well, we actually declared that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=598) [old symbol, as you see here, by](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=600) [using this new API TO BE](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=602) [DEPRECATED.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=603) [So, we declare it as deprecated,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=604) [as API TO BE DEPRECATED, meaning](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=607) [any new attempts to use it will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=608) [get warnings, but existing uses](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=611) [will be left alone, because we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=613) [really don't want to disrupt](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=614) [uses of the symbol in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=616) [Objective-C source code.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=617) [Now, turns out there was a lot](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=621) [of symbols that were waiting for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=622) [this facility, so a lot of API's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=625) [are marked with API TO BE](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=627) [DEPRECATED.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=629) [A bunch of these are because we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=629) [did the common suffix to common](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=631) [prefix naming, and some of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=633) [others are symbols that we are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=635) [de-emphasizing deprecating,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=636) [because we're bringing new ones](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=638) [in.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=639) [Especially in support of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=639) [features such as Dark Mode,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=640) [which you'll hear about later](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=642) [today.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=643) [So, the last topic I want to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=644) [talk about is secure coding.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=646) [As you may be aware, we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=649) [introduced the concept of secure](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=650) [coding back in 10.8 and iOS 6.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=653) [It basically allows class-- when](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=656) [you are archiving, basically](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=659) [you are archiving, basically](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=659) [allows you to specify what](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=660) [classes are expected, that way](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=661) [it can be an explicit error if](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=663) [those classes are not](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=664) [encountered in the archive.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=665) [Now, the way we did secure](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=668) [coding, the secure coding was an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=669) [optional feature.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=673) [But, we now have new API's that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=674) [enable both secure coding as a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=676) [default behavior, and as a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=678) [bonus, they enable error](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=680) [returns.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=681) [Our archiver and unarchiver](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=683) [API's worked with exceptions,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=684) [but of course we prefer error](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=685) [returns.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=687) [And, the new API's enabled error](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=687) [return behaviors by default.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=689) [So, I'll show you the API's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=692) [NSKeyedUnarchiver, since that's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=694) [the most interesting.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=695) [Here is an NSKeyedUnarchiver.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=697) [One new method is in it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=698) [It simply creates a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=699) [keyedUnarchiver, securely, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=700) [in a way will return errors.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=703) [Two other new methods are these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=705) [convenience API's,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=707) [unarchivedObject(ofClasses from,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=709) [and unarchivedObject(ofClass](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=711) [from.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=713) [These basically unarchive a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=714) [single object and return it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=716) [They do it securely, and they](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=717) [will return an error if some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=719) [will return an error if some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=719) [problem's encountered.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=721) [Now, note the second method](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=722) [here.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=724) [It's sort of decorated like a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=724) [crazy fancy peacock.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=726) [All that decoration enables](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=728) [Swift to infer the return type](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=732) [much better, which is of course](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=733) [a trick Swift is really good at.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=734) [Now, note that all the way out](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=736) [at this SDK this year, they do](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=738) [work back to 10.13, and iOS 11.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=740) [So, you can start using them,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=744) [even with those deployment](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=745) [targets.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=746) [These methods replace the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=748) [methods on this slide here.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=750) [Now, you'll note that these are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=752) [being deprecated in 10.14 and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=754) [also iOS 12.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=756) [Since these are not doing secure](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=758) [coding, we are deprecating them](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=760) [immediately, rather than going](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=762) [through that formal soft](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=763) [deprecation, because we really](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=764) [encourage you, we really want](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=765) [you to switch to the secure](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=767) [coding if you haven't done so](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=768) [yet.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=769) [Now, one more thing about secure](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=771) [coding is a new value](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=773) [transformer.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=774) [As you may know,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=776) [NSValueTransformer is a class](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=776) [used for automatically](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=778) [transforming values from one to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=779) [transforming values from one to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=779) [another.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=781) [These two valueTransformers](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=782) [here-- unarchiveFromData and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=783) [keyedUnarchivedFromData-- the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=785) [first one does unkeyed](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=787) [archiving, the second one does](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=789) [keyed archiving, but not](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=790) [securely.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=791) [And so, these are now not](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=792) [working in the way we like, so](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=794) [we're deprecating these two.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=796) [And, replacing them with this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=797) [new secure Unarchive](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=798) [FromDataTransformerName, which](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=799) [will do the unarchiving](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=801) [securely.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=802) [So, we urge you to switch to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=803) [this one as well.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=804) [Now, on the secure coding front,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=805) [we've also gone ahead and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=808) [adopted secure coding in a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=809) [number of AppKit classes that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=810) [didn't do it yet.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=812) [Note here, NSAppearance, which](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=813) [is a recent, relatively recent](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=816) [class that is increasingly](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=818) [becoming your friend, as you'll](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=819) [see in later talks about Dark](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=820) [Mode and other features we've](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=822) [added in AppKit.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=823) [We've also added secure coding](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=824) [to a few foundation API's that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=826) [did not have it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=827) [And, here is that list.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=828) [Now, one more note on secure](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=831) [coding.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=832) [We have a talk Thursday morning,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=833) ["Data You Can Trust," where](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=835) [we'll talk about doing coding](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=838) [and archiving and unarchiving in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=840) [a robust and secure fashion.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=841) [So, I invite you to attend that.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=843) [Thursday morning at 9.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=845) [So, at this point, the rest of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=847) [the talk is going to be about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=849) [the new features in AppKit and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=850) [related areas.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=852) [And, to kick that off I invite](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=853) [Chris on stage.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=854) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=855) [&gt;&gt; Thanks, Ali.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=861) [So, Dark Mode is one of the most](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=862) [exciting new features in macOS](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=863) [10.14.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=865) [And, I'm sure you all saw](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=866) [yesterday, I bet some of you are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=867) [running it right now.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=868) [But, let's go ahead and take a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=869) [look.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=870) [So, we have these great new sets](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=872) [of system artwork.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=874) [It makes our system UI look](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=876) [great.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=877) [It makes your application look](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=877) [great.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=878) [It's going to make your user](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=879) [content look great.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=879) [And, what we all want to know is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=881) [what we need to do to adopt](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=882) [this.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=885) [So, the first step is really](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=885) [simple.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=887) [We need to relink against the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=887) [macOS 10.14 SDK.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=889) [That's easy enough.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=891) [That might be enough for some of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=892) [us, too, but most of us are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=893) [going to need to do a little bit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=894) [more work to make an app that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=895) [looks great.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=897) [So, the next thing we're going](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=898) [to want to do, is we're going to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=899) [to want to do, is we're going to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=899) [search our application for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=901) [places we've hardcoded color](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=902) [values.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=903) [And, we're going to want to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=904) [replace them with an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=905) [appearance-sensitive color](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=905) [instead.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=907) [For, most system UI elements,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=908) [AppKit actually offers a lot of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=910) [dynamic system colors that will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=912) [react with the current](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=914) [appearance, and look great for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=915) [whatever UI element you're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=916) [trying to come across with.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=918) [And, to flesh out the list,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=919) [we've added even more in macOS](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=920) [10.14.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=922) [But, in some cases you're not](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=924) [trying to make a system UI](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=925) [element, you're trying to make](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=926) [some piece of your document](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=928) [model that also looks great in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=929) [Dark Mode.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=930) [Now, you can do this by sorting](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=931) [your colors in asset catalogs.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=932) [So, if you go to the color](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=935) [editor in Xcode, you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=937) [configure which appearances](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=939) [you'd like to set up specific](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=940) [colors for, using the sidebar on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=942) [the right.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=944) [In this case, we've picked](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=945) [colors explicitly for the light](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=946) [appearance, for the dark](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=947) [appearance, and a general](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=949) [fallback color for any other](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=950) [appearances.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=951) [Similar to with colors, we're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=952) [going to want to go through our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=956) [UI's and find places we can use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=957) [template images.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=959) [Template images are great](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=960) [because the image artwork will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=961) [be tinted with the right color](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=962) [for whatever appearance we're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=964) [using.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=965) [And, you might have been skating](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=966) [by with places in your app where](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=967) [you included a dark gray piece](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=968) [of artwork, or solid black](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=970) [artwork, which looked fine in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=971) [light mode, and is going to look](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=972) [absolutely wrong in Dark Mode.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=974) [So, you can make template images](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=976) [programatically.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=978) [You can also set them up in your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=979) [asset catalog.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=980) [But, you don't need to limit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=982) [yourself to template images to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=983) [make your Dark Mode UI.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=984) [You can also specify colors--](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=986) [or, sorry, images that look](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=988) [different in Dark Mode.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=990) [In this case, for our planet](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=990) [app, we decided that we wanted](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=992) [nighttime view of North America](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=993) [more in Dark Mode, but for other](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=995) [appearances, we're going to use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=996) [a daytime view.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=997) [So, something that's really](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1000) [great about Dark Mode is how we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1003) [handle desktop pictures.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1005) [And, let me show you what I mean](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1007) [by this.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1008) [If you take a look at the system](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1009) [preferences UI, it kind of looks](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1010) [like it's just a dark gray at](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1012) [first glance, but it's more](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1014) [complicated than that.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1015) [If we look behind the window, we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1016) [can see that we have these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1018) [gorgeous sand dunes, and there's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1019) [gorgeous sand dunes, and there's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1019) [a lot of blues and light and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1020) [dark grays in there.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1022) [And, if we do the masked pick,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1023) [an average color for this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1024) [rectangle, we wind up with this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1025) [nice dark blue color instead.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1027) [So, when we construct our UI and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1030) [add back in this gray color,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1031) [it's not solid gray.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1033) [We're keeping that dark blue](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1034) [color with us.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1035) [And, this permeates even when we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1036) [add back the individual controls](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1038) [in the window.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1039) [They all have this nice](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1040) [character from the desktop](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1040) [picture.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1042) [So, let me show you what this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1043) [looks like with a different](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1044) [desktop picture, in this case, a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1045) [flower.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1046) [You can see we have these much](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1048) [brighter purples and greens in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1049) [this desktop picture.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1051) [And, that affects the system](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1052) [preferences window here.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1053) [Likewise, if we used a red](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1055) [flower instead, you can really](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1056) [see in this case, how the System](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1058) [Preferences window is taking](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1059) [that wonderful warm character](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1061) [from the desktop picture and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1062) [propagating it to all of the UI](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1064) [elements.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1065) [So, a really common thing you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1067) [might be wondering with this is,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1069) [that sounds like a lot of work](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1070) [to dynamically figure out where](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1072) [a window is, what the average](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1073) [color is, and you know, update](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1075) [it live.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1077) [So, my first advice to you is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1077) [don't be daunted by this task.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1079) [don't be daunted by this task.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1079) [AppKit is going to help you.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1081) [So, there's some great classes](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1084) [you're already familiar with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1085) [that are just going to do the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1086) [right thing out of the box.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1087) [And, it's Window, and it's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1089) [ScrollView, and it's TableView,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1090) [and it's CollectionView.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1091) [All of these will look great in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1092) [Dark Mode without any changes.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1094) [But, if you want to get your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1096) [hands on them, you can also](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1096) [tweak these a little bit.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1098) [Each of these classes has a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1100) [background color property.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1101) [And, there's four very special](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1103) [NS colors I want to mention, the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1104) [control background color, the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1106) [window background color, and the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1107) [underpage and text background](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1109) [colors.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1110) [And these all, when used with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1111) [these classes, get that nice bit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1112) [of desktop picture infusion, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1114) [all look slightly different](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1116) [depending on the role of the UI](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1117) [element you're trying to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1118) [construct.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1119) [One other class I really want to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1121) [call out for this purpose is the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1122) [NSBox class.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1124) [If you configure a box as a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1125) [custom style, you can use its](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1127) [fill color property with one of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1129) [these special NS colors, or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1130) [really any other NS color, too.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1131) [But, that's significant, because](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1133) [NSBox can be used to just add](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1135) [wonderful color fills to pieces](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1136) [of your UI, whereas these other](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1137) [classes are a little bit more](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1139) [classes are a little bit more](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1139) [special case.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1140) [So, if you really want to get](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1142) [into detail on this, there's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1144) [another AppKit class I want to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1145) [mention, which is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1147) [NSVisualEffectView.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1148) [And, NSVisualEffectView has this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1149) [material property that allows](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1151) [you to determine how the visual](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1153) [effect you use is going to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1154) [process the background behind](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1155) [it, and what sort of blending](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1156) [operations it's going to do.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1157) [And, we have a few of these to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1159) [describe where the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1160) [visualEffectView's being used in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1161) [your UI.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1163) [In macOS 10.14, we've added a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1164) [lot more.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1166) [So, pretty much whatever sort of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1167) [UI you're trying to construct,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1168) [we should have a material that's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1170) [appropriate for that use case.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1171) [In previous OS's, you'll note we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1173) [had some materials labeled](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1174) [explicitly as light or dark.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1176) [And, you're going to want to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1178) [stay away from those, as they're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1178) [not going to look right across](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1180) [our many new appearances.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1181) [So, that brings me to another](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1183) [topic, which is accent colors.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1186) [If we go ahead and look at these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1188) [UI elements, we can see there's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1189) [this delightful splash of view,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1191) [of color, in a lot of these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1193) [elements.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1195) [And, in macOS 10.14, we've added](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1196) [a number of new accent colors](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1200) [for users to select.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1201) [And, all of these look](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1202) [absolutely great.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1203) [But, if you're making your own](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1204) [UI elements-- I'll pause for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1206) [applause.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1207) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1208) [Thank you, accent colors.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1213) [Anyway, if you're making your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1214) [own UI elements, you might be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1216) [trying to make this motif](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1217) [yourself, and incorporate that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1218) [splash of color.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1219) [So, if you've done that in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1220) [past, you've probably been using](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1221) [the NSColor.currentControlTint](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1223) [method, which returns this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1225) [enumeration saying whether the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1226) [system's running in aqua or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1227) [graphite mode.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1228) [So, we have way more colors than](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1229) [that now.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1231) [That enumeration's not going to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1231) [do the job.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1232) [So, in macOS 10.14, we'd urge](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1234) [you to instead, switch to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1236) [controlAccentColor method on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1237) [NSColor.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1239) [So, NSColor doesn't stop helping](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1241) [you with accent colors.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1244) [There's a number of other things](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1245) [it does.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1246) [If you're making a UI element,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1247) [one of the common features](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1248) [you're going to want to do is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1250) [adjusting the color of that UI](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1251) [element to reflect user](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1253) [interaction with it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1254) [So, NSColor introduces a new](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1255) [method called .withSystemEffect.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1256) [And, we've defined a number of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1259) [And, we've defined a number of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1259) [system effects for interaction,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1260) [like the pressed state or the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1261) [disabled state, and we'll go](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1262) [ahead and apply a recipe to a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1264) [base color to produce a new](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1265) [color that's appropriate for the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1267) [current appearance as well as a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1268) [sort of interaction being done](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1270) [with that control.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1271) [So, this will save you the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1272) [trouble of having to develop a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1273) [formula yourself for modifying a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1274) [color for these states.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1277) [And, it'll also save you from](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1278) [cases where you might have a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1279) [really long list of hard-coded](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1280) [colors for different](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1282) [interactions.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1283) [So, it's a great API to make use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1284) [of.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1285) [We're going to talk about color](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1286) [for a bit more.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1289) [In this case, a new feature of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1290) [macOS 10.14, is what we call the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1291) [content tint color.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1294) [If you look at my mock](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1295) [application here, you can see](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1296) [it's mostly user content, it's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1298) [mostly text.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1300) [But, there's a few elements that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1301) [I want to call attention to.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1302) [These are things where the user](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1305) [can click on them to perform](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1307) [more actions.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1308) [And, I didn't want to use the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1309) [normal button borders because I](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1310) [felt that, kind of, overwhelmed](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1312) [the content.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1313) [But, in macOS 10.14, we're going](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1314) [to let you tint borderless](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1316) [buttons and image views to call](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1317) [them out, so the user can still](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1319) [them out, so the user can still](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1319) [recognize these as clickable and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1320) [interactable.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1322) [So, that's really easy to do.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1323) [NSButton and NSImageView, both](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1326) [have a new property called](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1328) [contentTintColor.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1329) [You can set it to any color you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1330) [want, to those dynamic colors I](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1331) [mentioned earlier are great](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1333) [candidates.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1334) [You can also set these up in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1335) [Interface Builder.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1336) [So, this is what the UI looks](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1337) [like for configuring buttons.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1339) [And, this is what it looks like](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1340) [for configuring image views.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1341) [The tint option is here on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1343) [right, in the sidebar.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1345) [So, we've covered a lot of great](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1348) [stuff about what you can do with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1349) [the new appearance in macOS](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1351) [10.14.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1352) [We have more sessions on it, but](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1353) [they're in the WWDC app, if you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1355) [look at our latest sessions.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1356) [They're both absolutely great.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1357) [Which brings me to my next](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1360) [topic.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1361) [No discussion of Cocoa is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1362) [complete without some talk of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1364) [layer backing.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1365) [So, I wanted to let you all know](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1367) [that in macOS 10.14, when you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1369) [link against the new SDK,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1371) [AppKit's not going to use a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1372) [legacy window backing store any](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1374) [more.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1376) [It's going to provide all of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1376) [this content to the window](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1378) [server using core animation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1379) [server using core animation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1379) [layers.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1380) [And, a lot of you who do](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1382) [development on iOS are going to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1383) [think this sounds really](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1384) [familiar to me.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1385) [But, let's take a look at what](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1386) [actually goes on here.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1387) [So, if we have a tree of views](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1389) [like this, in UIKit, the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1391) [relationship between views and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1392) [layers is really simple.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1393) [Every view gets exactly one](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1395) [layer.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1396) [And, the parent/child](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1397) [relationship between views is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1398) [mirrored in the layer tree also.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1400) [But in AppKit, we create the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1402) [layer tree as a process of-- or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1404) [as a side effect of processing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1406) [the view hierarchy.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1408) [So, we can wind up in cases](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1409) [where we might decide to take](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1411) [many views, and use a single](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1413) [layer for that.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1414) [And, that's great because it can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1415) [reduce system memory](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1417) [consumption, and GPU memory](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1418) [consumption, and also gives the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1419) [window server a little less load](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1421) [to process when it's rendering](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1423) [the screen.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1424) [Something I really want to point](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1425) [out here, though, is that this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1426) [is dynamic based on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1428) [configuration of the view](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1429) [hierarchy.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1430) [So, it can change moment to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1431) [moment.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1432) [So, you really can't rely on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1433) [having this fixed parent/child](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1435) [relationship between views and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1436) [layers like you might on iOS.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1438) [So, programmatically one of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1443) [changes you no longer have to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1445) [care about here is that you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1446) [don't have to explicitly set](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1448) [.wantsLayer on your views to use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1449) [layers anymore.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1451) [AppKit will take care of this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1452) [for you when you're deploying](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1453) [against macOS 10.14.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1454) [If you're deploying against--](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1456) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1460) [In fact, we generally encourage](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1465) [you not to even use this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1467) [property, because if you set it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1468) [explicitly to true, we're going](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1470) [to make sure your view gets its](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1472) [own layer, and we're not going](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1473) [to do the optimizations we can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1474) [do, where we render multiple](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1475) [views into a single layer.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1477) [You might also need to still use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1479) [this if you're deploying to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1480) [earlier OS's, but usually you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1481) [can still get away with ignoring](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1482) [it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1485) [I wanted to talk about some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1485) [other patterns you might have in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1486) [NSView UI's you are making that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1488) [use CALayers.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1490) [So, one of the easiest ways to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1491) [draw a CALayer, is to just](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1493) [override the draw method in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1494) [CALayer class.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1496) [Or, implement a delegate method.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1497) [And, this is mostly fine, but](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1499) [And, this is mostly fine, but](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1499) [NSView actually gives you a lot](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1500) [of functionality you probably](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1502) [don't want to have to replicate](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1503) [yourself.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1504) [If you use NSView's draw method,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1505) [it'll go ahead and take care of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1508) [things like making sure that the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1509) [appearance works correctly for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1511) [dynamic colors.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1512) [It'll manage the backing store](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1513) [resolution for you.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1514) [And, it's really just as simple](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1515) [as implementing the layer](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1517) [methods.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1518) [So, I really encourage you to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1518) [override drawing at the view](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1519) [level instead of the layer](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1521) [level.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1522) [Sometimes you'll have cases](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1523) [where you were implementing the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1525) [display method of CALayer](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1527) [instead, and you're updating](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1529) [layer properties directly,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1530) [because maybe it's more](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1531) [efficient, or really expresses](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1532) [what you're trying to accomplish](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1533) [better.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1534) [You can still do that using the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1535) [NSView API by overriding the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1537) [update layer method, and you get](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1539) [all the same benefits you do by](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1540) [using the NSView draw rect](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1542) [method.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1543) [A quirk I want to point out, is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1544) [you can implement both update](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1546) [layer, and the draw methods on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1548) [NSView.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1549) [If you do this, when your view](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1550) [has a single layer backing it,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1552) [we'll go ahead and use the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1553) [optimal layer version.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1554) [And, if you're being merged with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1556) [other views to save memory,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1557) [we'll go ahead and use the draw](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1558) [rect version.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1559) [rect version.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1559) [And, we also use that for things](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1560) [like printing.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1561) [So, it's fine to implement both](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1562) [of these.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1563) [If you have a view that you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1565) [really can't express using the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1566) [CG drawing API's, or the AppKit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1567) [drawing API's, you can, in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1569) [addition to the update layer](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1571) [method, override](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1572) [wantsUpdateLayer, and if you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1573) [just return "true" from that, we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1575) [know that you need an explicit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1576) [layer to do what you want to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1578) [accomplish.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1579) [There's another way of taking](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1582) [best advantage of AppKit and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1584) [core animations features here,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1586) [and that's just to build your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1587) [UI's out of a very simple](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1589) [vocabulary of basic NSViews.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1590) [NSImageView, NSBox, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1593) [NSTextField, these are all](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1595) [really great building blocks to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1596) [make complicated UI's, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1598) [they'll do the right thing no](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1599) [matter what technologies we pick](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1600) [to actually render to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1602) [screen.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1603) [With our changes to layer](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1605) [backing, there's a few patterns](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1606) [I want to call out that aren't](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1608) [going to work in macOS 10.14](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1609) [anymore.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1610) [If you're using NSView lockFocus](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1611) [and unlockFocus, or trying to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1613) [access the window's graphics](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1615) [contents directly, there's a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1616) [better way of doing that.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1619) [better way of doing that.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1619) [You should just subclass NSView](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1620) [and implement draw rect.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1621) [Both of those methods have been](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1622) [kind of finicky for a while.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1624) [So, you'll be saving yourself](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1626) [some trouble.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1627) [The other thing I want to point](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1628) [out is I've actually written](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1629) [these in Objective-C, which is a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1630) [little weird for a talk that's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1632) [mostly in Swift.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1633) [And, the really great news about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1634) [this is I've never actually seen](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1636) [any Swift code using these.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1638) [The takeaway from that is I](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1640) [really don't want any of you to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1641) [be the first to go ahead and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1642) [surprise me.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1644) [So, we have one more thing about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1646) [our changes with layer backing.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1649) [If you're using NSOpenGL classes](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1651) [to render with OpenGL, and you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1653) [link against macOS 10.14, some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1654) [of our implementation details](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1657) [for how we bind the OpenGL](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1658) [system to our layers are a bit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1659) [different.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1661) [And, you may notice a few small](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1661) [changes there.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1663) [But, more importantly, I want to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1664) [call out that as of macOS 10.14,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1665) [OpenGL on our platform is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1668) [deprecated.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1669) [If you've been using NSOpenGL](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1671) [view, we really encourage you to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1672) [adopt MTKView instead.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1674) [And, there's a great session](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1675) [coming up later today about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1677) [adopting Metal for OpenGL](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1678) [developers.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1679) [developers.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1679) [There's one last change I want](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1683) [to talk about, which is a change](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1684) [we've made to font antialiasing.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1686) [If you go ahead and look at this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1688) [screen comparison, I have macOS](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1689) [10.13 on the left, and macOS](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1691) [10.14 on the right.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1693) [And, if you look at the text in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1694) [this window, it's basically](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1696) [identical.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1697) [But, if we zoom in, all the way](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1698) [to a 48X scale factor, we can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1701) [see that macOS 10.13 is using](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1703) [this color-fringing effect for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1706) [its font rendering.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1707) [In macOS 10.14, we no longer use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1709) [that effect.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1712) [And, this means our text looks](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1713) [great on a much wider variety of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1714) [panel technologies, as well as](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1716) [scaling modes.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1718) [So, we have a bunch of other](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1720) [great things to cover.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1722) [And, at this point I'd like to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1723) [invite Jesse onstage to go over](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1724) [those.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1725) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1726) [&gt;&gt; Thanks, Chris.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1732) [Hi everyone.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1733) [It's great to see you here](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1733) [today.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1734) [I have a bunch of topics to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1735) [cover.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1736) [And, I'd like to start with the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1737) [user notifications framework.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1738) [This has been available in iOS](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1739) [This has been available in iOS](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1739) [for some time now, and with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1741) [macOS Mojave, we're bringing it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1742) [to the Mac.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1744) [This allows for better control](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1747) [of user notifications.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1749) [And, it also means that your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1751) [apps can interact with them the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1752) [same way that they do on iOS.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1753) [They should do that using the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1755) [NSApplication method,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1757) [registerForRemoteNotifications,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1758) [as well as the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1761) [requestAuthorization method on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1761) [userNotificationCenter.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1764) [As a part of this work, we're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1767) [also deprecating some existing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1768) [user notification-related API's.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1770) [Specifically, in NSApplication,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1772) [we're deprecating the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1775) [remoteNotificationType](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1776) [OptionSet, as well as the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1777) [registerForRemoteNotifications](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1779) [method and the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1781) [enabledRemoteNotificationTypes](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1781) [property.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1784) [We're also deprecating all of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1785) [NSUserNotification.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1786) [So, as you rebuild with the new](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1789) [SDK, you should try to update to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1790) [the user notifications](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1792) [framework.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1793) [Next, I'd like to talk a little](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1796) [bit about NSToolbar.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1797) [When you wanted to center an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1800) [item in the toolbar, you've](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1801) [maybe been tempted to put a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1802) [flexible space on both sides of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1805) [your item.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1807) [And, this works, but it has some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1807) [drawbacks.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1809) [Notably, when you add extra](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1810) [items to the toolbar, it'll push](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1811) [your item off-center.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1813) [So, NSToolbar now exposes a new](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1814) [property, the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1816) [centeredItemIdentifier.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1817) [You can set this to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1819) [identifier of an item you'd like](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1820) [to remain centered, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1821) [NSToolbar will put it there.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1823) [It should stay there unless](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1825) [other Toolbar items actually](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1826) [force it to be out of place.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1828) [There's another change here](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1831) [worth noting as well, which is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1832) [that auto layout is now used to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1835) [measure toolbar items when the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1838) [minimum and maximum sizes are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1840) [not specified.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1841) [This applies only to apps on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1844) [10.14 SDK, but it means that you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1846) [can do things like change the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1848) [size of the button, and the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1850) [measurement will happen for you.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1852) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1853) [The centeredItemIdentifier](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1860) [behavior is also available](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1861) [through Interface Builder.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1863) [So, here's the inspector pane](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1864) [for a Toolbar item.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1865) [You can see there's a new](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1868) [checkbox at the bottom, "Is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1868) [Centered Item."](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1870) [You can click this instead of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1871) [setting the property from your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1872) [code, and so there's no need to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1873) [fall back to the programmatic](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1875) [API.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1876) [You can continue to do all your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1876) [UI work inside Interface](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1878) [Builder.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1880) [And, speaking of Interface](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1881) [Builder, I can't tell you how](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1882) [excited I am about Interface](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1884) [Builder's new support for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1886) [editing, NSGridViews.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1887) [If you're not familiar with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1890) [gridView, we introduced it a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1891) [couple of years ago, and it's a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1893) [layout primitive for rendering](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1894) [your views in a grid-like](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1896) [pattern.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1897) [This is an example from a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1898) [keychain access app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1899) [And, you can imagine how many](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1900) [little constraints would be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1902) [necessary to create this layout](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1903) [by hand.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1905) [You could also build it with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1906) [stackViews, but NSGridView makes](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1907) [the whole thing much easier, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1909) [the new editing support in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1911) [Interface Builder is just](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1912) [fantastic.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1914) [Let me show it to you.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1914) [So, here's some UI from a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1917) [storyboard file.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1918) [You can select these controls,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1920) [and embed them in a grid view.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1922) [And, once you've done that, you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1923) [can go through and adjust the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1925) [padding and the alignment of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1926) [cells in order to achieve the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1927) [layout that you want.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1929) [The editing UI works a lot like](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1931) [the numbered spreadsheet app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1933) [So, you can drag and drop views](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1935) [into cells.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1936) [You can select cells in rows and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1937) [columns, and adjust their](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1939) [properties.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1941) [You can even merge cells, as you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1942) [see in the bottom two rows here.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1943) [Here's an example where we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1946) [select a column.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1948) [And, this is what the inspector](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1949) [pane looks like, so you can see](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1951) [you can adjust the placement of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1952) [the cells in that column.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1954) [You can adjust the leading and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1956) [trailing padding.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1957) [If we switch over to the Size](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1958) [Inspector, you can specify an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1959) [explicit width for the column.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1961) [Or, if you don't do that, then](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1962) [the column will be sized](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1964) [automatically based on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1965) [content.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1966) [And, one of the other really](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1969) [nice things about this feature](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1970) [is that it's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1972) [backwards-deployable.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1973) [GridViews authored in Interface](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1974) [Builder can be used back to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1976) [macOS 10.13.4, or if you're not](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1978) [macOS 10.13.4, or if you're not](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1978) [using merged cells, you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1981) [actually go all the way back to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1983) [10.12.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1984) [So, if you need to deploy your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1985) [app to an older version of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1987) [macOS, there's still no reason](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1988) [to wait to use this great new](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1990) [functionality.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1992) [The next topic I'd like to cover](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1995) [is some changes to NSTextView.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=1997) [First off,there's a few new](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2000) [factory methods.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2001) [The first one here, fieldEditor](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2002) [configures a textView to act as](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2004) [the fieldEditor for an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2007) [NSTextField.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2009) [These all provide a much easier](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2009) [way to configure textViews for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2012) [common use cases.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2014) [The latter three provide](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2016) [textViews wrapped in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2018) [scrollViews.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2019) [This is by far the most common](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2020) [use case for a textView, but if](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2022) [you have to do additional](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2024) [configuration on the textView,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2025) [it's important to remember to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2026) [look at the scrollView's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2027) [documentView.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2029) [These are also available through](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2031) [Interface Builder.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2032) [So, again, there's no need to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2033) [fall back to the programmatic](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2034) [API here.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2035) [So, let's see what they look](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2037) [like.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2038) [Here's a sample window that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2039) [Here's a sample window that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2039) [shows all four.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2040) [TextViews are sometimes](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2042) [misconfigured when clients need](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2043) [to override the fieldEditor in a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2044) [textField.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2046) [And so, using a fieldEditor](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2047) [factory method can help avoid](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2048) [problems there.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2050) [The next one, scrollableTextView](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2051) [should be used for textViews](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2054) [that are for auxiliary text in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2055) [popovers and inspector panes.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2057) [Things like that.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2059) [And then, the bottom two are for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2060) [text that's main document](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2062) [content.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2063) [The one on the left is for rich](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2064) [text; the one on the right is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2065) [for plain text.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2067) [You might be wondering at this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2068) [point what the distinction is,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2069) [because they all look fairly](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2071) [similar.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2072) [The main benefit is that you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2073) [don't need to worry about the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2074) [system configuration.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2075) [For example, if the system's in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2077) [Dark Mode, they begin to look](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2078) [more distinct.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2080) [The rich text's textView retains](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2082) [its white background, and the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2084) [plain text turns dark to match](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2086) [the rest of the system for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2088) [example.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2088) [So, in general if you use these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2090) [factory methods, it'll help keep](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2091) [your application consistent with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2092) [the specifications for the rest](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2094) [of the system.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2095) [The other change to textView](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2098) [that I'd like to talk about is a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2099) [that I'd like to talk about is a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2099) [new method for modifying the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2101) [text,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2103) [PerformValidatedReplacement.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2104) [The idea behind this method is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2106) [that it gives you a very easy](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2107) [way to manipulate the text in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2109) [the textView, and it gives you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2110) [behavior as if the user had](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2112) [performed the change themselves.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2114) [So, it performs all the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2116) [appropriate delegate methods, as](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2117) [you'd expect.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2119) [But, the really interesting part](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2120) [is that any attributes that are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2121) [not specified on the input](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2123) [string are automatically filled](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2125) [in using the textView's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2127) [typingAttributes.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2128) [So, let me give you an example.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2130) [Here's a window with some rich](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2132) [text in it, and a little snippet](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2133) [of code that calls](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2135) [performValidatedReplacement to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2136) [insert the word "Developers" in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2138) [the middle.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2139) [If we run this, this is what we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2141) [get.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2142) [The word appears and it matches](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2143) [the style of the surrounding](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2145) [text, and we didn't have to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2146) [specify any attributes.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2148) [There's a subtlety here to be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2150) [aware of, though.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2151) [And, that's because the fallback](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2152) [attributes come from the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2155) [typingAttributes.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2156) [So, if you start with some rich](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2157) [text like this, and the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2159) [text like this, and the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2159) [insertion point is in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2160) [lighter portion at the end, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2162) [we run the same code; this is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2164) [the result.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2166) [The style attributes come from](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2167) [the lighter portion at the end.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2169) [So, for this reason, you may](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2172) [find that you need to set the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2174) [selective range for the range](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2175) [you're about to replace before](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2176) [you call](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2178) [performValidatedReplacement.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2178) [If you do that, this is the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2182) [result that you get.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2184) [So, the next topic I'd like to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2187) [cover very briefly, is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2188) [continuity camera.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2190) [This is another fantastic](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2191) [feature in macOS Mojave.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2193) [And, if you're just using the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2196) [standard framework classes like](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2197) [NSTextView, there's nothing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2198) [special you need to do in order](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2200) [to take advantage of it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2201) [So, framework will handle](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2202) [everything for you.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2203) [But, if you have a more](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2205) [application-specific need for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2205) [this, it is possible to use it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2209) [more directly.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2210) [And then, it's important to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2211) [understand that it's implemented](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2212) [using the existing services](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2213) [API's.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2215) [So, all you need to do is tell a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2216) [framework that your responder](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2218) [class is able to handle image](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2219) [class is able to handle image](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2219) [data.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2221) [And, you can do this by](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2221) [implementing validRequestor.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2222) [If you want to try this out, I'd](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2225) [encourage you to check out the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2227) [documentation for validRequestor](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2228) [and some of the related methods.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2229) [Next, I'd like to talk about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2233) [custom Quick Actions.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2235) [You heard a little bit about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2236) [Quick Actions from the State of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2237) [the Union session yesterday.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2239) [And, they make it very easy to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2241) [perform simple actions like](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2244) [opening a favorite app, for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2246) [complex ones like filtering](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2247) [files, or invoking scripts.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2249) [You can build custom Quick](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2253) [Actions using app extensions or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2255) [action bundles from Automator.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2258) [They're useful in so many](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2261) [different places that there's a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2262) [variety of ways to invoke them.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2263) [But, my favorite by far is the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2265) [Touch Bar.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2267) [If you put your Quick Actions in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2268) [the Touch Bar, it just makes it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2269) [very easy to get to them,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2271) [wherever you are, whenever you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2272) [need them.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2273) [And, you can get this behavior](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2274) [by looking in the keyboard](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2275) [preferences panel, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2276) [reconfiguring your Touch Bar to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2278) [either always show them, or to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2279) [either always show them, or to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2279) [flip to them when you hold down](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2281) [the function key.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2283) [Or, you can customize your Touch](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2284) [Bar and drag the workflows](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2285) [button into your control script.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2287) [It's also worth noting that you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2291) [can go over to the Shortcuts](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2292) [pane, and look under Services.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2293) [And, here you can turn them on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2296) [and off to control which ones](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2298) [show up.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2299) [They don't only show up in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2301) [Touch Bar, though, as I](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2302) [mentioned.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2303) [So, here's a Finder window for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2303) [example.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2305) [And, the contextual menu has a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2305) [Quick Actions submenu where](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2307) [you'll see them.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2309) [Finder's preview pane also has a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2311) [couple of Quick Actions at the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2313) [bottom, and then the full list](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2314) [underneath the "More" button.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2316) [And, action bundles from](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2318) [Automator will show up inside](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2319) [the Services menu.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2321) [So, TrimLogs is one that I wrote](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2322) [to filter my debug logs, for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2324) [example.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2325) [And, that brings me to the next](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2327) [topic I'd like to talk about,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2328) [building action bundles, also](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2330) [known as contextual workflows.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2332) [This is a new feature in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2334) [Automator.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2335) [When you go to Automator, and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2336) [create a new document, there's a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2337) [new option available now for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2338) [contextual workflows.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2339) [contextual workflows.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2339) [They look a lot like regular](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2341) [workflows except there's a new](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2342) [block at the top that allows you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2344) [to configure the input and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2346) [output as well as pick an icon](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2347) [and the color.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2349) [So, let's go though a quick](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2351) [example.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2352) [I often have a problem where](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2354) [there's some file I want to open](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2355) [in TextEdit, but I can't because](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2356) [it doesn't have a file](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2358) [extension.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2359) [This is super easy to fix with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2360) [Automator.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2363) [All you need to do is look](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2364) [inside the library, and drag out](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2365) [the Open Finder Items action.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2367) [You can configure it to open the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2370) [items with TextEdit instead of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2372) [with a default application.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2373) [Any file selected in the Finder](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2375) [automatically become the input](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2377) [to this action, and then if you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2378) [save it with some name, it will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2381) [automatically show up in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2383) [Touch Bar, or in other contexts](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2384) [where it's useful.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2386) [So, to summarize, we've talked](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2390) [about a variety of new features,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2394) [and other changes that will make](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2396) [your development experience](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2397) [richer, and your applications](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2399) [richer, and your applications](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2399) [even more awesome.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2400) [Check out the new SDK and begin](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2401) [implementing some of these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2405) [things in your applications.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2407) [They'll make your applications](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2410) [shine, and your customers will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2411) [appreciate it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2413) [For more information, you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2415) [follow this URL.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2416) [And, also look inside the WWDC](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2417) [app under this session.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2420) [All of the related sessions are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2422) [linked there.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2423) [Thank you very much.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2424) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/209/?time=2425)