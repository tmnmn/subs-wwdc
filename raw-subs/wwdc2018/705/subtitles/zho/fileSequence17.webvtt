WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:16:57.985 --> 00:17:00.821 align:middle line:-2
这个用户是否注定会
非自愿地取消订阅

00:17:01.455 --> 00:17:02.289 align:middle line:-1
并不会

00:17:03.156 --> 00:17:06.393 align:middle line:-2
当遇到这样的结算问题时
你可以执行三个简单的步骤

00:17:06.460 --> 00:17:10.063 align:middle line:-2
首先 你观察到这个用户
没有续订交易

00:17:10.130 --> 00:17:13.133 align:middle line:-1
他们的订阅现在已经失效

00:17:13.733 --> 00:17:16.537 align:middle line:-1
其次 你可以引导该用户

00:17:16.603 --> 00:17:18.571 align:middle line:-1
更新他的账单信息

00:17:19.806 --> 00:17:23.577 align:middle line:-1
然后是第三步 当发生续订交易时

00:17:23.810 --> 00:17:26.680 align:middle line:-1
立即解除对该用户的屏蔽

00:17:27.146 --> 00:17:29.449 align:middle line:-1
第一步和第二步非常简单

00:17:29.516 --> 00:17:31.552 align:middle line:-2
如果使用了我们刚刚谈到的
状态轮询技术

00:17:31.618 --> 00:17:33.820 align:middle line:-1
但这里的第三步使用了一个

00:17:33.887 --> 00:17:37.357 align:middle line:-2
我们去年推出的特性
服务器到服务器通知

00:17:38.392 --> 00:17:39.426 align:middle line:-1
我们来看看这个例子

00:17:39.493 --> 00:17:42.629 align:middle line:-2
假设在一个订阅期内
App Store在尝试向

00:17:42.696 --> 00:17:44.731 align:middle line:-1
此用户的信用卡收费时发生错误

00:17:44.798 --> 00:17:46.233 align:middle line:-1
（服务器到服务器通知）

00:17:46.300 --> 00:17:49.570 align:middle line:-1
然后你会通过状态轮训发现这个用户

00:17:49.636 --> 00:17:51.371 align:middle line:-1
没有新的续订交易

00:17:52.072 --> 00:17:54.708 align:middle line:-1
你的服务器通过正确的计算

00:17:54.775 --> 00:17:56.476 align:middle line:-1
确定该用户不再是合法订阅用户

00:17:56.543 --> 00:17:59.680 align:middle line:-1
所以当用户通过网站访问你的服务时

00:17:59.746 --> 00:18:01.548 align:middle line:-1
你给他们一些适当的错误信息

