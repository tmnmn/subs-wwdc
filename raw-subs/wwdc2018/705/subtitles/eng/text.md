# Engineering Subscriptions

## Summary
Learn the best practices for architecting your subscription infrastructure using StoreKit and server-side logic. Find out about simple engineering techniques to keep your subscribers longer, and how to utilize new tools and APIs to give your subscribers the best experience.

## Info
* App Store and Distribution
* WWDC 2018 - Session 705 - iOS, macOS, tvOS
* https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/

## Text
 [[ Music ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=7) [&gt;&gt; Good afternoon.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=23) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=24) [My name is Pete Hare and I'm an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=30) [engineering manager on the App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=31) [Store team here at Apple.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=32) [We're here to discuss the best](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=34) [ways to build your app and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=35) [server infrastructure to support](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=37) [the subscriptions.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=39) [I'm going to go over a few](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=40) [topics here today.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=41) [Firstly, we'll discuss the best](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=42) [ways to actually build your app](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=43) [and server architecture.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=45) [We've got some tips and tricks](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=47) [around how to enhance the in-app](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=48) [experience for your user.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=49) [My colleague Michael will get up](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=52) [and talk a bit about reducing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=53) [subscriber churn.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=54) [And then finally, we've got some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=55) [new announcements around](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=57) [analytics and reporting tools](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=58) [analytics and reporting tools](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=58) [available to you.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=60) [But first up let's talk a bit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=62) [about how to build your app and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=63) [server infrastructure.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=64) [Let's start off by asking a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=67) [simple question, what is a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=68) [subscription?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=70) [Well a subscription gives a user](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=72) [access to your content or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=74) [service by them repeatedly](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=75) [paying you some amount of money.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=77) [When you look at this at the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=79) [engineering layer a subscription](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=79) [is really just a set of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=81) [repeating transactions each of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=82) [which unlock some subscription](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=84) [period.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=86) [To use subscriptions in your app](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=88) [there's a couple of things that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=90) [you need to do as a developer to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=91) [be able to handle these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=92) [transactions as they come in.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=93) [Let's go through each of these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=95) [steps.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=96) [Firstly, it starts off with your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=96) [app receiving a transaction.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=99) [Once your app has received a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=102) [transaction you need to go ahead](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=102) [and verify that it's an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=104) [authentic transaction, that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=105) [money really has changed hands.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=106) [Then it's up to you to update](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=109) [and maintain that user's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=111) [subscription state for ongoing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=112) [access to your service.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=114) [So let's go into each of these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=116) [in a little more detail.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=117) [Firstly, let's talk a bit about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=118) [Firstly, let's talk a bit about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=118) [receiving that transaction in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=120) [your app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=121) [Now whether it's the initial](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=123) [purchase of a subscription or a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=125) [renewal transaction for a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=126) [prescription your app is set up](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=128) [to handle subscriptions and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=130) [transactions using the StoreKit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=132) [framework.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=133) [Now when you are set up to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=134) [handle transactions using](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=135) [StoreKit the App Store will make](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=136) [these charges on a user's credit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=138) [card in the background.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=140) [And anytime a transaction occurs](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=141) [it informs your app of these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=143) [transactions via a thing called](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=144) [the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=146) [SKPaymentTransactionsObserver.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=146) [This transaction observer object](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=148) [is really the central piece of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=151) [in-app purchases when it comes](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=152) [to your application.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=154) [It's actually just a protocol in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=155) [StoreKit, it looks like this and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=157) [you can set it on any object.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=158) [In this example we're just](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=160) [setting it on the AppDelegate](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=161) [itself, but the really important](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=162) [thing is that you add a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=164) [Transaction Observer to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=165) [default payment queue as early](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=166) [on in the application lifecycle](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=168) [as possible.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=169) [Once you've got a Transaction](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=171) [Observer registered on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=173) [default payment queue you're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=174) [ready to start receiving](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=175) [transactions as they occur in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=176) [the background.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=178) [You receive transactions on a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=179) [You receive transactions on a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=179) [callback in the Transaction](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=181) [Observed called](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=182) [updatedTransactions and it's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=183) [here that StoreKit will inform](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=185) [your app of a set of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=186) [transactions for you to process.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=188) [They can come in various](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=189) [different states that we're not](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=191) [going to go completely into in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=191) [this talk, but keep an eye out](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=193) [for a transaction in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=194) [purchased state.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=195) [That's a transaction that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=197) [StoreKit is telling your app is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=198) [ready for verification and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=199) [unlocking.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=201) [Once you've got a transaction](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=201) [the purchase state you're ready](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=205) [to go with that next step, which](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=206) [is to verify that it is an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=207) [authentic transaction.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=209) [So when it comes to checking for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=210) [authenticity how can you know](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=213) [that money really has changed](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=214) [hands?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=217) [You use a thing called the App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=217) [Store receipt.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=218) [The App Store receipt is just](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=220) [like a receipt you'd get in a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=221) [department store, it's a proof](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=222) [of purchase that a user has](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=223) [bought something that they say](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=225) [they've bought.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=226) [In this case it's a trusted](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=226) [record of the initial app](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=228) [download and any in-app](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=230) [purchases that have occurred for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=231) [this app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=232) [This is a digital document, it's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=234) [stored on the user's device, we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=235) [provide an API for you to access](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=237) [it and it's put there by the App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=238) [it and it's put there by the App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=238) [Store.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=240) [We also sign this document using](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=242) [certificates so that you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=244) [check to make sure that it is an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=245) [authentic document that's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=246) [actually issued by Apple.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=248) [And finally, the document is for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=250) [your app on that device only.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=252) [So if you've worked with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=254) [subscriptions before you'll](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=254) [notice that maybe one user with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=256) [multiple devices has receipts](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=258) [that look slightly different on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=260) [each device.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=261) [When it comes to actually](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=261) [verifying this transaction that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=264) [your app's been told about the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=266) [first step that you need to do](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=267) [is to actually verify that the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=268) [document in question, the App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=269) [Store receipt, is authentic.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=270) [So how do you do that?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=272) [You can do this in two ways.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=273) [Firstly, you can use on-device](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=276) [validation and this is where](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=277) [directly on the user's device](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=279) [you can use a series of checks](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=280) [to check the certificates used](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=281) [to sign this app and verify that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=283) [it's authentic.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=285) [Or you can use the technique](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=286) [called server-to-server](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=287) [validation.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=288) [This second technique is where](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=289) [you take that binary encoded](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=290) [receipt data, send it up to your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=292) [own server, and then from your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=294) [server over to the App Store for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=295) [processing.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=297) [And the App Store will actually](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=297) [do those checks for you.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=299) [do those checks for you.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=299) [You can use either of these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=300) [techniques, but whichever one](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=303) [you choose it's important not to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=304) [use online validation directly](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=305) [from the user's device, this is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=307) [not a secure way of actually](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=308) [validating this document is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=310) [authentic.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=311) [But let's compare each of these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=313) [two approaches in a little more](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=314) [detail, especially around](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=315) [subscription management and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=316) [order renewable subscriptions.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=317) [Both of these techniques give](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=320) [you a way to validate that this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=321) [is an authentic document.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=323) [They also give you access to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=325) [contents of the receipt, any](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=326) [transactions that have occurred](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=327) [for this particular user.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=329) [But when it comes to auto](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=331) [renewable subscriptions there's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=332) [a few key advantages that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=333) [server-to-server receipt](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=334) [validation actually gives you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=335) [over on-device receipt](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=337) [validation.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=338) [Firstly, we include some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=339) [additional subscription](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=340) [information in the response to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=341) [that validation check.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=343) [You can use this, Michael will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=345) [talk about a little later in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=346) [this talk.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=347) [Your server is always on to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=347) [handle those renewal](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=351) [transactions in the background.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=351) [This is really important if](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=353) [you've got a service with maybe](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=354) [multiple platforms.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=355) [Your server is not susceptible](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=356) [to a device clock change.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=359) [to a device clock change.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=359) [If you're using on-device](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=361) [receipt validation for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=362) [subscription management on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=363) [user's device there's actually](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=365) [nothing stopping the user from](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=366) [winding their clock back and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=367) [putting themselves into a valid](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=368) [subscription period, maybe a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=370) [free trial that they've actually](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=371) [lapsed their subscription from.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=372) [And finally, it's just a little](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=374) [simpler.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=377) [The server-to-server validation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=378) [you're dealing with JSON API,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=379) [you don't have to build OpenSSL](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=381) [or use ASN.1 decoding.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=383) [So with all these things in mind](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=384) [we're really encouraging more](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=386) [and more people to actually](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=387) [adopt server-to-server](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=388) [validation when it comes to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=389) [maintaining an auto renewable](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=390) [subscription state.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=392) [If you've got a simple utility](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=394) [app that doesn't need any kind](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=396) [of networking you can still use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=397) [on-device validation for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=398) [subscription management.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=400) [And if you're interested in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=401) [finding more about that I'd](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=402) [invite you to check out the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=403) [video from last year's events](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=404) [StoreKit Talk where we went into](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=405) [more detail about on-device](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=407) [receipt validation.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=408) [But for the purposes of this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=410) [talk we're really going to focus](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=411) [more on the server to server](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=412) [techniques outlined here.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=413) [So let's go back to our example](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=416) [and see how we can use](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=417) [server-to-server validation for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=418) [this transaction that we're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=419) [this transaction that we're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=419) [processing.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=420) [Back here in our Transaction](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=421) [Observer you can access that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=422) [binary receipt data using the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=424) [App Store receipt URL API on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=425) [main bundle.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=428) [Once you have this URL you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=429) [pull out the binary data located](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=431) [at that spot on the file system](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=433) [and you can pull out that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=435) [receiptData and base64Encode and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=436) [this will give you a nice string](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=438) [that you can send up to your own](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=439) [server for processing.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=440) [You might provide some in-app](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=441) [networking API for the current](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=443) [user.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=445) [When you're sending that data up](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=446) [to your server for processing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=448) [firstly you'll do this securely](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=449) [obviously.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=450) [You can send it up to maybe a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=451) [process transaction endpoint on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=452) [your server.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=454) [In this endpoint you might have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=455) [a user ID associated with the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=456) [current user for an account on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=458) [your own system.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=460) [You can send this receipt data](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=461) [up to your server and then once](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=462) [you get that on your server you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=464) [can establish a secure](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=465) [connection to the App Store's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=466) [verify receipt endpoint.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=467) [And you can send over that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=470) [receipt data to the App Store.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=471) [Here you can include a password](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=472) [field, this is just a shared](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=475) [secret between your app and the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=476) [App Store.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=478) [You can set this up in App Store](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=479) [You can set this up in App Store](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=479) [Connect and store it on your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=480) [server.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=481) [And when you send this receipt](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=483) [data to the verify receipt](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=484) [endpoint the verify receipt](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=485) [endpoint will respond with JSON](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=486) [payload that looks a little like](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=488) [this.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=491) [The first thing to check when](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=491) [you're verifying that this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=493) [transaction is authentic is this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=494) [status field.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=495) [This is an indication that Apple](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=497) [has actually issued this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=498) [document in the first place.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=499) [Once you've verified that the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=501) [status is zero like this you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=502) [check the contents of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=504) [receipt portion of this payload.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=505) [This is the decoded version of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=507) [that binary data that you just](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=509) [sent to verify receipt endpoint.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=510) [So in here you can do things](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=512) [like verify that the bundle ID](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=513) [in this receipt matches your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=515) [app's bundle ID.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=517) [And then you can inspect the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=519) [in-app array, this contains a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=520) [list of transactions for this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=522) [particular user for your app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=523) [And you can verify that the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=525) [product ID associated with this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=526) [receipt is the one associated](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=529) [with your app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=530) [So assuming that these all match](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=532) [you're determining that this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=534) [receipt entitles this particular](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=535) [user to your subscription](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=537) [product you're ready to go ahead](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=538) [now with that third step,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=539) [now with that third step,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=539) [updating the user's subscription](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=541) [state.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=542) [Now in the same way that each](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=547) [subscription period starts with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=548) [a transaction it also ends with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=550) [an expiry date.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=552) [And the response from verify](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=554) [receipt tells us each of these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=555) [expiry dates for each](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=557) [transaction.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=558) [So looking back at this response](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=559) [from verify receipt you'll](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=561) [notice that there's this expires](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=562) [date field in the transaction](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=564) [and the response.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=565) [Let's bring up the user table](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=567) [now that you might be saving](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=569) [this data on your server.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=570) [You can take this expires date](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=573) [from this transaction and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=574) [actually populate this into a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=575) [field on your own server, maybe](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=576) [the latest expires date field](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=578) [for this particular user.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=579) [And this field is going to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=580) [become the new source of truth](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=582) [on your server for whether or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=584) [not this user is a subscriber.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=585) [While you're here you should](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=588) [also keep track of this other](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=589) [field, original transaction ID,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=590) [and you can save that in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=591) [field called original](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=593) [transaction ID against this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=594) [current user as well.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=595) [Well come back to this one in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=596) [just a moment as to why that's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=597) [important.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=598) [But once you've saved these two](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=600) [bits of information against this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=602) [current user on your server](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=604) [you're ready to go ahead with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=605) [the last step, which is to tell](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=606) [the device that this transaction](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=607) [has actually passed your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=609) [verification checks.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=610) [And then when your device gets](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=611) [this callback it can call Finish](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=613) [Transaction back down in your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=614) [Transaction Observer.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=616) [This is a really important step](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=618) [because finishing the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=619) [transactional will actually](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=620) [clear it out of your payment](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=621) [queue.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=622) [And if you don't call Finish](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=622) [Transaction it might reappear](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=623) [there the next time the app](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=625) [launches for processing.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=626) [So make sure you finish every](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=627) [transaction that begins in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=628) [StoreKit.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=632) [Once you've finished the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=632) [transaction you've got an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=633) [updated subscription state in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=635) [your server, the user is now](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=636) [free to enjoy that subscription](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=637) [period on your service.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=638) [Now let's take another look at](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=643) [that user table I mentioned that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=644) [you're storing on your server.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=645) [Each user who purchases a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=647) [subscription using this setup](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=648) [will be assigned a unique](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=650) [original transaction ID, that's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=651) [that field that you saved from](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=653) [the transaction response.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=655) [And this identifier essentially](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=656) [becomes that user's subscription](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=658) [ID.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=659) [ID.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=659) [And it's important because it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=661) [shows up in all subsequent](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=662) [renewal transactions.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=663) [Let's take a look at how this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=665) [works.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=666) [So let's say that you're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=667) [verifying a renewal transaction,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=667) [this happens in just the same](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=669) [way you might use the same](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=670) [process transaction endpoint on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=671) [your own server.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=672) [When you do those techniques of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=674) [verifying the transactions a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=676) [valid one, and you get up to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=678) [that stage of updating the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=679) [user's subscription state you'll](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=680) [observe here that there's now](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=682) [multiple transactions since this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=683) [is a renewal transaction.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=685) [Now according to your existing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=687) [server-side logic this latest](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=689) [expires date is now a date in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=691) [the past, so the user is not](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=692) [currently a subscriber and you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=694) [need to figure out are they](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=695) [still a subscriber based on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=696) [data in this receipt.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=698) [So how can you use this receipt](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=700) [data and make that deduction?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=701) [Well for discovering whether or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=703) [not the user has an active](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=706) [subscription you can pull out](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=707) [the transactions associated with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=708) [that original transaction ID.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=710) [And then you can find the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=713) [transaction that has the latest](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=714) [expires date.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=715) [Now if you find a date in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=717) [past that's an indication that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=718) [past that's an indication that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=718) [this user is no longer a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=720) [subscriber anymore.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=721) [But if you find a date in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=722) [future that's an indication that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=723) [this user is in a valid](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=725) [subscription period.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=726) [So let's look at how this works](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=728) [in the example that we're going](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=729) [through.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=733) [Grab that original transaction](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=733) [ID associated with this user and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=734) [pull out all the transactions](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=736) [associated with this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=738) [subscription.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=739) [Then sort those transactions by](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=740) [that expires date field and grab](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=742) [the one that has the latest](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=744) [expires date.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=745) [Now you can take that expires](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=746) [date and update that latest](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=747) [expires date field associated](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=749) [with this user.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=750) [And when you do that you're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=751) [effectively extending that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=753) [user's subscription by another](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=754) [length of time and your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=756) [server-side logic now knows that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=757) [the user is in a valid](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=758) [subscription window.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=759) [Of course when you're dealing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=761) [with renewal transactions like](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=762) [this that have come through](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=763) [StoreKit you still need to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=764) [inform the device that it passed](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=765) [those validation checks.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=767) [And have your device, your app](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=769) [call Finish Transaction back](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=771) [down in StoreKit again.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=772) [So let's say you have this set](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=777) [up and working correctly.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=778) [The App Store is charging the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=780) [user's credit card in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=781) [background and you're using](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=782) [StoreKit to process these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=783) [transactions as they come in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=785) [through the app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=786) [And then your server is updating](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=787) [and maintaining this latest](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=789) [expires date field on your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=790) [server.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=792) [So you've got that server-side](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=792) [source of truth as to whether or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=793) [not a user is subscribed.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=795) [Let's now introduce a slightly](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=797) [more complex example though to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=798) [the mix, which is maybe that you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=800) [offer your service through a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=801) [website as well.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=802) [Now when the user accesses your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=804) [subscription service through a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=805) [website you know based on that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=806) [latest expires date field that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=809) [the user is a subscriber.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=810) [But as much as we'd like to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=812) [think that people use our apps](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=814) [all the time let's say that the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=815) [user doesn't use your app for a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=817) [number of days.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=818) [And then during this time the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=819) [App Store actually successfully](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=820) [renews a user's subscription in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=821) [the background.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=823) [When the user tries to access](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=825) [your servers through your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=826) [website that latest expires date](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=827) [is now out of date because your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=829) [server hasn't learned about that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=830) [new transaction.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=832) [So how can your server know](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=832) [about this transaction that's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=834) [occurred on the App Store?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=836) [You use a technique for this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=840) [called status polling, this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=841) [allows you to discover these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=842) [transactions directly from your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=843) [server.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=845) [In order to get set up to be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=846) [able to status poll from your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=847) [server you just save a latest](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=849) [version of that encoded receipt](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=851) [data that you send up associated](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=852) [with each user.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=854) [And what you can do is you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=856) [treat that encoded data just](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=857) [like a token.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=859) [The reason why it can treat it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=860) [like a token is every time you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=861) [send up that encoded receipt](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=862) [data to the verify receipt](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=865) [endpoint the verify receipt](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=866) [endpoint doesn't just respond](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=868) [with a decoded version of that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=869) [receipt data, it also includes](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=871) [any new transactions that have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=872) [occurred for this particular](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=874) [user's subscription.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=876) [It's located in a field called](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=877) [the latest receipt info field in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=878) [that JSON response.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=880) [And you can use that info to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=882) [unlock those new subscription](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=884) [periods for this particular user](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=885) [without the app having to launch](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=886) [at all.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=888) [Let's see how this works.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=890) [So when you're verifying](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=890) [transactions just like we saw](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=892) [before you're sending up that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=893) [receipt data.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=894) [Now once you've determined that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=896) [this transaction in question has](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=897) [passed those same checks that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=899) [passed those same checks that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=899) [you did before you can take that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=901) [receipt data and store that in a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=903) [field called latest receipt data](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=905) [against the current user.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=906) [And now that you have that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=909) [latest receipt data stored,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=910) [that's a base64Encode string](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=912) [with the user.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=914) [When it comes time to answer](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=915) [that question, does my user have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=916) [an active subscription you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=918) [just take that latest receipt](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=919) [data from your server directly](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=920) [and send it to the verify](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=922) [receipt endpoint.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=923) [You can also include here an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=925) [optional flag that's the exclude](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=926) [old transactions flag, this is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=928) [just telling verify receipt that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=930) [you don't even want to know](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=931) [about that decoded version of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=932) [the receipt you just want to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=933) [find out about any new](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=934) [transactions.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=935) [Verify receipt will respond with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=937) [that particular object, the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=939) [latest receipt info object.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=941) [And inside this object is those](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=943) [new transactions that have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=944) [occurred before this receipt](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=945) [data was actually generated.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=947) [And you can take the expires](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=948) [date directly from the response](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=950) [of the latest receipt info](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=952) [object and update it against the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=953) [current user, again extending](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=956) [them access to that next](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=958) [subscription window.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=959) [subscription window.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=959) [And so the user who is on your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=960) [website trying to access your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=962) [content can now access that next](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=963) [subscription period all without](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=965) [the app having to launch with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=966) [that new transaction.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=968) [If you are using this technique](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=970) [though status polling it's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=972) [important to remember one thing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=973) [and that's that when your app](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=974) [does come back online again](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=975) [transactions will still appear](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=977) [through StoreKit in the updated](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=979) [transactions callback.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=980) [And you still should handle](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=981) [these transactions passing them](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=982) [up to your server for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=984) [verification and finishing them](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=985) [back down on the user's device](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=987) [again, even if your server](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=988) [already knows about them through](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=989) [a status poll.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=991) [We'd encourage you to use that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=993) [as an opportunity just to send](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=994) [up that new latest receipt data](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=995) [for storage against the current](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=997) [user on the server.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=999) [Now status polling works great](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1004) [when the user's credit card is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1006) [able to be charged, but what if](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1007) [some subscription period the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1010) [user's credit card has some kind](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1011) [of billing issue and the App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1012) [Store isn't able to charge it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1014) [for the next subscription](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1015) [period.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1017) [Is this user destined to remain](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1017) [unsubscribed involuntarily?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1019) [unsubscribed involuntarily?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1019) [Not at all.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1021) [When reacting to billing issues](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1023) [like this you can do three](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1024) [simple steps.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1025) [Firstly, you can observe that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1026) [there's been no renewal](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1028) [transaction for this particular](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1029) [user, their subscription has now](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1030) [lapsed.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1032) [Secondly, you can direct that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1033) [particular user to go and update](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1035) [their billing info.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1037) [And then the third step, when a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1039) [renewal transaction occurs](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1041) [unblock that user immediately](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1043) [after it happens.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1045) [Now, steps one and two are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1047) [pretty straightforward using the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1048) [status polling techniques that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1049) [we just went through, but step](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1050) [number three here uses a feature](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1052) [that we actually launched last](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1054) [year server-to-server](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1055) [notifications.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1056) [Let's walk through this example,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1058) [let's say that one subscription](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1059) [period the App Store has an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1060) [error when trying to charge this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1062) [user's credit card.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1063) [And then you find out about the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1065) [fact that there is no new](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1067) [renewal transaction for this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1068) [user through a status poll.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1069) [Your server correctly makes the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1072) [calculation that this user is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1074) [not a subscriber anymore and so](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1075) [when the user comes along to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1076) [access your service through the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1077) [website you give them some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1079) [website you give them some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1079) [appropriate error message about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1080) [the fact that their subscription](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1081) [wasn't able to be renewed.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1083) [And you can direct that user to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1084) [go and update their billing info](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1085) [in the App Store.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1087) [Now when the user does update](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1089) [their billing info, maybe they](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1090) [just need to update an expiry](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1091) [date or something, two things](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1092) [happen.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1094) [Firstly, the App Store will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1095) [actually immediately charge that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1097) [user's credit card and make a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1098) [successful transaction.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1100) [And when the App Store does do](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1101) [this the second part of what it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1102) [does is it sends your server a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1104) [direct HTTP post upon the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1106) [successful renewal.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1108) [And then the payload of this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1109) [post includes the new](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1111) [transaction info for the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1113) [transaction that's just](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1115) [occurred.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1116) [You can use that original](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1117) [transaction ID field located in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1117) [the payload to locate which user](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1119) [this notification is for.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1121) [Once you find out which user](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1123) [you're talking about, well you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1124) [can grab that latest expires](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1125) [date and update it for this new](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1127) [user giving them access again to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1129) [that next subscription period.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1131) [And then the user who's probably](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1132) [still sitting on your website](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1134) [trying to get access to your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1135) [content will be able to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1137) [immediately be unlocked since](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1139) [immediately be unlocked since](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1139) [your server received that push](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1141) [straight from the App Store.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1143) [It's really important to unlock](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1145) [users in a speedy manner when](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1147) [this sort of thing happens,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1149) [especially when they go to all](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1149) [that effort for updating their](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1150) [credit card info manually and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1152) [waiting for access to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1153) [servers.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1154) [But there's one thing to note](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1155) [here and that's the notification](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1156) [is only sent if the subscription](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1157) [actually lapsed like we just](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1159) [saw.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1160) [To discover successful renewal](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1162) [transactions you still need to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1163) [rely on status polling](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1164) [techniques we just outlined](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1166) [before.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1167) [But it's really easy to set up](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1168) [to use server-to-server](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1170) [notifications.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1170) [All you do is enter a URL in App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1171) [Store Connect.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1174) [This is just an endpoint on your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1175) [own server and if you enter it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1176) [into App Store Connect the App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1178) [Store will begin to send your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1179) [server HTTPS posts for these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1180) [status change events.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1183) [And as we saw included in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1184) [post is that latest transaction](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1185) [info for the transaction that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1187) [triggered it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1189) [You do make sure your server is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1190) [ATS in order to receive these,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1191) [but it's a really simple step](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1194) [that you can do to give a bunch](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1195) [of users a much better](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1196) [experience.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1197) [So those are some tips and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1202) [tricks around how to build your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1204) [app and server architecture.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1205) [Let's talk about three tips that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1207) [you can use in your in-app](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1208) [experience to really enhance the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1209) [user's experience.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1211) [Firstly, we made the assumption](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1213) [earlier that the user was signed](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1214) [in to an account on your own](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1216) [service.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1217) [In order to keep track of each](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1219) [subscription ID you need this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1221) [particular user table located on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1222) [your server.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1224) [Now when it comes to actually](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1225) [creating accounts we think it's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1226) [best to offer in-app purchase](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1228) [before an account creation step.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1229) [Why is that?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1232) [Well as the user it's a much](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1233) [better experience, you can just](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1234) [open the app for the first time](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1235) [and buy the subscription](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1236) [immediately getting access to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1238) [the content you're after.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1239) [For you it's better because you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1240) [get higher conversion rates,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1241) [users don't have to go through](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1243) [funnels of entering emails and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1244) [passwords to be able to get](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1245) [access to giving you money.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1247) [Now you can use the techniques](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1249) [that we just went through by](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1250) [using an anonymous account in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1251) [these instances.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1253) [And you can rely on the original](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1255) [transaction ID if you need to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1258) [associate multiple devices.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1259) [associate multiple devices.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1259) [If you're using anonymous](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1262) [accounts like this, when it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1263) [comes time down the road to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1264) [actually give the user an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1266) [account creation flow, you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1268) [just simply take them through a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1269) [deanonymization step where you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1270) [update those email fields and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1272) [maybe other personally](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1273) [identifiable fields.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1274) [So that's tip number one.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1276) [Tip number two is around selling](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1279) [your in-app purchase.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1280) [When it comes to selling your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1282) [subscription, you can use a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1283) [feature that we launched last](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1284) [year Introductory Pricing.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1285) [Now there's an important step](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1287) [with Introductory Pricing which](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1288) [is that you need to know at](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1290) [runtime whether or not a user is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1291) [actually eligible for an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1293) [introductory price.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1294) [And the reason you need to know](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1295) [this is you have to know which](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1296) [price to render to your user,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1298) [whether to render the normal](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1300) [StoreKit price or the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1301) [introductory offer that you want](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1302) [to offer a user to get them in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1303) [the door.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1304) [Now you can set yourself up to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1306) [actually know this ahead of time](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1307) [by monitoring the transactions](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1308) [that are occurring in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1310) [background as they come in.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1311) [Let's see how this works.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1313) [When you're verifying](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1314) [transactions like we just saw](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1315) [earlier keep an eye out for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1317) [these two fields.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1318) [The is trial period field and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1319) [The is trial period field and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1319) [the is in intro offer period](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1321) [field.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1323) [If either of these fields are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1324) [true that's an indication that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1325) [an introductory offer or a free](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1327) [trial was used for this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1329) [particular transaction.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1330) [And if it was you should keep](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1332) [track of the product ID in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1333) [question against this current](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1335) [user.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1337) [You might store them in a field](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1337) [called consumedProductDiscounts.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1338) [Now if you're keeping track of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1341) [which products were used with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1343) [introductory offers, when it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1344) [comes time to render the price](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1346) [of some new subscription product](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1347) [that you want to show your user](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1349) [this is how you can do it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1351) [You can take those consumed](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1353) [product discounts saved against](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1354) [the current user and execute an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1356) [SKProductsRequest with them.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1358) [And the reason why is that the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1359) [response from SKProductRequest](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1361) [now in iOS 12 includes the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1362) [subscription group identifier so](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1364) [you know which subscription](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1366) [group this particular product is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1367) [from.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1368) [And now armed with this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1369) [subscription group identifier](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1371) [you can keep track of that in a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1372) [set of consumed group discounts](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1374) [for this particular user.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1376) [So you know which subscription](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1377) [groups this user has used offers](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1379) [groups this user has used offers](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1379) [for.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1381) [Now when you want to render the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1382) [price string of say product A it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1383) [becomes a simpler check.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1386) [You can check to see if this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1387) [user's list of consumed group](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1388) [discounts contains the group](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1390) [identifier for the one you want](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1392) [to sell them, in this case](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1393) [product A.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1394) [And if it does, that's an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1394) [indication that this user has](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1397) [actually used an introductory](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1398) [offer here before, so you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1399) [render the normal price string](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1400) [to this particular user.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1402) [But if not, they're still](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1404) [eligible for that introductory](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1405) [offer so you can use that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1407) [introductory price located on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1408) [the SKProductObject.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1409) [Now when rendering the price](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1411) [string nothing's really changed](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1413) [here it's the same techniques](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1415) [that you use for rendering any](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1417) [in-app purchase and I'm not](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1418) [going to go into too much more](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1419) [detail here, but I'd encourage](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1420) [you to check out the video of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1421) [the session just before this one](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1422) [where they talked about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1424) [rendering these price strings a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1425) [little more dynamically.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1426) [For more information about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1428) [setting up introductory offers](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1429) [I'd also recommend you go to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1430) [What's New in App Store Connect](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1431) [session on Wednesday at 5 p.m.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1432) [in hall three.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1434) [So that's tip number two around](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1435) [introductory pricing.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1438) [The third tip here is around](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1439) [The third tip here is around](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1439) [subscription management.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1440) [You can offer the user upgrades](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1443) [and downgrades between](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1444) [subscription tiers right in your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1445) [app's UI.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1447) [And to do this you can actually](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1448) [treat it just like selling an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1449) [initial subscription.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1450) [Now if the subscription you're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1452) [selling the user is part of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1454) [same subscription group, so it's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1455) [a different tier than the one](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1457) [the user has already subscribed](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1458) [to you can basically just create](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1459) [an SKPayment just like you would](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1462) [if you were selling them an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1463) [initial subscription.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1464) [And when you do this StoreKit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1466) [actually handles the fact that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1467) [it's an upgrade or downgrade for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1468) [you.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1469) [So you don't have to worry about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1470) [that user being subscribed](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1471) [twice.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1472) [Now if you don't want to provide](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1474) [your own UI for upgrades and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1475) [downgrades in your app you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1477) [also just provide a link out to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1478) [the App Store subscription](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1479) [management screen.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1481) [We provide a link for you to be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1482) [able to get to this screen](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1483) [directly from your app and here](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1484) [the user can upgrade, downgrade](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1486) [or even cancel their](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1487) [subscription.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1488) [Now your app is often the first](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1490) [place a user will go for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1491) [subscription management, to be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1492) [able to upgrade, downgrade or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1493) [cancel.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1494) [So it's a really good idea to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1495) [give some kind of link maybe in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1496) [your app's settings for a user](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1497) [to be able to do this.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1499) [to be able to do this.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1499) [To actually get to this screen](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1501) [there's a link available on our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1502) [In-App Purchase Programming](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1503) [Guide and here it is if you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1504) [enjoy writing down links.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1506) [So these are some simple](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1509) [techniques you can implement in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1510) [your app to give a user a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1511) [pleasant experience using](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1512) [subscriptions.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1514) [Next, I'm going to hand it over](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1514) [to my colleague Michael who's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1515) [going to go over some great](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1516) [techniques for reducing your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1517) [subscriber churn.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1519) [Thanks.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1519) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1520) [&gt;&gt; Good afternoon, my name is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1530) [Michael Gargas and I'm a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1531) [technical advocate on the App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1532) [Store operations team.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1533) [Today I want to talk about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1535) [reducing subscriber churn inside](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1536) [your applications by using some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1538) [of the tactics and methods that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1540) [Pete just walked you through.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1541) [Today we'll cover involuntary](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1544) [churn and voluntary churn, the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1546) [two types of churn you'll see](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1548) [inside of your subscription](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1549) [applications, as well as some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1550) [ways to win back those](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1551) [subscribers that you potentially](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1553) [may have lost or will lose.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1554) [First, let's talk about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1557) [involuntary churn.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1559) [involuntary churn.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1559) [Involuntary churn is the loss of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1561) [a subscriber due to a failed](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1563) [payment or billing issue on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1564) [platform.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1568) [Now last year at Dub Dub DC we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1568) [walked you through what we're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1570) [doing in order to minimize](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1571) [involuntary churn inside of your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1573) [applications.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1574) [We announced our updated Billing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1576) [Retry service where we expanded](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1577) [our retry duration from 24 hours](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1579) [to up to 60 days.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1581) [We also implemented new retry](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1584) [strategies and we tuned them](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1585) [over time to recover more and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1587) [more of your subscriptions.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1589) [A date to remember is July 13th,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1591) [2017 because this is the day](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1594) [that Apple actively started](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1597) [recovering subscriptions for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1599) [you.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1600) [If we look at the performance of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1601) [Billing Retry since launch we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1605) [can see that our recovery rate](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1607) [has more than doubled.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1608) [And when we look at involuntary](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1609) [churn we've cut this by over 2%](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1612) [platform-wide.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1614) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1616) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1616) [Now if we look at how our tuning](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1623) [has impacted the recovery of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1624) [subscriptions we can see that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1625) [quarter over quarter we've been](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1628) [able to continue to recover more](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1629) [and more of your subscriptions.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1631) [Now the net result of this has](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1633) [been 12 million of your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1637) [subscriptions recovered since](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1639) [the launch of Billing Retry.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1641) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1642) [So that's what Apple's doing to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1647) [minimize involuntary churn for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1648) [you.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1649) [But there's also some tactics](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1650) [that you as a developer can do](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1652) [to minimize voluntary churn](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1653) [inside of your subscription](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1655) [applications.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1656) [You can leverage some of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1658) [subscription specific receipt](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1659) [fields that Pete mentioned](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1661) [earlier.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1662) [You can implement grace periods](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1663) [and during that time you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1665) [deploy some effective customer](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1667) [messaging.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1669) [So let's take a look at an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1671) [example subscription.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1672) [Here we can see that our](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1674) [subscriber was set to renew on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1675) [April 26th, however, they](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1677) [April 26th, however, they](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1677) [encountered a billing issue.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1680) [So in order to let you know that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1682) [Apple is actively attempting to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1684) [collect funds from that user via](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1686) [the Billing Retry service we are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1687) [going to surface a field in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1690) [JSON response aptly titled is in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1691) [billing retry period.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1694) [A value of one signifying that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1696) [we're attempting to collect](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1698) [funds for that subscriber.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1699) [If we go back to our example of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1701) [subscription you can see that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1704) [this has been added to JSON](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1705) [response.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1707) [And when you see this in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1707) [conjunction with the expires](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1709) [date this is your signal as a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1710) [developer to implement what we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1712) [call a grace period.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1714) [You may ask yourself what is a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1717) [grace period.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1718) [A grace period is free](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1722) [subscription access while in a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1724) [billing retry state, however](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1726) [it's before you have lost that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1727) [subscriber, before they've](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1729) [churned out.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1730) [The goal of the grace period is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1732) [to improve recovery.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1733) [So let's take a look at how we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1734) [can do that leveraging some of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1736) [the information in the receipt](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1738) [response.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1739) [If we flip back to our example](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1740) [subscription you can see that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1742) [our subscriber is in a billing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1744) [retry state and was set to renew](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1745) [on April 26th.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1747) [Here we want to add some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1749) [server-side logic to use that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1750) [expires date field and the is in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1752) [billing retry period in order to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1754) [add a period of time, in this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1756) [example three days where that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1758) [user will continue to have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1760) [access to the service and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1761) [technically stay subscribed.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1763) [Now why would you do this?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1766) [Well it's an opportune time to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1768) [deploy some effective customer](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1770) [messaging to contextually](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1772) [communicate with your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1773) [subscribers and let them know](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1774) [that there may be an issue with](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1776) [their subscription.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1777) [You may want to do things like](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1779) [ask them to update their payment](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1781) [method or have them restate the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1782) [value proposition of the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1785) [subscription offering that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1786) [they're subscribed to.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1787) [And during this time you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1789) [offer limited service as well,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1790) [such as a browse but not watch](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1792) [experience in an entertainment](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1794) [app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1796) [Here we can see Peak, a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1797) [subscription developer on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1799) [subscription developer on the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1799) [App Store.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1800) [Peak is leveraging the Billing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1802) [Retry status fields in order to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1803) [surface a contextual message to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1805) [their subscribers letting them](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1807) [know that there's been an issue](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1809) [with their subscription.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1810) [When engaged upon they're taken](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1812) [to an additional screen which](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1814) [clearly states what the issue is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1816) [and how they can resolve it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1818) [But it would be really effective](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1821) [if from this screen you could](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1823) [drive that user or subscriber](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1824) [directly to our systems to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1826) [update their payment details.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1827) [So I'm excited today to announce](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1829) [that we have two new URLs coming](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1832) [shortly after Dub Dub DC this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1833) [year, one to drive users](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1835) [directly to update their billing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1837) [information and the others to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1838) [take them to manage their](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1840) [subscriptions as Pete alluded to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1841) [earlier for upgrades, downgrades](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1842) [and crossgrades.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1844) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1845) [With that being said, a lot of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1851) [developers will ask well when](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1852) [are we seeing our users be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1854) [recovered.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1855) [And on average we see the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1856) [majority of users recovered](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1858) [within the first seven days of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1859) [within the first seven days of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1859) [entering a Billing Retry state](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1861) [on the platform.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1863) [This might be a time to offer a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1863) [full access grace period because](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1867) [we see a lot of users](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1869) [self-recovering during this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1870) [time.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1873) [You may want to deploy that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1874) [customer messaging towards the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1875) [tail end of this to bring in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1876) [some of those subscribers that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1878) [might've taken longer to come](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1879) [back into your application.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1880) [Let's flip back to our example](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1885) [subscription.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1886) [What happens if this is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1887) [effective and we're able to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1888) [recover these customers?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1890) [When a retry attempt is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1891) [successful the date of the retry](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1894) [or recovery becomes the new](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1896) [subscription anniversary date](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1898) [moving forward and this will be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1899) [reflected in JSON response when](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1901) [validating that successful](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1903) [transaction and finishing it.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1904) [But we're not going to stop](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1907) [there we're also going to deploy](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1908) [our server-to-server](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1910) [notifications so that you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1911) [immediately unlock access on all](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1913) [platforms and close the loop](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1915) [with your customer letting them](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1917) [know hey you're all set.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1918) [know hey you're all set.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1918) [So that's involuntary churn](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1920) [where the customer didn't](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1924) [technically make a choice to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1925) [unsubscribe from your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1926) [application.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1927) [But what is voluntary churn?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1928) [Voluntary churn is the loss of a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1932) [subscriber due to customer](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1934) [choice, either cancellation or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1936) [refund requests.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1938) [To be clear, this user actively](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1940) [made the choice to leave your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1943) [subscription offering.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1944) [So what can you do as a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1946) [developer to minimize voluntary](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1948) [churn inside of your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1950) [applications?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1951) [Well Pete walked you through how](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1953) [to status poll earlier and you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1954) [can implement that to get some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1955) [key subscription details about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1957) [your users and when you get that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1959) [information you can use it to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1961) [offer attractive alternative](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1962) [subscription offerings to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1964) [potentially save that user.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1965) [So let's talk a little bit more](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1971) [about status polling.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1972) [With the release of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1974) [server-to-server notifications](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1975) [there's really only two key](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1977) [reasons that you still need to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1979) [reasons that you still need to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1979) [status poll.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1980) [The first is understanding will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1982) [my subscriber churn in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1985) [subsequent subscription period](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1987) [and the second being has my](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1989) [subscriber renewed.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1991) [We often get asked when should I](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1992) [status poll as a developer, when](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1996) [should I try to catch those](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1997) [users and see their subscription](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=1998) [state changes.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2000) [The most effective times that we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2003) [see are doing that status poll](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2005) [at the beginning or end of a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2007) [subscription period.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2008) [By deploying this responsibly](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2010) [you're most likely going to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2012) [catch most users that may want](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2013) [to voluntarily churn from your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2015) [subscription offering.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2017) [But when you status poll you'll](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2020) [also get access to some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2022) [additional subscriber status](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2023) [fields.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2025) [And you may want to take those](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2025) [fields and save the decoded JSON](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2027) [response from the verify receipt](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2029) [call in the user tables on your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2031) [databases.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2033) [Or alternatively, you can parse](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2035) [out specific fields such as the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2037) [Billing Retry Status in order to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2039) [Billing Retry Status in order to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2039) [segment your customers and maybe](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2040) [understand those that are in a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2042) [retry state and those that are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2043) [not.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2046) [But the signal to understand if](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2047) [a customer will voluntarily](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2049) [churn is shown via a field](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2050) [called auto renew status.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2053) [Auto renew status will let you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2057) [know with a value of one that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2058) [that subscriber will return in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2060) [the subsequent subscription](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2062) [period and a value of zero](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2063) [letting you know that they will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2065) [voluntarily churn at their next](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2066) [subscription anniversary date.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2068) [Let's see what this would look](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2070) [like in our example](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2072) [subscription.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2073) [Here we have a subscriber](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2075) [purchased on March 26th and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2077) [they've made the choice to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2080) [disable auto renew via the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2082) [manage subscription setting](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2083) [screen.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2084) [Now coincidentally, we status](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2085) [polled shortly after this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2088) [happened and we were able to see](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2089) [via the receipt response that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2092) [the auto renew status has](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2094) [changed to zero.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2095) [It's at this point that you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2097) [update your user tables on your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2099) [update your user tables on your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2099) [database or on your server and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2101) [segment that customer as a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2103) [potential voluntary churning](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2104) [customer.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2106) [If we go back to the example](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2107) [subscription we've status](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2111) [polled, we've captured this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2112) [customer might leave, so what](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2115) [should we do?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2116) [As a developer this is your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2118) [opportunity to present an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2119) [attractive downgrade offer](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2121) [potentially in the same](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2122) [subscription group.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2123) [Here we can see Peak trying to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2125) [save that user by potentially](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2127) [having them take a lesser term](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2129) [or a lesser price subscription](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2130) [of a different duration or maybe](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2132) [a different offering.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2134) [If that subscriber decides to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2135) [engage with this the same way](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2139) [that Pete showed you by](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2141) [surfacing upgrades and](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2142) [downgrades within your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2143) [applications we want to let you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2144) [know what product they will](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2147) [renew on in the subsequent](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2148) [period.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2150) [We do this via the auto renew](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2151) [product ID field in the JSON](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2154) [response.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2155) [So this differs from product ID](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2157) [in that this is what the next](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2159) [in that this is what the next](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2159) [offering will be after that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2160) [subscriber renews.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2162) [Here we can see in the example](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2163) [subscription our subscriber has](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2167) [elected to downgrade instead of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2169) [churn out.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2171) [We've changed the auto renew](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2172) [status to one and we've added](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2173) [auto renew product ID.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2176) [It would also be beneficial to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2179) [be notified of this change](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2181) [immediately, so for this we'll](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2182) [also send a server-to-server](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2184) [notification letting you know](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2186) [that your subscriber did change](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2187) [their renewal preference.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2190) [This is useful if you want to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2191) [maybe state the differing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2194) [service levels between what](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2196) [they're currently subscribed to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2198) [and what they will have in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2199) [subsequent period.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2200) [Now it's impossible to run a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2202) [100% retention subscription](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2206) [business, so it's important to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2207) [understand how you could](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2209) [possibly win back some of those](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2210) [subscribers that you might have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2212) [lost.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2214) [A win back is reengaging](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2216) [subscribers after they've](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2218) [churned by showing them](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2219) [churned by showing them](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2219) [resubscription offers or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2221) [potentially surveying them to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2223) [understand why they've left.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2224) [If we look at our example](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2226) [subscription let's see what a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2229) [voluntary cancellation would](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2230) [look like and how we can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2232) [leverage that inside of our app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2233) [Here our user has elected to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2236) [cancel via AppleCare.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2238) [In order to let you know we're](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2240) [going to surface a cancellation](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2242) [date field in the JSON response.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2244) [This is your signal to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2246) [understand this customer has](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2247) [contacted AppleCare and either](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2249) [canceled or requested a refund.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2251) [But as a developer you would](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2253) [want to know this information](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2256) [immediately.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2257) [For this we'll deploy a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2258) [server-to-server notification.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2260) [This is important because you'll](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2262) [immediately want to shut off](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2263) [access to those users on all](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2265) [platforms and potentially](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2267) [prompting them to see](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2269) [alternative subscription offers.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2270) [Now after this user has churned](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2272) [it would be important to easily](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2276) [segment between those that have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2277) [voluntarily chosen to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2279) [voluntarily chosen to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2279) [unsubscribe and those that have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2280) [involuntarily been unsubscribed](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2282) [due to a payment issue or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2284) [billing issue.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2285) [So for that we have the field](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2287) [expiration intent in the JSON](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2289) [response.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2291) [Now to be clear, this will only](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2292) [show up after the subscription](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2294) [has lapsed.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2296) [And we really want to focus on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2298) [two key values, the first being](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2299) [value one which signifies](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2302) [voluntary churn, the second](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2303) [signifying involuntary churn](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2307) [with a value of two.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2309) [If we flip back to our example](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2313) [subscription where our customer](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2314) [canceled via AppleCare you can](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2316) [see that we've added the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2317) [expiration intent field to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2318) [receipt response with a value of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2320) [one.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2322) [So what do you do as a developer](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2322) [when you see your subscribers in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2327) [this state after they've already](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2328) [churned and you've segmented](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2330) [between those that have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2331) [voluntarily and involuntarily](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2332) [churned?](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2334) [Well for voluntary you may want](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2335) [to survey those subscribers who](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2338) [to survey those subscribers who](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2338) [have opted into an account on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2340) [your system.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2341) [You can ask them maybe why the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2342) [service wasn't appropriate for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2344) [them and what you can do to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2345) [tailor it moving forward to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2347) [provide a better experience for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2348) [them or other users.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2349) [Additionally, you can always](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2352) [just show alternative](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2353) [subscription products](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2354) [potentially within the same](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2356) [group because if they](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2357) [re-subscribe you want to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2358) [continue accruing your time](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2359) [towards that 85/15 revenue](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2361) [share.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2362) [Here we can see Peak when a user](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2363) [has voluntarily churned being](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2367) [shown a resubscription offer, in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2369) [this case a 60% discount.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2371) [For involuntary churn since the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2377) [user did not actively make the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2378) [choice to unsubscribe it's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2379) [appropriate to just show the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2381) [same or alternative subscription](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2382) [products.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2383) [You may want to leave some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2385) [persistent messaging if that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2386) [user is logged in inside the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2387) [application experience letting](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2388) [them know that they have lapsed,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2390) [but that they can always come](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2392) [back.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2393) [And you may also want to deploy](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2394) [a limited subscription](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2395) [experience, such as a browse but](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2397) [not watch experience in an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2399) [not watch experience in an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2399) [entertainment app.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2400) [Here we can see Tinder, when](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2401) [users interact with pro level or](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2404) [subscription level features they](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2407) [are continually prompted to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2408) [subscribe.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2410) [So in summary, if you take](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2412) [anything away from this section](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2414) [on reducing subscriber churn](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2415) [it's that you should be](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2417) [leveraging these subscription](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2418) [receipt fields effectively.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2419) [You can then implement status](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2422) [polling to understand when your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2425) [subscribers may voluntarily](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2426) [churn.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2427) [You can then use that status](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2432) [polling to deploy some targeted](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2433) [and effective customer](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2435) [messaging.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2436) [And then to close it out,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2437) [presenting contextual](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2440) [subscription offers to these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2442) [users to hopefully win them back](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2443) [or prevent them from churning in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2445) [the first place.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2446) [So with that I'd like to hand it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2448) [back to my colleague Pete to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2450) [discuss analytics and reporting.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2451) [Thank you.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2453) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2454) [&gt;&gt; Thanks Michael.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2463) [If you haven't implemented](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2464) [handling of these JSON fields](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2465) [yet we highly recommend you try](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2466) [it and watch the great effect it](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2468) [has on your retention rates.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2469) [It's not often as engineers we](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2471) [get the chance to make such](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2472) [simple architectural tweaks that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2473) [can have such a big effect on a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2475) [business' revenue, so take a](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2477) [look.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2478) [Now we've got some great new](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2480) [updates today in the areas of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2481) [analytics and reporting.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2482) [Located in App Store Connect the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2484) [sales and trends section](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2486) [contains a huge amount of useful](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2487) [information.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2489) [Now you can get even more](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2490) [insight into your app's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2491) [performance.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2492) [This existing subscription](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2493) [summary dashboard now includes](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2494) [monitoring for subscriptions](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2496) [that are in those Billing Retry](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2498) [windows.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2499) [This is great for gaining](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2501) [insight into your subscriber](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2502) [behavior and to determine the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2503) [most effective amount of time to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2504) [offer those grace periods for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2506) [like Michael just talked about.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2507) [This year we're also introducing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2510) [a brand-new dashboard for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2512) [subscription retention.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2513) [This page offers a glance at how](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2515) [your introductory prices are](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2517) [going, as well as how many of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2518) [the users are subscribed to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2519) [the users are subscribed to the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2519) [higher proceeds rate, that's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2521) [that 85 to 15% split you get](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2522) [when a user has been subscribed](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2524) [for a year.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2525) [The dashboard includes new](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2527) [graphs to help you quickly](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2529) [identify which subscription](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2531) [cohorts are the highest](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2532) [performing and you can monitor](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2533) [your subscription performance](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2535) [over time and compare your app's](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2537) [performance across different](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2538) [territories.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2540) [Now all this new information is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2542) [not just available inside the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2543) [App Store Connect report, but](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2545) [it's now available through the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2546) [new App Store Connect API.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2547) [The report data here is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2550) [available to you daily and you](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2551) [can script your own setups to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2553) [import this maybe into your own](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2556) [data warehouses for further](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2557) [analysis.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2558) [We're not going to go into any](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2559) [more information on the App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2561) [Store Connect API here, but I](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2562) [really recommend you check out](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2563) [the automating App Store Connect](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2564) [session in the hall three on](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2565) [Thursday at 3 p.m., there's some](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2567) [really exciting enhancements in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2569) [the area of automation.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2570) [Now we've talked a bit about](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2572) [what you can get from receipts](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2574) [and what you can get from these](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2575) [App Store Connect reports.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2576) [So as a bit of a summary, App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2577) [Store receipts are useful for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2579) [Store receipts are useful for](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2579) [validating those StoreKit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2581) [transactions and updating user](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2582) [subscription states, maintaining](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2584) [the state on your server.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2585) [And you can also use them to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2587) [understand individual subscriber](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2588) [behavior just like Michael](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2590) [showed you.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2591) [For App Store Connect reports](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2591) [it's for a slightly different](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2594) [reason, they're better at that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2595) [macrolevel analysis, maybe](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2596) [understanding subscription](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2598) [pathways of users of your app](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2599) [and maybe most importantly,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2601) [understanding how much money is](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2603) [going to get deposited into your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2604) [bank account for your](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2605) [subscriptions.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2606) [Now we've covered a lot of](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2607) [topics here today, but as a bit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2610) [of a summary remember that](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2612) [server-side state management](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2613) [offers you much more flexibility](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2615) [when it comes to managing](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2617) [subscriptions.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2618) [If you haven't done it yet add](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2620) [that URL to receive](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2622) [notifications from the App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2623) [Store.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2624) [Consider offering an](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2626) [introductory price in your app,](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2627) [it's a great way to get users in](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2628) [the door to your own](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2629) [subscriptions.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2630) [Add some simple messaging to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2632) [reduce subscriber churn, using](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2634) [those fields that Michael walked](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2635) [us through.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2636) [And for users that have actually](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2637) [lapsed offer some alternative](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2639) [lapsed offer some alternative](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2639) [subscription options maybe to](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2641) [win them back.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2642) [Finally, remember to check out](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2644) [these new reporting tools](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2645) [available in App Store Connect.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2646) [For more information on this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2649) [session and for the video, this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2651) [has been session 705.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2652) [We're also going to be in the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2654) [labs this week right after this](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2655) [and also on Thursday at 9 a.m.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2657) [we'll have engineers from the](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2659) [StoreKit team and for App Store](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2659) [Connect ready to answer any](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2661) [questions that you might have](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2662) [about engineering subscriptions.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2663) [Thanks a lot.](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2665) [[ Applause ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/705/?time=2666)