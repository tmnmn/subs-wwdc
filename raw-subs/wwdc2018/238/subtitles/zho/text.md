# What's New in TVMLKit

## Summary
With TVMLKit you can quickly and easily develop tvOS apps that deliver intuitive and engaging media experiences. Learn about enhancements to data binding that allow you to separate your application logic and user interface, and new features and functions to customize the media playback experience.

## Info
* Frameworks
* WWDC 2018 - Session 238 - tvOS
* https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/

## Text
 [[ 音乐 ]](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=7) [&gt;&gt; 大家好](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=19) [我叫 Jeremy 是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=20) [tvOS 团队的一名工程师](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=21) [今天 我很高兴](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=23) [能与大家分享](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=25) [tvOS 12 中 TVMLKit 的新内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=26) [如果你不熟悉 TVMLKit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=29) [这是 Apple 的一个高级框架](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=32) [可以快速构建基于内容的 tvOS App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=34) [它无需额外设置 就已经](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=38) [符合我们的 Human Interface Guidelines](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=39) [让你的 App 外表](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=41) [美观 体验合理](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=42) [TVMLKit 使用 JavaScript 来驱动](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=45) [App 逻辑 还使用了一种](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=47) [基于 XML 的标记（markup）语言](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=49) [按照你的规定 渲染成](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=51) [屏幕上的用户界面（UI）](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=53) [其实 大家熟知的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=57) [一些常用 App 就是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=59) [一些常用 App 就是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=59) [用 TVMLKit 构建的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=61) [此外 还有数千款 App Store 中的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=64) [也是如此](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=66) [我们先来谈谈](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=69) [我们为 TVMLKit](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=70) [进行的改进 我今天](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=72) [想先谈谈其中的三点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=74) [首先 我们改进了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=76) [网页检查器（Web Inspector）](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=78) [方便你更好地找出 App 中的错误 并深入](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=80) [地进行分析](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=83) [去年以来 我们添加了许多新特性 并做了许多改进](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=86) [以改善 TVMLKit 的框架](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=88) [今天 我会讲到其中三点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=90) [我们会提到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=92) [全新的网页检查器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=94) [它改进了调试过程](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=97) [更新了功能更为强大的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=99) [数据绑定构建](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=101) [并添加了全新的自定义 TVMLKit 上播放](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=103) [体验的方法](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=105) [我们先来谈谈网页检查器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=107) [tvOS 11 加强了对](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=110) [网页检查器的支持 能够](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=113) [让你进一步分析](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=114) [使用 TVMLKit 的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=116) [自此 我们进一步增强了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=117) [这方面的支持](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=119) [这方面的支持](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=119) [tvOS 11.3 中 除了可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=122) [在元素中显示注册](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=125) [事件监听器 现在你也可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=126) [暂时将其禁用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=128) [这对调试很有帮助](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=130) [因为现在你可以随意启用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=133) [或禁用事件处理器了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=134) [在网络标签页下](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=140) [XHR 中除了文稿资源](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=142) [还有图像资源](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=143) [这样 你就可以看到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=145) [正在加载的图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=147) [以及其他信息 例如](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=149) [加载耗时 以及时间分配的情况](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=150) [如果你想看到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=152) [实际传输的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=155) [图像 你可以使用这一功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=157) [但请注意](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=160) [你必须先](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=162) [打开网页检查器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=163) [因为它不能显示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=165) [已加载的图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=167) [最后 也是我](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=169) [最喜欢的特性 就是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=171) [检查按钮](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=173) [点击之后 就会显示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=174) [当前关注的视图中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=175) [所包含的临近元素](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=176) [如果你的元素树为收起状态](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=180) [网页检查器会将其展开](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=183) [找出具体元素 并高亮显示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=185) [要使用网页检查器 你可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=189) [下载并安装 macOS 的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=191) [最新版本 或安装](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=193) [Safari 技术预览版](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=195) [欲知更多关于使用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=197) [网页检查器的信息 可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=199) [观看我们去年的关于](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=201) [通过 tvOS App 来使用网页检查器的演讲](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=203) [接下来 我们谈谈数据绑定](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=208) [在我们谈到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=213) [具体的新特性之前](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=215) [我先来大概介绍一下数据绑定](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=216) [数据绑定借助](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=219) [模板标记文件中的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=220) [表达式 帮你将](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=222) [数据轻松转化为 UI 元素](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=224) [这很重要 因为](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=227) [这可以让数据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=228) [与布局逻辑](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=230) [和 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=232) [逻辑相分离](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=233) [因此 数据绑定](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=237) [模板可以减少](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=238) [模板可以减少](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=238) [将数据转换为 TVML 文稿时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=240) [所需的 JavaScript 代码量](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=242) [因为框架可以替你](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=244) [完成这项工作](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=246) [事实上 这种替你编写文稿的方式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=247) [能够确保最佳性能 你也不必](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=250) [担心该用什么 API](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=253) [我们来看一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=256) [具体的例子](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=257) [假如你想生成一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=259) [横幅 其中包括标题和描述](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=261) [这是不使用数据绑定的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=264) [通常做法](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=266) [首先 要获取](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=270) [显示给用户的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=272) [相关数据 本例中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=273) [就是标题和描述](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=275) [获取之后 要将数据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=278) [传递给一段写好的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=280) [JavaScript 代码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=282) [让代码来处理数据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=283) [并生成最终的文稿](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=285) [借助数据绑定](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=289) [就可以去掉 JavaScript 处理](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=292) [这一步 并在模板中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=293) [设置绑定参数](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=295) [TVMLKit 可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=297) [按照设置 替你填入数据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=298) [按照设置 替你填入数据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=298) [并生成文稿](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=300) [实际上 你的 App](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=302) [只需要负责](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=304) [获取和交换数据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=305) [完全不需要考虑编辑 DOM](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=308) [简而言之 这就是数据绑定如何工作](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=311) [以及它如何帮助你减少代码量](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=313) [去年 我们引入了数据绑定的概念](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=317) [以及其他核心概念 例如](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=320) [绑定元素属性](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=322) [绑定元素的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=323) [文本内容 当然](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=325) [还有将区块（section）中的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=328) [条目（items）绑定在搁架（shelf）网格](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=329) [或列表中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=331) [我们再用一个例子来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=333) [快速回顾这些概念](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=335) [这个数据绑定模板](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=339) [对应一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=340) [图像元素 其中的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=342) [绑定表达式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=343) [以 @ 开头 后面是属性名](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=345) [和想要绑定的特性](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=347) [接下来 我们来看看](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=350) [生成元素文本内容的例子](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=352) [这个例子中 标题元素](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=355) [有对应的数据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=357) [应当填充在元素中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=358) [应当填充在元素中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=358) [标题元素的数据绑定模板](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=363) [包含文本内容绑定](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=365) [以及这一绑定所映射的特性](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=367) [最后我们来谈谈条目绑定](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=373) [这种绑定方式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=375) [稍有不同 它涉及到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=377) [一组想要展示的数据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=379) [它仅适用于搁架 列表](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=381) [或网格中的区块](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=383) [这个例子中 有一个数组](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=386) [数据以树形列表条目的形式存在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=387) [最后的结果](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=391) [应当是一个由](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=392) [锁定的列表条目（listItemLockup）组成的区块](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=394) [区块对应的数据绑定模板](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=397) [应包括两项 分别是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=399) [条目的绑定及其所映射的特性](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=401) [以及一个原型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=403) [用来转化数组中的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=406) [数据对象](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=408) [这里 数据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=409) [绑定模板对应的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=411) [是锁定的列表条目](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=412) [这就是我们在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=415) [tvOS 11 中引入的树状绑定结构体](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=417) [欲知更多信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=419) [欲知更多信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=419) [请观看我们去年 WWDC 上名为](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=421) [Advances in TVMLKit 的会议](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=422) [今年 我们进一步扩充了功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=428) [首先 我们添加了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=431) [子元素绑定（children binding）](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=433) [以更接近原生的方式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=434) [绑定元素的子元素](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=437) [为方便你管理](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=439) [DOM 我们添加了一些](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=440) [特殊元素 即片段和规则](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=442) [这些我们会深入探讨](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=445) [让我们首先谈谈子元素绑定](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=447) [子元素绑定是一种](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=452) [更为原生的条目绑定](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=453) [条目绑定为一些](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=455) [特殊情境进行了优化 例如](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=457) [包含搁板 框架或列表的区块](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=459) [以更高效地](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=462) [处理大数据的集合](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=464) [它们可以在这些元素之外使用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=466) [其他情况下 使用子元素绑定](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=469) [背后的原因很简单](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=474) [子元素绑定能生成](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=476) [目标元素的子元素](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=477) [运作方式与条目绑定相同](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=482) [你需要使用原型 来定义](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=485) [数据转换成的元素 该元素将](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=489) [作为模板](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=493) [以生成最终的 DOM](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=495) [让我们举个例子 来解释工作原理](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=500) [让我回到之前](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=503) [数组中树状条目的例子](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=504) [数据与原来相同 但这次是三个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=507) [不同的菜单条目](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=512) [这些条目将用在菜单栏中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=514) [这是我们预期的最终结果](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=517) [大致是一个包含菜单栏树条目的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=520) [菜单栏](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=522) [这是构建模板的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=526) [非常简便的方式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=527) [可以看到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=530) [与条目绑定类似](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=532) [这里也使用了原型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=534) [将数据映射到元素 这里也有](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=536) [绑定表达式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=538) [唯一的区别在于 这里的元素](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=540) [不是区块](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=543) [子元素绑定 可以用于任何元素](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=545) [只要你希望自动生成](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=550) [全部子元素 这种解决方案](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=551) [就很好](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=553) [但有时 你可能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=555) [只想生成部分的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=556) [子元素](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=558) [例如 这个自动](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=559) [流传输 App 包含一个正在播放的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=560) [菜单条目（nowPlayingMenuItem）](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=562) [这是一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=564) [特殊菜单条目 应该](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=565) [常驻菜单栏 但是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=567) [仅在后台有音频](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=569) [播放时才显示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=572) [但这里 我们还是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=576) [希望菜单栏条目都能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=578) [绑定数据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=579) [为此 我们需要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=580) [将菜单栏划分为](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=582) [依赖数据与不依赖数据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=584) [两部分](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=586) [这里 我们就要运用片段](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=587) [那么 什么是片段呢](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=591) [片段是渲染器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=594) [不可见的隐形元素](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=596) [它可以帮助你管理 DOM](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=598) [它可以帮助你管理 DOM](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=598) [但片段的特殊之处](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=601) [就在于 它的子元素是可见的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=602) [又因为片段是元素](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=608) [而子元素绑定可以应用于任何](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=610) [元素 因此片段可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=612) [应用子元素绑定](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=614) [我们再回到我们想要的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=618) [数据最终形态 以及](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=619) [数据的初始状态](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=621) [这里有菜单栏条目](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=623) [很适合放在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=625) [片段中 这一点很棒](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=627) [因为这样 我们就可以应用子元素绑定了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=629) [现在 我们将](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=634) [绑定数据的部分放在](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=636) [片段中 菜单栏仍然保留正在播放](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=638) [菜单条目](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=641) [因为渲染器只能看到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=642) [片段的子元素](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=644) [这段代码仍能渲染成](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=645) [格式正确的菜单栏](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=648) [对于用来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=652) [映射到 UI](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=653) [元素的数据本身](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=656) [可能的情况是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=658) [可能的情况是](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=658) [有些数据保持不变](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=660) [有些则始终变化](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=662) [比方说](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=665) [这段代码 对应](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=667) [一个有封面图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=670) [有标题 还有播放进度的视频](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=672) [有时候 我们想](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=677) [基于这些信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=679) [来显示不同的 UI](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=681) [如果还没有](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=683) [开始播放 进度](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=685) [自然为零 只显示](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=687) [视频的封面图像](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=689) [和视频的标题就可以了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=691) [但如果我们开始看](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=696) [视频 播放进度自然](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=697) [会大于零](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=699) [为此 我们既要显示不变的元素](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=701) [即封面图像和标题](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=704) [还要凸显出](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=707) [视频正在播放](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=708) [也就是要显示进度条 随着播放进度的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=711) [百分比进展 而逐渐填满](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=713) [同样地 我们现在有两种使用情景 它们的数据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=717) [同样地 我们现在有两种使用情景 它们的数据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=717) [不同 同时我们也想](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=720) [显示不同的外观](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=722) [第一种情境中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=725) [我们有锁定的图像和标题](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=726) [第二种情境中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=729) [我们添加了额外的一个叠层和进度条](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=731) [一般来说](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=737) [App 逻辑会根据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=737) [数据 生成不同的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=739) [x 值 但借助规则](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=741) [你可以用一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=744) [静态模板 生成](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=745) [任何一种](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=747) [最终文稿](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=748) [那么 什么是规则](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=751) [规则使用数据状态](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=752) [来重新生成最终文档](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=755) [从而改善 UI](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=758) [规则是不可见元素](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=761) [渲染器看不到规则](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=763) [但规则却可以影响正在生成的文稿](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=765) [规则内的任何操作](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=769) [都会应用于](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=770) [规则所在的姊妹元素](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=773) [要展示这一点](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=776) [最好的办法是举例](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=777) [展示设置过程](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=779) [展示设置过程](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=779) [我们来看看 需要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=782) [什么样的规则 才能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=784) [构建我们想要的原型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=786) [实现刚才例子中的效果](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=788) [首先 我们将原型](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=790) [定义为 UI 预期外观的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=791) [最小公约数](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=793) [也就是最基本单位](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=795) [这里就包括](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=797) [图像和标题](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=798) [但你可能还注意到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=801) [我们还为进度条](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=803) [准备了占位符](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=805) [占位符也是一种](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=806) [特殊元素 它对渲染器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=808) [不可见 这个例子中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=809) [规则会将占位符](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=811) [作为数据状态符合时的替换目标](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=812) [现在 我们将规则加入](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=816) [这组规则应用于姊妹元素](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=820) [包裹在 rules 标签中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=822) [匹配数据状态的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=827) [单个规则会封装成](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=828) [特定元素](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=831) [一旦匹配特定数据状态](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=834) [特定元素就会生效](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=836) [而匹配的方式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=840) [则是利用状态属性的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=841) [查询指令](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=843) [如果数据状态匹配](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=847) [那么特定元素的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=849) [子元素便成为](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=850) [应用于规则姊妹元素的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=852) [一系列操作](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=854) [这里 我们希望](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=856) [占位符能够被](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=858) [叠层元素及其子元素取代](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=859) [TVMLKit 分析元素的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=865) [标签属性 从而](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=867) [匹配被取代的元素](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=869) [实际取代过程中](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=871) [首先会匹配标签](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=873) [之后会比较元素的名称](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=875) [如果元素名不同 它便会将元素](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=878) [完全取代 这里](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=880) [占位符变成了叠层](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=883) [但如果元素名](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=885) [匹配 新内容](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=887) [就会添加到已有内容之后](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=889) [现在 我们就有了一个简单的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=893) [规则模板 可以根据](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=895) [提供的数据状态 生成](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=896) [两种不同的输出](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=898) [两种不同的输出](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=898) [实际上 你可以调用](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=902) [App 逻辑 来决定](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=904) [元素如何显示 并生成](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=905) [专门的静态模板](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=907) [应用于将要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=909) [转化为 UI 的各种元素](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=911) [接下来换个话题 我们来](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=915) [谈谈 TVMLKit 中的播放](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=916) [TVMLKit 早就提供了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=919) [扩展接口 方便你](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=920) [自定义 UI](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=922) [包括个别界面](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=924) [和整套模板](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=926) [tvOS 12 中 我们将这一功能](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=929) [扩展到回放流程](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=931) [让你完全控制播放体验](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=932) [以及相关的其他用户体验](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=934) [这些功能适用于](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=941) [现有的不同播放风格](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=944) [既包括嵌入式播放](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=945) [也包括全屏播放](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=947) [为此 你需要提供](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=951) [TVPlayer 对象 以及与其](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=953) [相关的 UI  作为 UIViewController](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=955) [这很类似](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=961) [JavaScript 的 API](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=963) [与你们的 JavaScript](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=964) [开发者沟通时 能省去不少麻烦](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=966) [最后 我们还提供了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=969) [有限 JavaScript 桥](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=971) [（Limited JavaScript Bridge）](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=973) [该功能可以连通](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=973) [原生代码和 JavaScript 代码](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=975) [我们来谈谈 TVPlayer](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=980) [这是自定义](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=983) [播放体验的基础](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=985) [TVPlayer 是一个 AVPlayer](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=988) [公共适配器 适配于回放](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=992) [流程（Playback Pipeline）](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=993) [这意味着 TVPlayer](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=995) [可以转换一般的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=996) [AVPlayer 回调](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=998) [并由 JavaScript 接收](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1000) [TVPlayer 还可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1005) [将自定义事件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1007) [发送给 JavaScript](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1008) [默认情况下 它可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1011) [将 AVPlayer 的事件作为](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1012) [播放事件处理](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1014) [其他事件都由你来发送](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1015) [JavaScript 为播放器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1022) [作出的改动均为 KVO 可观察](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1023) [你可以知道](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1025) [你的 JavaScript 开发者 进行了哪些改动](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1026) [最后 TVPlayer 对象](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1029) [播放媒体时会按照](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1031) [顺序 从第一个媒体](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1033) [一直播放到](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1035) [播放列表中最后一个媒体](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1036) [无论是否需要播放器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1040) [TV Application Controller Delegate](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1042) [都会要求 TVPlayer](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1044) [你需要返回一个实例](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1045) [才能参与](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1047) [回放流程](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1049) [回放流程的下一步](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1054) [就是要将回放](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1055) [以 UI 的形式](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1056) [显示在屏幕上](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1057) [这随时可能发生](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1059) [可以是全屏回放 也可以是嵌入式回放](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1062) [你完全可以](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1065) [创建自己的 UI](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1067) [如果 TVMLKit 需要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1069) [UI 那么 TVInterfaceCreating](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1071) [就会要求获得](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1073) [一个视图控制器（view controller）](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1074) [TVInterfaceCreating 还会向视图控制器](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1076) [传递对 TVPlayer 的引用 负责](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1078) [传递对 TVPlayer 的引用 负责](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1078) [在视图中播放媒体](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1080) [接下来 使用 TVPlayer](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1084) [及与其相关的 UI 时](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1085) [有一些事情需要注意](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1087) [首先 你应当](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1092) [亲自处理所有 'should' 事件](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1093) [这类事件一般](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1096) [与广告相关 基本是一个](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1097) [UI 方面的问题](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1099) [应当由你的](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1100) [原生代码处理](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1102) [如果你使用 FairPlay 加密](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1105) [视频播放](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1107) [你需要使用 AVContentKeySession](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1109) [来加载密钥](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1112) [欲知更多关于](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1114) [AVContentKeySession 的信息 请观看](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1116) [我们去年的讲座](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1118) [Advances in HTTP Live Streaming 以及](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1119) [今年的一场关于](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1122) [AVContentKeySession 最佳](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1123) [实践的讲座](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1124) [最后 如果你的 JavaScript](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1127) [开发者使用叠层和](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1129) [互动叠层 这些必须要](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1131) [进行设置](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1133) [这些属于 UI 既然](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1135) [你要构建自己的 UI](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1136) [就需要亲自处理](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1137) [总之 我们为](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1144) [TVMLKit 和 tvOS 12 做出了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1146) [如下改动 首先](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1150) [数据绑定更为](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1151) [强大 你可以借此构建](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1153) [任何依赖数据的模板](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1155) [我们鼓励大家 一定要试一试](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1158) [其次 如果你一直希望](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1161) [能够自定义](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1162) [回放体验](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1164) [现在你就可以通过实现](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1166) [自己的原生回放来体验了](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1167) [欲知更多关于本会议的信息](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1171) [请访问屏幕上的网站](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1172) [谢谢大家参加 2018 年 WWDC](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1177) [谢谢](https://developer.apple.com/videos/wwdc2018/videos/play/wwdc2018/238/?time=1181)